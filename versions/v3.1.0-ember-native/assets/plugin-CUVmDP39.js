import{g as e}from"./_commonjsHelpers-lGe4XDVY.js";function t(e,t){for(var r=0;r<t.length;r++){const s=t[r];if("string"!=typeof s&&!Array.isArray(s))for(const t in s)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(s,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>s[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var r,s,n,i={},a={},o={},l={},c={},h={};function u(){return n||(n=1,Object.defineProperty(h,"__esModule",{value:!0}),h.astNodeHasBinding=function(e,t){var r;let s=e;for(;s;){let e=null===(r=s.parent)||void 0===r?void 0:r.node;if("ElementNode"===(null==e?void 0:e.type)&&e.blockParams.includes(t)&&e.children.includes(s.node))return!0;if("Block"===(null==e?void 0:e.type)&&e.blockParams.includes(t)&&e.body.includes(s.node))return!0;s=s.parent}return!1}),h}var p,d,m,f={};function g(){return d||(d=1,function(e){var t,r,s,n,i,a=c&&c.__classPrivateFieldSet||function(e,t,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r},o=c&&c.__classPrivateFieldGet||function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};Object.defineProperty(e,"__esModule",{value:!0}),e.ScopeLocals=e.ALLOWED_GLOBALS=void 0;const l=u(),h=function(){if(p)return f;p=1,Object.defineProperty(f,"__esModule",{value:!0}),f.readOnlyArray=function(t,r="Forbidden array mutation"){return new Proxy(t,{get:(t,s)=>"string"==typeof s&&e.includes(s)?()=>{throw new Error(r)}:Reflect.get(t,s),set(e,t){throw new Error(r)},deleteProperty(){throw new Error(r)}})};const e=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"];return f}();e.ALLOWED_GLOBALS=new Set(["globalThis","Atomics","JSON","Math","Reflect","localStorage","sessionStorage","isNaN","isFinite","parseInt","parseFloat","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","postMessage","structuredClone","Array","BigInt","Boolean","Date","Number","Object","String","Infinity","NaN","isSecureContext"]),e.ScopeLocals=class{constructor(e){t.add(this),r.set(this,{}),s.set(this,[]),n.set(this,void 0),a(this,n,e,"f")}get locals(){return(0,h.readOnlyArray)(o(this,s,"f"),"The only supported way to manipulate locals is via the jsutils API\nhttps://github.com/emberjs/babel-plugin-ember-template-compilation#jsutils-manipulating-javascript-from-within-ast-transforms")}has(e){return e in o(this,r,"f")}get(e){return o(this,r,"f")[e]}isEmpty(){return 0===o(this,s,"f").length}entries(){return Object.entries(o(this,r,"f"))}add(e,t){o(this,r,"f")[e]=null!=t?t:e,o(this,s,"f").includes(e)||o(this,s,"f").push(e)}crawl(){return()=>{let e;return{name:"scope-locals-crawl",visitor:{Template:{enter:()=>{e=new Set},exit:()=>{if("implicit"===o(this,n,"f").mode)for(let r of e)"this"===r?o(this,n,"f").mayUseLexicalThis&&this.add(r):o(this,t,"m",i).call(this,r,o(this,n,"f").jsPath)&&this.add(r);else for(let t of Object.keys(o(this,r,"f")))e.has(t)||(o(this,s,"f").splice(o(this,s,"f").indexOf(t),1),delete o(this,r,"f")[t])}},PathExpression:(t,r)=>{switch(t.head.type){case"ThisHead":(0,l.astNodeHasBinding)(r,"this")||e.add("this");break;case"VarHead":{const s=t.head.name;(0,l.astNodeHasBinding)(r,s)||e.add(s)}}},ElementNode:(t,r)=>{const s=t.tag.split(".")[0];(0,l.astNodeHasBinding)(r,s)||e.add(s)}}}}}},r=new WeakMap,s=new WeakMap,n=new WeakMap,t=new WeakSet,i=function(t,s){var n;let i=null!==(n=o(this,r,"f")[t])&&void 0!==n?n:t;return e.ALLOWED_GLOBALS.has(i)||s.scope.getBinding(i)}}(c)),c}var b,y,v,w,k={},S={},E={},x=(w||(w=1,function(e){var t=i&&i.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=i&&i.__exportStar||function(e,r){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(r,s)||t(r,e,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.makePlugin=x;const c=function(){if(s)return a;s=1,Object.defineProperty(a,"__esModule",{value:!0}),a.ImportUtil=void 0;const e=function(){if(r)return o;r=1,Object.defineProperty(o,"__esModule",{value:!0}),o.sanitize=void 0,o.sanitize=function(t){let r=t.replace(new RegExp(`(?<!^)(?:${e.source})([a-z])`,"g"),(e,t)=>t.toUpperCase());return r=r.replace(new RegExp(e.source,"g"),""),r};const e=/^[^a-zA-Z_$]|(?<=.)[^a-zA-Z_$0-9]/;return o}();function t(t,r,s){return t?(0,e.sanitize)(t):"default"===r||"*"===r?null!=s?s:"a":r}function n(e){return(null==e?void 0:e.isIdentifier())?e.node.name:e?e.scope.generateUidIdentifierBasedOnNode(e.node).name:void 0}function i(e,t){switch(t){case"default":return e.isImportDefaultSpecifier();case"*":return e.isImportNamespaceSpecifier();default:return e.isImportSpecifier()&&("StringLiteral"===(r=e.node.imported).type?r.value:r.name)===t}var r}function l(e,t){return e.isImportDeclaration()&&e.get("source").node.value===t}return a.ImportUtil=class{constructor(e,t){this.babel=e,this.program=t,this.t=e.types}removeImport(e,t){for(let r of this.program.get("body")){if(!l(r,e))continue;let s=r.get("specifiers").find(e=>i(e,t));s&&(1===r.node.specifiers.length?r.remove():s.remove())}}removeAllImports(e){for(let t of this.program.get("body"))l(t,e)&&t.remove()}import(e,r,s,i){return this.unreferencedImport(e,r,s,t(i,s,n(e)))}unreferencedImport(e,t,r,s){var n;let a="*"===r,o=!("default"===r||a),l=this.findImportFrom(t),c=null==l?void 0:l.node.specifiers.find(e=>"ImportNamespaceSpecifier"===e.type);if(!((null==l?void 0:l.node.specifiers.find(e=>"ImportSpecifier"===e.type))&&a||c&&o||c&&a)&&l){let t=l.get("specifiers").find(e=>i(e,r));return t&&"module"===(null===(n=e.scope.getBinding(t.node.local.name))||void 0===n?void 0:n.kind)?this.t.identifier(t.node.local.name):this.addSpecifier(e,l,r,s)}{let n=this.insertAfterExistingImports(this.t.importDeclaration([],this.t.stringLiteral(t)));return this.addSpecifier(e,n,r,s)}}importForSideEffect(e){this.findImportFrom(e)||this.insertAfterExistingImports(this.t.importDeclaration([],this.t.stringLiteral(e)))}replaceWith(e,t){return this.mutate(r=>(e.replaceWith(t(r)),e),n(e))}insertAfter(e,t){return this.mutate(r=>e.insertAfter(t(r))[0],n(e))}insertBefore(e,t){return this.mutate(r=>e.insertBefore(t(r))[0],n(e))}mutate(e,r){let s=new Map;const n=e=>{if(!e.isIdentifier())return;let n=s.get(e.node);if(n){let s=this.unreferencedImport(e,n.moduleSpecifier,n.exportedName,t(n.nameHint,n.exportedName,r));e.replaceWith(s);let i=e.scope.getBinding(s.name);if(!i)throw new Error("bug: this is supposed to never happen");i.reference(e)}};let i=e({import:(e,t,r)=>{let n=this.t.identifier("__babel_import_util_placeholder__");return s.set(n,{moduleSpecifier:e,exportedName:t,nameHint:r}),n}});return n(i),this.babel.traverse(i.node,{ReferencedIdentifier:e=>{n(e)}},i.scope,{},i),i}addSpecifier(e,t,r,s){let n,i=this.t.identifier(function(e,t){let r=t,s=0;for(;e.scope.hasBinding(r);)r=`${t}${s++}`;return r}(e,s)),a=this.buildSpecifier(r,i);return"ImportDefaultSpecifier"===a.type?(t.node.specifiers.unshift(a),n=t.get("specifiers.0")):(t.node.specifiers.push(a),n=t.get("specifiers."+(t.node.specifiers.length-1))),t.scope.registerBinding("module",n),i}buildSpecifier(e,t){switch(e){case"default":return this.t.importDefaultSpecifier(t);case"*":return this.t.importNamespaceSpecifier(t);default:return this.t.importSpecifier(t,this.t.identifier(e))}}findImportFrom(e){for(let t of this.program.get("body"))if(t.isImportDeclaration()&&t.node.source.value===e&&"type"!==t.node.importKind)return t}insertAfterExistingImports(e){let t;for(let[r,s]of this.program.node.body.entries())"ImportDeclaration"===s.type&&(t=r);return null==t?(this.program.node.body.unshift(e),this.program.get("body.0")):(this.program.node.body.splice(t+1,0,e),this.program.get(`body.${t+1}`))}},a}(),h=function(){if(m)return l;m=1,Object.defineProperty(l,"__esModule",{value:!0}),l.ExpressionParser=void 0;const e=g();function t(e){return"StringLiteral"===e.type?e.value:e.name}return l.ExpressionParser=class{constructor(e){this.babel=e}parseExpression(e,t){switch(t.node.type){case"ObjectExpression":return this.parseObjectExpression(e,t);case"ArrayExpression":return this.parseArrayExpression(e,t);case"StringLiteral":case"BooleanLiteral":case"NumericLiteral":return t.node.value;default:throw t.buildCodeFrameError(`${e} can only accept static options but you passed ${JSON.stringify(t.node)}`)}}parseArrayExpression(e,t){return t.get("elements").map(t=>{if(t.isSpreadElement())throw t.buildCodeFrameError("spread element is not allowed here");return t.isExpression()?this.parseExpression(e,t):null})}parseScope(r,s){let n,i;if("ObjectMethod"===s.node.type)n=s.node.body;else{let{value:e}=s.node;if(this.t.isObjectExpression(e))throw s.buildCodeFrameError("Passing an object as the `scope` property to inline templates is no longer supported. Please pass a function that returns an object expression instead.");(this.t.isFunctionExpression(e)||this.t.isArrowFunctionExpression(e))&&(n=e.body)}if("ObjectExpression"===(null==n?void 0:n.type))i=n;else if("BlockStatement"===(null==n?void 0:n.type)){let e=n.body.filter(e=>"ReturnStatement"===e.type);if(1!==e.length)throw new Error("Scope functions must have a single return statement which returns an object expression containing references to in-scope values");i=e[0].argument}if("ObjectExpression"!==(null==i?void 0:i.type))throw s.buildCodeFrameError(`Scope objects for \`${r}\` must be an object expression containing only references to in-scope values, or a function that returns an object expression containing only references to in-scope values`);return i.properties.reduce((e,n)=>{if(this.t.isSpreadElement(n))throw s.buildCodeFrameError(`Scope objects for \`${r}\` may not contain spread elements`);if(this.t.isObjectMethod(n))throw s.buildCodeFrameError(`Scope objects for \`${r}\` may not contain methods`);let{key:i,value:a}=n;if(!this.t.isStringLiteral(i)&&!this.t.isIdentifier(i))throw s.buildCodeFrameError(`Scope objects for \`${r}\` may only contain static property names`);let o=t(i);switch(a.type){case"Identifier":e.add(o,a.name);break;case"ThisExpression":e.add(o,"this");break;default:throw s.buildCodeFrameError(`Scope objects for \`${r}\` may only contain direct references to in-scope values, e.g. { ${o} } or { ${o}: ${o} }. Found ${a.type}`)}return e},new e.ScopeLocals({mode:"explicit"}))}parseEval(e,t){let r;if(t.isObjectMethod())r=t.get("body");else{if(!t.isObjectProperty())throw t.buildCodeFrameError(`unsupported syntax for \`eval\` parameter to \`${e}\`. It must be an object method or a function.`);{let s=t.get("value");if(!s.isFunctionExpression())throw t.buildCodeFrameError(`unsupported syntax for \`eval\` parameter to \`${e}\`. It must be an object method or a function.`);r=s.get("body")}}let s=r.get("body").filter(e=>e.isReturnStatement());if(1!==s.length)throw r.buildCodeFrameError("eval function must have a single return statement");let n=s[0].get("argument");if(!n.isCallExpression())throw s[0].buildCodeFrameError("eval function must return `eval(arguments[0])`. Found non-CallExpression.");let i=n.get("callee");if(!i.isIdentifier()||"eval"!==i.node.name)throw n.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found callee is not eval.");let a=n.get("arguments");if(1!==a.length)throw n.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found incorrect number of arguments.");let o=a[0];if(!o.isMemberExpression())throw o.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found argument is non-MemberExpression.");let l=o.get("object");if(!l.isIdentifier()||"arguments"!==l.node.name)throw l.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found wrong argument to eval.");let c=o.get("property");if(!c.isNumericLiteral()||0!==c.node.value)throw c.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found wrong property.");return{isEval:!0}}parseObjectExpression(e,r,s=!1,n=!1){let i={};return r.get("properties").forEach(r=>{let{node:a}=r;if(this.t.isSpreadElement(a))throw r.buildCodeFrameError(`${e} does not allow spread element`);if(a.computed)throw r.buildCodeFrameError(`${e} can only accept static property names`);let{key:o}=a;if(!this.t.isIdentifier(o)&&!this.t.isStringLiteral(o))throw r.buildCodeFrameError(`${e} can only accept static property names`);let l=t(o);if(s&&"scope"===l)i.scope=this.parseScope(e,r);else if(n&&"eval"===l)i.eval=this.parseEval(e,r);else if(n&&"component"===l)i.component=r.get("value");else{if(this.t.isObjectMethod(a))throw r.buildCodeFrameError(`${e} does not accept a method for ${l}`);let t=r.get("value");if(!t.isExpression())throw t.buildCodeFrameError("must be an expression");i[l]=this.parseExpression(e,t)}}),i}get t(){return this.babel.types}},l}(),p=function(){if(b)return k;b=1;var e,t,r,s,n,i,a,o,l,c,h=k&&k.__classPrivateFieldSet||function(e,t,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r},p=k&&k.__classPrivateFieldGet||function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};Object.defineProperty(k,"__esModule",{value:!0}),k.JSUtils=void 0;const d=u();function m(e,t){let r=e,s=0;for(;t(r);)r=`${e}${s++}`;return r}k.JSUtils=class{constructor(a,o,l,c,u){if(e.add(this),t.set(this,void 0),r.set(this,void 0),s.set(this,void 0),n.set(this,void 0),i.set(this,void 0),h(this,t,a,"f"),h(this,r,o,"f"),h(this,s,l,"f"),h(this,n,c,"f"),h(this,i,u,"f"),!p(this,r,"f").lastInsertedPath){let e;for(let t of p(this,r,"f").program.get("body")){if(!t.isImportDeclaration())break;e=t}e&&(p(this,r,"f").lastInsertedPath=e)}}bindExpression(i,l,c){var h;let u=m(null!==(h=null==c?void 0:c.nameHint)&&void 0!==h?h:"a",e=>p(this,s,"f").scope.hasBinding(e)||(0,d.astNodeHasBinding)(l,e)),f=p(this,t,"f").types,g=p(this,e,"m",a).call(this,f.variableDeclaration("let",[f.variableDeclarator(f.identifier(u),p(this,e,"m",o).call(this,p(this,r,"f").program,i))]));return g.scope.registerBinding("let",g.get("declarations.0")),p(this,n,"f").call(this,u),u}bindImport(r,o,l,c){let h=p(this,i,"f").import(p(this,s,"f"),r,o,null==c?void 0:c.nameHint);if(!(0,d.astNodeHasBinding)(l,h.name))return p(this,n,"f").call(this,h.name),h.name;let u=m(h.name,e=>p(this,s,"f").scope.hasBinding(e)||(0,d.astNodeHasBinding)(l,e)),f=p(this,t,"f").types,g=p(this,e,"m",a).call(this,f.variableDeclaration("let",[f.variableDeclarator(f.identifier(u),h)]));return g.scope.registerBinding("let",g.get("declarations.0")),p(this,n,"f").call(this,u),u}importForSideEffect(e){p(this,i,"f").importForSideEffect(e)}emitExpression(s){let n=p(this,t,"f").types;p(this,e,"m",a).call(this,n.expressionStatement(p(this,e,"m",o).call(this,p(this,r,"f").program,s)))}},t=new WeakMap,r=new WeakMap,s=new WeakMap,n=new WeakMap,i=new WeakMap,e=new WeakSet,a=function(e){return p(this,r,"f").lastInsertedPath?p(this,r,"f").lastInsertedPath=p(this,r,"f").lastInsertedPath.insertAfter(e)[0]:p(this,r,"f").lastInsertedPath=p(this,r,"f").program.unshiftContainer("body",e)[0],p(this,r,"f").lastInsertedPath},o=function(e,r){let s;s="string"==typeof r?r:r(new f(p(this,i,"f"),e));let n=p(this,t,"f").parse(s);if(!n)throw new Error(`JSUtils.bindExpression could not understand the expression: ${s}`);let a="File"===(o=n).type?o.program.body:o.body;var o;if(1!==a.length)throw new Error(`JSUtils.bindExpression expected to find exactly one expression but found ${a.length} in: ${s}`);let l=a[0];if("ExpressionStatement"!==l.type)throw new Error(`JSUtils.bindExpression expected to find an expression but found ${l.type} in: ${s}`);return l.expression};class f{constructor(e,t){l.set(this,void 0),c.set(this,void 0),h(this,l,e,"f"),h(this,c,t,"f")}import(e,t,r){return p(this,l,"f").import(p(this,c,"f"),e,t,r).name}}return l=new WeakMap,c=new WeakMap,k}(),d=g(),f=function(){if(y)return S;y=1;const e=/["\x26\xa0]/u,t=new RegExp(e.source,"gu"),r=/[&<>\xa0]/u,s=new RegExp(r.source,"gu");function n(e){switch(e.charCodeAt(0)){case 160:return"&nbsp;";case 34:return"&quot;";case 38:return"&amp;";default:return e}}function i(e){switch(e.charCodeAt(0)){case 160:return"&nbsp;";case 38:return"&amp;";case 60:return"&lt;";case 62:return"&gt;";default:return e}}function a(r){return e.test(r)?r.replace(t,n):r}function o(e,t){return e.loc.isInvisible||t.loc.isInvisible?0:e.loc.startPosition.line<t.loc.startPosition.line||e.loc.startPosition.line===t.loc.startPosition.line&&e.loc.startPosition.column<t.loc.startPosition.column?-1:e.loc.startPosition.line===t.loc.startPosition.line&&e.loc.startPosition.column===t.loc.startPosition.column?0:1}const l=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),c=/^\S/u;function h(e){return l.has(e.toLowerCase())&&e[0]?.toLowerCase()===e[0]}class u{constructor(e){this.buffer="",this.options=e}handledByOverride(e,t=!1){if(void 0!==this.options.override){let r=this.options.override(e,this.options);if("string"==typeof r)return t&&c.test(r)&&(r=` ${r}`),this.buffer+=r,!0}return!1}Node(e){switch(e.type){case"MustacheStatement":case"BlockStatement":case"MustacheCommentStatement":case"CommentStatement":case"TextNode":case"ElementNode":case"AttrNode":case"Block":case"Template":return this.TopLevelStatement(e);case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":case"PathExpression":case"SubExpression":return this.Expression(e);case"ConcatStatement":return this.ConcatStatement(e);case"Hash":return this.Hash(e);case"HashPair":return this.HashPair(e);case"ElementModifierStatement":return this.ElementModifierStatement(e)}}Expression(e){switch(e.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return this.Literal(e);case"PathExpression":return this.PathExpression(e);case"SubExpression":return this.SubExpression(e)}}Literal(e){switch(e.type){case"StringLiteral":return this.StringLiteral(e);case"BooleanLiteral":return this.BooleanLiteral(e);case"NumberLiteral":return this.NumberLiteral(e);case"UndefinedLiteral":return this.UndefinedLiteral(e);case"NullLiteral":return this.NullLiteral(e)}}TopLevelStatement(e){switch(e.type){case"MustacheStatement":return this.MustacheStatement(e);case"BlockStatement":return this.BlockStatement(e);case"MustacheCommentStatement":return this.MustacheCommentStatement(e);case"CommentStatement":return this.CommentStatement(e);case"TextNode":return this.TextNode(e);case"ElementNode":return this.ElementNode(e);case"Block":return this.Block(e);case"Template":return this.Template(e);case"AttrNode":return this.AttrNode(e)}}Template(e){this.TopLevelStatements(e.body)}Block(e){e.chained&&(e.body[0].chained=!0),this.handledByOverride(e)||this.TopLevelStatements(e.body)}TopLevelStatements(e){e.forEach(e=>this.TopLevelStatement(e))}ElementNode(e){this.handledByOverride(e)||(this.OpenElementNode(e),this.TopLevelStatements(e.children),this.CloseElementNode(e))}OpenElementNode(e){this.buffer+=`<${e.tag}`;const t=[...e.attributes,...e.modifiers,...e.comments].sort(o);for(const r of t)switch(this.buffer+=" ",r.type){case"AttrNode":this.AttrNode(r);break;case"ElementModifierStatement":this.ElementModifierStatement(r);break;case"MustacheCommentStatement":this.MustacheCommentStatement(r)}e.blockParams.length&&this.BlockParams(e.blockParams),e.selfClosing&&(this.buffer+=" /"),this.buffer+=">"}CloseElementNode(e){e.selfClosing||h(e.tag)||(this.buffer+=`</${e.tag}>`)}AttrNode(e){if(this.handledByOverride(e))return;let{name:t,value:r}=e;this.buffer+=t,!t.startsWith("@")&&"TextNode"==r.type&&0===r.chars.length||(this.buffer+="=",this.AttrNodeValue(r))}AttrNodeValue(e){if("TextNode"===e.type){let t='"';"raw"===this.options.entityEncoding&&e.chars.includes('"')&&!e.chars.includes("'")&&(t="'"),this.buffer+=t,this.TextNode(e,t),this.buffer+=t}else this.Node(e)}TextNode(e,t){this.handledByOverride(e)||("raw"===this.options.entityEncoding?t&&e.chars.includes(t)?this.buffer+=a(e.chars):this.buffer+=e.chars:this.buffer+=t?a(e.chars):function(e){return r.test(e)?e.replace(s,i):e}(e.chars))}MustacheStatement(e){this.handledByOverride(e)||(this.buffer+=e.trusting?"{{{":"{{",e.strip.open&&(this.buffer+="~"),this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),e.strip.close&&(this.buffer+="~"),this.buffer+=e.trusting?"}}}":"}}")}BlockStatement(e){this.handledByOverride(e)||(e.chained?(this.buffer+=e.inverseStrip.open?"{{~":"{{",this.buffer+="else "):this.buffer+=e.openStrip.open?"{{~#":"{{#",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),e.program.blockParams.length&&this.BlockParams(e.program.blockParams),e.chained?this.buffer+=e.inverseStrip.close?"~}}":"}}":this.buffer+=e.openStrip.close?"~}}":"}}",this.Block(e.program),e.inverse&&(e.inverse.chained||(this.buffer+=e.inverseStrip.open?"{{~":"{{",this.buffer+="else",this.buffer+=e.inverseStrip.close?"~}}":"}}"),this.Block(e.inverse)),e.chained||(this.buffer+=e.closeStrip.open?"{{~/":"{{/",this.Expression(e.path),this.buffer+=e.closeStrip.close?"~}}":"}}"))}BlockParams(e){this.buffer+=` as |${e.join(" ")}|`}ConcatStatement(e){this.handledByOverride(e)||(this.buffer+='"',e.parts.forEach(e=>{"TextNode"===e.type?this.TextNode(e,'"'):this.Node(e)}),this.buffer+='"')}MustacheCommentStatement(e){this.handledByOverride(e)||(this.buffer+=`{{!--${e.value}--}}`)}ElementModifierStatement(e){this.handledByOverride(e)||(this.buffer+="{{",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),this.buffer+="}}")}CommentStatement(e){this.handledByOverride(e)||(this.buffer+=`\x3c!--${e.value}--\x3e`)}PathExpression(e){this.handledByOverride(e)||(this.buffer+=e.original)}SubExpression(e){this.handledByOverride(e)||(this.buffer+="(",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),this.buffer+=")")}Params(e){e.length&&e.forEach(e=>{this.buffer+=" ",this.Expression(e)})}Hash(e){this.handledByOverride(e,!0)||e.pairs.forEach(e=>{this.buffer+=" ",this.HashPair(e)})}HashPair(e){this.handledByOverride(e)||(this.buffer+=e.key,this.buffer+="=",this.Node(e.value))}StringLiteral(e){this.handledByOverride(e)||(this.buffer+=JSON.stringify(e.value))}BooleanLiteral(e){this.handledByOverride(e)||(this.buffer+=String(e.value))}NumberLiteral(e){this.handledByOverride(e)||(this.buffer+=String(e.value))}UndefinedLiteral(e){this.handledByOverride(e)||(this.buffer+="undefined")}NullLiteral(e){this.handledByOverride(e)||(this.buffer+="null")}print(e){let{options:t}=this;if(t.override){let r=t.override(e,t);if(void 0!==r)return r}return this.buffer="",this.Node(e),this.buffer}}function p(e,t={entityEncoding:"transformed"}){return e?new u(t).print(e):""}function d(e,t){return e in m&&(void 0===t||m[e].includes(t))}const m={action:["Call","Modifier"],component:["Call","Append","Block"],debugger:["Append"],"each-in":["Block"],each:["Block"],"has-block-params":["Call","Append"],"has-block":["Call","Append"],helper:["Call","Append"],if:["Call","Append","Block"],"in-element":["Block"],let:["Block"],log:["Call","Append"],modifier:["Call","Modifier"],mount:["Append"],mut:["Call","Append"],outlet:["Append"],readonly:["Call","Append"],unbound:["Call","Append"],unless:["Call","Append","Block"],yield:["Append"]};function f(e){return e}function g(e){return!!e&&e.length>0}function b(e){return 0===e.length?void 0:e[e.length-1]}function v(e){return 0===e.length?void 0:e[0]}function w(){return Object.create(null)}const k=Object.assign,E=console;var x=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function T(e,t){var r,s,n,i,a=t&&t.loc;a&&(r=a.start.line,s=a.end.line,n=a.start.column,i=a.end.column,e+=" - "+r+":"+n);for(var o=Error.prototype.constructor.call(this,e),l=0;l<x.length;l++)this[x[l]]=o[x[l]];Error.captureStackTrace&&Error.captureStackTrace(this,T);try{a&&(this.lineNumber=r,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:n,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:i,enumerable:!0})):(this.column=n,this.endColumn=i))}catch(c){}}function N(){this.parents=[]}function P(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function A(e){P.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function C(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function L(e){void 0===e&&(e={}),this.options=e}function O(e,t,r){void 0===t&&(t=e.length);var s=e[t-1],n=e[t-2];return s?"ContentStatement"===s.type?(n||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(s.original):void 0:r}function B(e,t,r){void 0===t&&(t=-1);var s=e[t+1],n=e[t+2];return s?"ContentStatement"===s.type?(n||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(s.original):void 0:r}function D(e,t,r){var s=e[null==t?0:t+1];if(s&&"ContentStatement"===s.type&&(r||!s.rightStripped)){var n=s.value;s.value=s.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),s.rightStripped=s.value!==n}}function _(e,t,r){var s=e[null==t?e.length-1:t-1];if(s&&"ContentStatement"===s.type&&(r||!s.leftStripped)){var n=s.value;return s.value=s.value.replace(r?/\s+$/:/[ \t]+$/,""),s.leftStripped=s.value!==n,s.leftStripped}}T.prototype=new Error,N.prototype={constructor:N,mutating:!1,acceptKey:function(e,t){var r=this.accept(e[t]);if(this.mutating){if(r&&!N.prototype[r.type])throw new T('Unexpected node type "'+r.type+'" found when accepting '+t+" on "+e.type);e[t]=r}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new T(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,r=e.length;t<r;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,r--)},accept:function(e){if(e){if(!this[e.type])throw new T("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:P,Decorator:P,BlockStatement:A,DecoratorBlock:A,PartialStatement:C,PartialBlockStatement:function(e){C.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:P,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},L.prototype=new N,L.prototype.Program=function(e){var t=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var s=e.body,n=0,i=s.length;n<i;n++){var a=s[n],o=this.accept(a);if(o){var l=O(s,n,r),c=B(s,n,r),h=o.openStandalone&&l,u=o.closeStandalone&&c,p=o.inlineStandalone&&l&&c;o.close&&D(s,n,!0),o.open&&_(s,n,!0),t&&p&&(D(s,n),_(s,n)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(s[n-1].original)[1])),t&&h&&(D((a.program||a.inverse).body),_(s,n)),t&&u&&(D(s,n),_((a.inverse||a.program).body))}}return e},L.prototype.BlockStatement=L.prototype.DecoratorBlock=L.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,s=r,n=r;if(r&&r.chained)for(s=r.body[0].program;n.chained;)n=n.body[n.body.length-1].program;var i={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:B(t.body),closeStandalone:O((s||t).body)};if(e.openStrip.close&&D(t.body,null,!0),r){var a=e.inverseStrip;a.open&&_(t.body,null,!0),a.close&&D(s.body,null,!0),e.closeStrip.open&&_(n.body,null,!0),!this.options.ignoreStandalone&&O(t.body)&&B(s.body)&&(_(t.body),D(s.body))}else e.closeStrip.open&&_(t.body,null,!0);return i},L.prototype.Decorator=L.prototype.MustacheStatement=function(e){return e.strip},L.prototype.PartialStatement=L.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}};var I=function(){var e=function(e,t,r,s){for(r=r||{},s=e.length;s--;r[e[s]]=t);return r},t=[2,44],r=[1,20],s=[5,14,15,19,29,34,39,44,47,48,52,56,60],n=[1,35],i=[1,38],a=[1,30],o=[1,31],l=[1,32],c=[1,33],h=[1,34],u=[1,37],p=[14,15,19,29,34,39,44,47,48,52,56,60],d=[14,15,19,29,34,44,47,48,52,56,60],m=[15,18],f=[14,15,19,29,34,47,48,52,56,60],g=[33,64,71,79,80,81,82,83,84],b=[23,33,55,64,67,71,74,79,80,81,82,83,84],y=[1,51],v=[23,33,55,64,67,71,74,79,80,81,82,83,84,86],w=[2,43],k=[55,64,71,79,80,81,82,83,84],S=[1,58],E=[1,59],x=[1,66],T=[33,64,71,74,79,80,81,82,83,84],N=[23,64,71,79,80,81,82,83,84],P=[1,76],A=[64,67,71,79,80,81,82,83,84],C=[33,74],L=[23,33,55,67,71,74],O=[1,106],B=[1,118],D=[71,76],_={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,expr:49,mustache_repetition0:50,mustache_option0:51,OPEN_UNESCAPED:52,mustache_repetition1:53,mustache_option1:54,CLOSE_UNESCAPED:55,OPEN_PARTIAL:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,sexpr:63,OPEN_SEXPR:64,sexpr_repetition0:65,sexpr_option0:66,CLOSE_SEXPR:67,hash:68,hash_repetition_plus0:69,hashSegment:70,ID:71,EQUALS:72,blockParams:73,OPEN_BLOCK_PARAMS:74,blockParams_repetition_plus0:75,CLOSE_BLOCK_PARAMS:76,path:77,dataName:78,STRING:79,NUMBER:80,BOOLEAN:81,UNDEFINED:82,NULL:83,DATA:84,pathSegments:85,SEP:86,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",52:"OPEN_UNESCAPED",55:"CLOSE_UNESCAPED",56:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",64:"OPEN_SEXPR",67:"CLOSE_SEXPR",71:"ID",72:"EQUALS",74:"OPEN_BLOCK_PARAMS",76:"CLOSE_BLOCK_PARAMS",79:"STRING",80:"NUMBER",81:"BOOLEAN",82:"UNDEFINED",83:"NULL",84:"DATA",86:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[49,1],[49,1],[63,5],[68,1],[70,3],[73,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[78,2],[77,1],[85,3],[85,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[50,0],[50,2],[51,0],[51,1],[53,0],[53,2],[54,0],[54,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[65,0],[65,2],[66,0],[66,1],[69,1],[69,2],[75,1],[75,2]],performAction:function(e,t,r,s,n,i){var a=i.length-1;switch(n){case 1:return i[a-1];case 2:this.$=s.prepareProgram(i[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:this.$=i[a];break;case 9:this.$={type:"CommentStatement",value:s.stripComment(i[a]),strip:s.stripFlags(i[a],i[a]),loc:s.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[a],value:i[a],loc:s.locInfo(this._$)};break;case 11:this.$=s.prepareRawBlock(i[a-2],i[a-1],i[a],this._$);break;case 12:this.$={path:i[a-3],params:i[a-2],hash:i[a-1]};break;case 13:this.$=s.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!1,this._$);break;case 14:this.$=s.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!0,this._$);break;case 15:this.$={open:i[a-5],path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:s.stripFlags(i[a-5],i[a])};break;case 16:case 17:this.$={path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:s.stripFlags(i[a-5],i[a])};break;case 18:this.$={strip:s.stripFlags(i[a-1],i[a-1]),program:i[a]};break;case 19:var o=s.prepareBlock(i[a-2],i[a-1],i[a],i[a],!1,this._$),l=s.prepareProgram([o],i[a-1].loc);l.chained=!0,this.$={strip:i[a-2].strip,program:l,chain:!0};break;case 21:this.$={path:i[a-1],strip:s.stripFlags(i[a-2],i[a])};break;case 22:case 23:this.$=s.prepareMustache(i[a-3],i[a-2],i[a-1],i[a-4],s.stripFlags(i[a-4],i[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[a-3],params:i[a-2],hash:i[a-1],indent:"",strip:s.stripFlags(i[a-4],i[a]),loc:s.locInfo(this._$)};break;case 25:this.$=s.preparePartialBlock(i[a-2],i[a-1],i[a],this._$);break;case 26:this.$={path:i[a-3],params:i[a-2],hash:i[a-1],strip:s.stripFlags(i[a-4],i[a])};break;case 29:this.$={type:"SubExpression",path:i[a-3],params:i[a-2],hash:i[a-1],loc:s.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[a],loc:s.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:s.id(i[a-2]),value:i[a],loc:s.locInfo(this._$)};break;case 32:this.$=s.id(i[a-1]);break;case 35:this.$={type:"StringLiteral",value:i[a],original:i[a],loc:s.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[a]),original:Number(i[a]),loc:s.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[a],original:"true"===i[a],loc:s.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:s.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:s.locInfo(this._$)};break;case 40:this.$=s.preparePath(!0,i[a],this._$);break;case 41:this.$=s.preparePath(!1,i[a],this._$);break;case 42:i[a-2].push({part:s.id(i[a]),original:i[a],separator:i[a-1]}),this.$=i[a-2];break;case 43:this.$=[{part:s.id(i[a]),original:i[a]}];break;case 44:case 46:case 48:case 56:case 62:case 68:case 76:case 80:case 84:case 88:case 92:this.$=[];break;case 45:case 47:case 49:case 57:case 63:case 69:case 77:case 81:case 85:case 89:case 93:case 97:case 99:i[a-1].push(i[a]);break;case 96:case 98:this.$=[i[a]]}},table:[e([5,14,15,19,29,34,48,52,56,60],t,{3:1,4:2,6:3}),{1:[3]},{5:[1,4]},e([5,39,44,47],[2,2],{7:5,8:6,9:7,10:8,11:9,12:10,13:11,24:15,27:16,16:17,59:19,14:[1,12],15:r,19:[1,23],29:[1,21],34:[1,22],48:[1,13],52:[1,14],56:[1,18],60:[1,24]}),{1:[2,1]},e(s,[2,45]),e(s,[2,3]),e(s,[2,4]),e(s,[2,5]),e(s,[2,6]),e(s,[2,7]),e(s,[2,8]),e(s,[2,9]),{20:26,49:25,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{20:26,49:39,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(p,t,{6:3,4:40}),e(d,t,{6:3,4:41}),e(m,[2,46],{17:42}),{20:26,49:43,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(f,t,{6:3,4:44}),e([5,14,15,18,19,29,34,39,44,47,48,52,56,60],[2,10]),{20:45,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{20:46,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{20:47,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{20:26,49:48,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(g,[2,76],{50:49}),e(b,[2,27]),e(b,[2,28]),e(b,[2,33]),e(b,[2,34]),e(b,[2,35]),e(b,[2,36]),e(b,[2,37]),e(b,[2,38]),e(b,[2,39]),{20:26,49:50,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(b,[2,41],{86:y}),{71:i,85:52},e(v,w),e(k,[2,80],{53:53}),{25:54,38:56,39:S,43:57,44:E,45:55,47:[2,52]},{28:60,43:61,44:E,47:[2,54]},{13:63,15:r,18:[1,62]},e(g,[2,84],{57:64}),{26:65,47:x},e(T,[2,56],{30:67}),e(T,[2,62],{35:68}),e(N,[2,48],{21:69}),e(g,[2,88],{61:70}),{20:26,33:[2,78],49:72,51:71,63:27,64:n,68:73,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(A,[2,92],{65:77}),{71:[1,78]},e(b,[2,40],{86:y}),{20:26,49:80,54:79,55:[2,82],63:27,64:n,68:81,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{26:82,47:x},{47:[2,53]},e(p,t,{6:3,4:83}),{47:[2,20]},{20:84,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(f,t,{6:3,4:85}),{26:86,47:x},{47:[2,55]},e(s,[2,11]),e(m,[2,47]),{20:26,33:[2,86],49:88,58:87,63:27,64:n,68:89,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(s,[2,25]),{20:90,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(C,[2,58],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,31:91,49:92,68:93,64:n,71:P,79:a,80:o,81:l,82:c,83:h,84:u}),e(C,[2,64],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,36:94,49:95,68:96,64:n,71:P,79:a,80:o,81:l,82:c,83:h,84:u}),{20:26,22:97,23:[2,50],49:98,63:27,64:n,68:99,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{20:26,33:[2,90],49:101,62:100,63:27,64:n,68:102,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{33:[1,103]},e(g,[2,77]),{33:[2,79]},e([23,33,55,67,74],[2,30],{70:104,71:[1,105]}),e(L,[2,96]),e(v,w,{72:O}),{20:26,49:108,63:27,64:n,66:107,67:[2,94],68:109,69:74,70:75,71:P,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},e(v,[2,42]),{55:[1,110]},e(k,[2,81]),{55:[2,83]},e(s,[2,13]),{38:56,39:S,43:57,44:E,45:112,46:111,47:[2,74]},e(T,[2,68],{40:113}),{47:[2,18]},e(s,[2,14]),{33:[1,114]},e(g,[2,85]),{33:[2,87]},{33:[1,115]},{32:116,33:[2,60],73:117,74:B},e(T,[2,57]),e(C,[2,59]),{33:[2,66],37:119,73:120,74:B},e(T,[2,63]),e(C,[2,65]),{23:[1,121]},e(N,[2,49]),{23:[2,51]},{33:[1,122]},e(g,[2,89]),{33:[2,91]},e(s,[2,22]),e(L,[2,97]),{72:O},{20:26,49:123,63:27,64:n,71:i,77:28,78:29,79:a,80:o,81:l,82:c,83:h,84:u,85:36},{67:[1,124]},e(A,[2,93]),{67:[2,95]},e(s,[2,23]),{47:[2,19]},{47:[2,75]},e(C,[2,70],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,41:125,49:126,68:127,64:n,71:P,79:a,80:o,81:l,82:c,83:h,84:u}),e(s,[2,24]),e(s,[2,21]),{33:[1,128]},{33:[2,61]},{71:[1,130],75:129},{33:[1,131]},{33:[2,67]},e(m,[2,12]),e(f,[2,26]),e(L,[2,31]),e(b,[2,29]),{33:[2,72],42:132,73:133,74:B},e(T,[2,69]),e(C,[2,71]),e(p,[2,15]),{71:[1,135],76:[1,134]},e(D,[2,98]),e(d,[2,16]),{33:[1,136]},{33:[2,73]},{33:[2,32]},e(D,[2,99]),e(p,[2,17])],defaultActions:{4:[2,1],55:[2,53],57:[2,20],61:[2,55],73:[2,79],81:[2,83],85:[2,18],89:[2,87],99:[2,51],102:[2,91],109:[2,95],111:[2,19],112:[2,75],117:[2,61],120:[2,67],133:[2,73],134:[2,32]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],s=[null],n=[],i=this.table,a="",o=0,l=0,c=n.slice.call(arguments,1),h=Object.create(this.lexer),u={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(u.yy[p]=this.yy[p]);h.setInput(e,u.yy),u.yy.lexer=h,u.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var d=h.yylloc;n.push(d);var m=h.options&&h.options.ranges;"function"==typeof u.yy.parseError?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,g,b,y,v,w,k,S,E=function(){var e;return"number"!=typeof(e=h.lex()||1)&&(e=t.symbols_[e]||e),e},x={};;){if(g=r[r.length-1],this.defaultActions[g]?b=this.defaultActions[g]:(null==f&&(f=E()),b=i[g]&&i[g][f]),void 0===b||!b.length||!b[0]){var T;for(v in S=[],i[g])this.terminals_[v]&&v>2&&S.push("'"+this.terminals_[v]+"'");T=h.showPosition?"Parse error on line "+(o+1)+":\n"+h.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(T,{text:h.match,token:this.terminals_[f]||f,line:h.yylineno,loc:d,expected:S})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(b[0]){case 1:r.push(f),s.push(h.yytext),n.push(h.yylloc),r.push(b[1]),f=null,l=h.yyleng,a=h.yytext,o=h.yylineno,d=h.yylloc;break;case 2:if(w=this.productions_[b[1]][1],x.$=s[s.length-w],x._$={first_line:n[n.length-(w||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(w||1)].first_column,last_column:n[n.length-1].last_column},m&&(x._$.range=[n[n.length-(w||1)].range[0],n[n.length-1].range[1]]),void 0!==(y=this.performAction.apply(x,[a,l,o,u.yy,b[1],s,n].concat(c))))return y;w&&(r=r.slice(0,-1*w*2),s=s.slice(0,-1*w),n=n.slice(0,-1*w)),r.push(this.productions_[b[1]][0]),s.push(x.$),n.push(x._$),k=i[r[r.length-2]][r[r.length-1]],r.push(k);break;case 3:return!0}}return!0}},I=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===s.length?this.yylloc.first_column:0)+s[s.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,s,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(s=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in n)this[i]=n[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),i=0;i<n.length;i++)if((r=this._input.match(this.rules[n[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,s=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,n[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,n[s]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r){function s(e,r){return t.yytext=t.yytext.substring(e,t.yyleng-r+e)}switch(r){case 0:if("\\\\"===t.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(s(5,9),18);case 6:case 22:return this.popState(),14;case 7:return 64;case 8:return 67;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 56;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 52;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 72;case 25:case 26:case 41:return 71;case 27:return 86;case 28:break;case 29:return this.popState(),55;case 30:return this.popState(),33;case 31:return t.yytext=s(1,2).replace(/\\"/g,'"'),79;case 32:return t.yytext=s(1,2).replace(/\\'/g,"'"),79;case 33:return 84;case 34:case 35:return 81;case 36:return 82;case 37:return 83;case 38:return 80;case 39:return 74;case 40:return 76;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),71;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function q(){this.yy={}}return _.lexer=I,q.prototype=_,_.Parser=q,new q}();function q(){this.padding=0}function $(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var r={loc:e.path.loc};throw new T(e.path.original+" doesn't match "+t,r)}}function F(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}q.prototype=new N,q.prototype.pad=function(e){for(var t="",r=0,s=this.padding;r<s;r++)t+="  ";return t+(e+"\n")},q.prototype.Program=function(e){var t,r,s="",n=e.body;if(e.blockParams){var i="BLOCK PARAMS: [";for(t=0,r=e.blockParams.length;t<r;t++)i+=" "+e.blockParams[t];i+=" ]",s+=this.pad(i)}for(t=0,r=n.length;t<r;t++)s+=this.accept(n[t]);return this.padding--,s},q.prototype.MustacheStatement=function(e){return this.pad("{{ "+this.SubExpression(e)+" }}")},q.prototype.Decorator=function(e){return this.pad("{{ DIRECTIVE "+this.SubExpression(e)+" }}")},q.prototype.BlockStatement=q.prototype.DecoratorBlock=function(e){var t="";return t+=this.pad(("DecoratorBlock"===e.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,t+=this.pad(this.SubExpression(e)),e.program&&(t+=this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--),e.inverse&&(e.program&&this.padding++,t+=this.pad("{{^}}"),this.padding++,t+=this.accept(e.inverse),this.padding--,e.program&&this.padding--),this.padding--,t},q.prototype.PartialStatement=function(e){var t="PARTIAL:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),this.pad("{{> "+t+" }}")},q.prototype.PartialBlockStatement=function(e){var t="PARTIAL BLOCK:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),t+=" "+this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--,this.pad("{{> "+t+" }}")},q.prototype.ContentStatement=function(e){return this.pad("CONTENT[ '"+e.value+"' ]")},q.prototype.CommentStatement=function(e){return this.pad("{{! '"+e.value+"' }}")},q.prototype.SubExpression=function(e){for(var t,r=e.params,s=[],n=0,i=r.length;n<i;n++)s.push(this.accept(r[n]));return r="["+s.join(", ")+"]",t=e.hash?" "+this.accept(e.hash):"",this.accept(e.path)+" "+r+t},q.prototype.PathExpression=function(e){var t=e.parts.join("/");return(e.data?"@":"")+"PATH:"+t},q.prototype.StringLiteral=function(e){return'"'+e.value+'"'},q.prototype.NumberLiteral=function(e){return"NUMBER{"+e.value+"}"},q.prototype.BooleanLiteral=function(e){return"BOOLEAN{"+e.value+"}"},q.prototype.UndefinedLiteral=function(){return"UNDEFINED"},q.prototype.NullLiteral=function(){return"NULL"},q.prototype.Hash=function(e){for(var t=e.pairs,r=[],s=0,n=t.length;s<n;s++)r.push(this.accept(t[s]));return"HASH{"+r.join(", ")+"}"},q.prototype.HashPair=function(e){return e.key+"="+this.accept(e.value)};var R=Object.freeze({__proto__:null,SourceLocation:F,id:function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},prepareBlock:function(e,t,r,s,n,i){s&&s.path&&$(e,s);var a,o,l=/\*/.test(e.open);if(t.blockParams=e.blockParams,r){if(l)throw new T("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=s.strip),o=r.strip,a=r.program}return n&&(n=a,a=t,t=n),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:a,openStrip:e.strip,inverseStrip:o,closeStrip:s&&s.strip,loc:this.locInfo(i)}},prepareMustache:function(e,t,r,s,n,i){var a=s.charAt(3)||s.charAt(2),o="{"!==a&&"&"!==a;return{type:/\*/.test(s)?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:o,strip:n,loc:this.locInfo(i)}},preparePartialBlock:function(e,t,r,s){return $(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(s)}},preparePath:function(e,t,r){r=this.locInfo(r);for(var s=e?"@":"",n=[],i=0,a=0,o=t.length;a<o;a++){var l=t[a].part,c=t[a].original!==l;if(s+=(t[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)n.push(l);else{if(n.length>0)throw new T("Invalid path: "+s,{loc:r});".."===l&&i++}}return{type:"PathExpression",data:e,depth:i,parts:n,original:s,loc:r}},prepareProgram:function(e,t){if(!t&&e.length){var r=e[0].loc,s=e[e.length-1].loc;r&&s&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},prepareRawBlock:function(e,t,r,s){$(e,r);var n={type:"Program",body:t,strip:{},loc:s=this.locInfo(s)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:n,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}},stripComment:function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},stripFlags:function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}}),V={};for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(V[H]=R[H]);function U(e,t){return"Program"===e.type?e:(I.yy=V,I.yy.locInfo=function(e){return new F(t&&t.srcName,e)},I.parse(e))}function M(e,t){var r=U(e,t);return new L(t).accept(r)}var j={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""},z=/^#[xX]([A-Fa-f0-9]+)$/,G=/^#([0-9]+)$/,K=/^([A-Za-z0-9]+)$/,W=function(){function e(e){this.named=e}return e.prototype.parse=function(e){if(e){var t=e.match(z);return t?String.fromCharCode(parseInt(t[1],16)):(t=e.match(G))?String.fromCharCode(parseInt(t[1],10)):(t=e.match(K))?this.named[t[1]]:void 0}},e}(),J=/[\t\n\f ]/,Q=/[A-Za-z]/,Y=/\r\n?/g;function Z(e){return J.test(e)}function X(e){return Q.test(e)}var ee=function(){function e(e,t,r){void 0===r&&(r="precompile"),this.delegate=e,this.entityParser=t,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if("<"!==e||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===e){var t=this.tagNameBuffer.toLowerCase();"pre"!==t&&"textarea"!==t||this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var e=this.peek(),t=this.tagNameBuffer;"<"!==e||this.isIgnoredEndTag()?"&"===e&&"script"!==t&&"style"!==t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var e=this.consume();"!"===e?this.transitionTo("markupDeclarationOpen"):"/"===e?this.transitionTo("endTagOpen"):("@"===e||":"===e||X(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();"-"===e&&"-"===this.peek()?(this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment()):"DOCTYPE"===e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase()&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())},doctype:function(){Z(this.consume())&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();Z(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();Z(e)?this.transitionTo("afterDoctypeName"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!Z(e))if(">"===e)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),r="PUBLIC"===t.toUpperCase(),s="SYSTEM"===t.toUpperCase();(r||s)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),r?this.transitionTo("afterDoctypePublicKeyword"):s&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();Z(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===e?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===e?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===e&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();Z(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();Z(e)||(">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();Z(e)||">"===e&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();"-"===e?this.transitionTo("commentStartDash"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();"-"===e?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();Z(e)?this.transitionTo("beforeAttributeName"):"/"===e?this.transitionTo("selfClosingStartTag"):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();Z(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===e?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();Z(e)?this.consume():"/"===e?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===e?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();Z(e)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===e||"'"===e||"<"===e?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();Z(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();Z(e)?this.consume():'"'===e?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();Z(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();Z(e)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();("@"===e||":"===e||X(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(e){this.state=e},e.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},e.prototype.tokenizePart=function(e){for(this.input+=function(e){return e.replace(Y,"\n")}(e);this.index<this.input.length;){var t=this.states[this.state];if(void 0===t)throw new Error("unhandled state "+this.state);t.call(this)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},e.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),r=this.entityParser.parse(t);if(r){for(var s=t.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},e.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return"title"===e&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===e&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===e&&"<\/script>"!==this.input.substring(this.index,this.index+9)},e}();const te=Object.freeze({line:1,column:0}),re=Object.freeze({source:"(synthetic)",start:te,end:te}),se=Object.freeze({source:"(nonexistent)",start:te,end:te}),ne=Object.freeze({source:"(broken)",start:te,end:te}),ie="CharPosition",ae="HbsPosition",oe="InternalsSynthetic",le="NonExistent",ce="Broken",he="MATCH_ANY",ue="IS_INVISIBLE";class pe{constructor(e){this._whens=e}first(e){for(const t of this._whens){const r=t.match(e);if(g(r))return r[0]}return null}}class de{get(e,t){let r=this._map.get(e);return r||(r=t(),this._map.set(e,r),r)}add(e,t){this._map.set(e,t)}match(e){const t=function(e){switch(e){case ce:case oe:case le:return ue;default:return e}}(e),r=[],s=this._map.get(t),n=this._map.get(he);return s&&r.push(s),n&&r.push(n),r}constructor(){this._map=new Map}}function me(e){return e(new fe).validate()}class fe{validate(){return(e,t)=>this.matchFor(e.kind,t.kind)(e,t)}matchFor(e,t){const r=this._whens.match(e);return g(r),new pe(r).first(t)}when(e,t,r){return this._whens.get(e,()=>new de).add(t,r),this}constructor(){this._whens=new de}}class ge{static synthetic(e){let t=be.synthetic(e);return new ge({loc:t,chars:e})}static load(e,t){return new ge({loc:be.load(e,t[1]),chars:t[0]})}constructor(e){this.loc=e.loc,this.chars=e.chars}getString(){return this.chars}serialize(){return[this.chars,this.loc.serialize()]}}class be{static get NON_EXISTENT(){return new we(le,se).wrap()}static load(e,t){return"number"==typeof t?be.forCharPositions(e,t,t):"string"==typeof t?be.synthetic(t):Array.isArray(t)?be.forCharPositions(e,t[0],t[1]):t===le?be.NON_EXISTENT:t===ce?be.broken(ne):void function(e,t="unexpected unreachable branch"){throw E.log("unreachable",e),E.log(`${t} :: ${JSON.stringify(e)} (${e})`),new Error("code reached unreachable")}(t)}static forHbsLoc(e,t){const r=new Te(e,t.start),s=new Te(e,t.end);return new ve(e,{start:r,end:s},t).wrap()}static forCharPositions(e,t,r){const s=new xe(e,t),n=new xe(e,r);return new ye(e,{start:s,end:n}).wrap()}static synthetic(e){return new we(oe,se,e).wrap()}static broken(e=ne){return new we(ce,e).wrap()}constructor(e){var t;this.data=e,this.isInvisible=(t=e.kind)!==ie&&t!==ae}getStart(){return this.data.getStart().wrap()}getEnd(){return this.data.getEnd().wrap()}get loc(){const e=this.data.toHbsSpan();return null===e?ne:e.toHbsLoc()}get module(){return this.data.getModule()}get startPosition(){return this.loc.start}get endPosition(){return this.loc.end}toJSON(){return this.loc}withStart(e){return ke(e.data,this.data.getEnd())}withEnd(e){return ke(this.data.getStart(),e.data)}asString(){return this.data.asString()}toSlice(e){const t=this.data.asString();return JSON.stringify(t),JSON.stringify(e),new ge({loc:this,chars:e||t})}get start(){return this.loc.start}set start(e){this.data.locDidUpdate({start:e})}get end(){return this.loc.end}set end(e){this.data.locDidUpdate({end:e})}get source(){return this.module}collapse(e){switch(e){case"start":return this.getStart().collapsed();case"end":return this.getEnd().collapsed()}}extend(e){return ke(this.data.getStart(),e.data.getEnd())}serialize(){return this.data.serialize()}slice({skipStart:e=0,skipEnd:t=0}){return ke(this.getStart().move(e).data,this.getEnd().move(-t).data)}sliceStartChars({skipStart:e=0,chars:t}){return ke(this.getStart().move(e).data,this.getStart().move(e+t).data)}sliceEndChars({skipEnd:e=0,chars:t}){return ke(this.getEnd().move(e-t).data,this.getStart().move(-e).data)}}class ye{#e;constructor(e,t){this.source=e,this.charPositions=t,this.kind=ie,this.#e=null}wrap(){return new be(this)}asString(){return this.source.slice(this.charPositions.start.charPos,this.charPositions.end.charPos)}getModule(){return this.source.module}getStart(){return this.charPositions.start}getEnd(){return this.charPositions.end}locDidUpdate(){}toHbsSpan(){let e=this.#e;if(null===e){const t=this.charPositions.start.toHbsPos(),r=this.charPositions.end.toHbsPos();e=this.#e=null===t||null===r?Se:new ve(this.source,{start:t,end:r})}return e===Se?null:e}serialize(){const{start:{charPos:e},end:{charPos:t}}=this.charPositions;return e===t?e:[e,t]}toCharPosSpan(){return this}}class ve{#t;#r;constructor(e,t,r=null){this.source=e,this.hbsPositions=t,this.kind=ae,this.#t=null,this.#r=r}serialize(){const e=this.toCharPosSpan();return null===e?ce:e.wrap().serialize()}wrap(){return new be(this)}updateProvided(e,t){this.#r&&(this.#r[t]=e),this.#t=null,this.#r={start:e,end:e}}locDidUpdate({start:e,end:t}){void 0!==e&&(this.updateProvided(e,"start"),this.hbsPositions.start=new Te(this.source,e,null)),void 0!==t&&(this.updateProvided(t,"end"),this.hbsPositions.end=new Te(this.source,t,null))}asString(){const e=this.toCharPosSpan();return null===e?"":e.asString()}getModule(){return this.source.module}getStart(){return this.hbsPositions.start}getEnd(){return this.hbsPositions.end}toHbsLoc(){return{start:this.hbsPositions.start.hbsPos,end:this.hbsPositions.end.hbsPos}}toHbsSpan(){return this}toCharPosSpan(){let e=this.#t;if(null===e){const t=this.hbsPositions.start.toCharPos(),r=this.hbsPositions.end.toCharPos();if(!t||!r)return e=this.#t=Se,null;e=this.#t=new ye(this.source,{start:t,end:r})}return e===Se?null:e}}class we{constructor(e,t,r=null){this.kind=e,this.loc=t,this.string=r}serialize(){switch(this.kind){case ce:case le:return this.kind;case oe:return this.string||""}}wrap(){return new be(this)}asString(){return this.string||""}locDidUpdate({start:e,end:t}){void 0!==e&&(this.loc.start=e),void 0!==t&&(this.loc.end=t)}getModule(){return"an unknown module"}getStart(){return new Ne(this.kind,this.loc.start)}getEnd(){return new Ne(this.kind,this.loc.end)}toCharPosSpan(){return this}toHbsSpan(){return null}toHbsLoc(){return ne}}const ke=me(e=>e.when(ae,ae,(e,t)=>new ve(e.source,{start:e,end:t}).wrap()).when(ie,ie,(e,t)=>new ye(e.source,{start:e,end:t}).wrap()).when(ie,ae,(e,t)=>{const r=t.toCharPos();return null===r?new we(ce,ne).wrap():ke(e,r)}).when(ae,ie,(e,t)=>{const r=e.toCharPos();return null===r?new we(ce,ne).wrap():ke(r,t)}).when(ue,he,e=>new we(e.kind,ne).wrap()).when(he,ue,(e,t)=>new we(t.kind,ne).wrap())),Se="BROKEN";class Ee{static forHbsPos(e,t){return new Te(e,t,null).wrap()}static broken(e=te){return new Ne(ce,e).wrap()}constructor(e){this.data=e}get offset(){const e=this.data.toCharPos();return null===e?null:e.offset}eql(e){return Pe(this.data,e.data)}until(e){return ke(this.data,e.data)}move(e){const t=this.data.toCharPos();if(null===t)return Ee.broken();{const r=t.offset+e;return t.source.validate(r)?new xe(t.source,r).wrap():Ee.broken()}}collapsed(){return ke(this.data,this.data)}toJSON(){return this.data.toJSON()}}class xe{constructor(e,t){this.source=e,this.charPos=t,this.kind=ie,this._locPos=null}toCharPos(){return this}toJSON(){const e=this.toHbsPos();return null===e?te:e.toJSON()}wrap(){return new Ee(this)}get offset(){return this.charPos}toHbsPos(){let e=this._locPos;if(null===e){const t=this.source.hbsPosFor(this.charPos);this._locPos=e=null===t?Se:new Te(this.source,t,this.charPos)}return e===Se?null:e}}class Te{constructor(e,t,r=null){this.source=e,this.hbsPos=t,this.kind=ae,this._charPos=null===r?null:new xe(e,r)}toCharPos(){let e=this._charPos;if(null===e){const t=this.source.charPosFor(this.hbsPos);this._charPos=e=null===t?Se:new xe(this.source,t)}return e===Se?null:e}toJSON(){return this.hbsPos}wrap(){return new Ee(this)}toHbsPos(){return this}}class Ne{constructor(e,t){this.kind=e,this.pos=t}toCharPos(){return null}toJSON(){return this.pos}wrap(){return new Ee(this)}get offset(){return null}}const Pe=me(e=>e.when(ae,ae,({hbsPos:e},{hbsPos:t})=>e.column===t.column&&e.line===t.line).when(ie,ie,({charPos:e},{charPos:t})=>e===t).when(ie,ae,({offset:e},t)=>e===t.toCharPos()?.offset).when(ae,ie,(e,{offset:t})=>e.toCharPos()?.offset===t).when(he,he,()=>!1));class Ae{static from(e,t={}){return new Ae(e,t.meta?.moduleName)}constructor(e,t="an unknown module"){this.source=e,this.module=t}validate(e){return e>=0&&e<=this.source.length}slice(e,t){return this.source.slice(e,t)}offsetFor(e,t){return Ee.forHbsPos(this,{line:e,column:t})}spanFor({start:e,end:t}){return be.forHbsLoc(this,{start:{line:e.line,column:e.column},end:{line:t.line,column:t.column}})}hbsPosFor(e){let t=0,r=0;if(e>this.source.length)return null;for(;;){let s=this.source.indexOf("\n",r);if(e<=s||-1===s)return{line:t+1,column:e-r};t+=1,r=s+1}}charPosFor(e){let{line:t,column:r}=e,s=this.source.length,n=0,i=0;for(;i<s;){let e=this.source.indexOf("\n",i);if(-1===e&&(e=this.source.length),n===t-1)return i+r>e?e:i+r;if(-1===e)return 0;n+=1,i=e+1}return s}}class Ce{static range(e,t=be.NON_EXISTENT){return new Ce(e.map(Le)).getRangeOffset(t)}constructor(e=[]){this._span=e}add(e){this._span.push(e)}getRangeOffset(e){if(g(this._span)){let e=v(this._span),t=b(this._span);return e.extend(t)}return e}}function Le(e){if(Array.isArray(e)){let t=v(e),r=b(e);return Le(t).extend(Le(r))}return e instanceof be?e:e.loc}function Oe(e){return!Array.isArray(e)||0!==e.length}function Be(e,t){return Oe(e)?Le(e):t}var De=Object.freeze({__proto__:null,NON_EXISTENT_LOCATION:se,SYNTHETIC_LOCATION:re,Source:Ae,SourceOffset:Ee,SourceSlice:ge,SourceSpan:be,SpanList:Ce,UNKNOWN_POSITION:te,hasSpan:Oe,loc:Le,maybeLoc:Be});function _e(e,t){let{module:r,loc:s}=t,{line:n,column:i}=s.start,a=t.asString(),o=a?`\n\n|\n|  ${a.split("\n").join("\n|  ")}\n|\n\n`:"",l=new Error(`${e}: ${o}(error occurred in '${r}' @ line ${n} : column ${i})`);return l.name="SyntaxError",l.location=t,l.code=a,l}const Ie={Template:["body"],Block:["body"],MustacheStatement:["path","params","hash"],BlockStatement:["path","params","hash","program","inverse"],ElementModifierStatement:["path","params","hash"],CommentStatement:[],MustacheCommentStatement:[],ElementNode:["attributes","modifiers","children","comments"],AttrNode:["value"],TextNode:[],ConcatStatement:["parts"],SubExpression:["path","params","hash"],PathExpression:[],StringLiteral:[],BooleanLiteral:[],NumberLiteral:[],NullLiteral:[],UndefinedLiteral:[],Hash:["pairs"],HashPair:["value"]},qe=function(){function e(e,t,r,s){let n=Error.call(this,e);this.key=s,this.message=e,this.node=t,this.parent=r,n.stack&&(this.stack=n.stack)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}();function $e(e,t,r){return new qe("Cannot remove a node unless it is part of an array",e,t,r)}function Fe(e,t,r){return new qe("Cannot replace a node with multiple nodes unless it is part of an array",e,t,r)}function Re(e,t){return new qe("Replacing and removing in key handlers is not yet supported.",e,null,t)}class Ve{constructor(e,t=null,r=null){this.node=e,this.parent=t,this.parentKey=r}get parentNode(){return this.parent?this.parent.node:null}parents(){return{[Symbol.iterator]:()=>new He(this)}}}class He{constructor(e){this.path=e}next(){return this.path.parent?(this.path=this.path.parent,{done:!1,value:this.path}):{done:!0,value:null}}}function Ue(e){return"function"==typeof e?e:e.enter}function Me(e){return"function"==typeof e?void 0:e.exit}function je(e,t){let r,s,n,{node:i,parent:a,parentKey:o}=t,l=function(e,t){if(e.Program&&("Template"===t&&!e.Template||"Block"===t&&!e.Block))return e.Program;let r=e[t];return void 0!==r?r:e.All}(e,i.type);if(void 0!==l&&(r=Ue(l),s=Me(l)),void 0!==r&&(n=r(i,t)),null!=n){if(JSON.stringify(i)!==JSON.stringify(n))return Array.isArray(n)?(Ke(e,n,a,o),n):je(e,new Ve(n,a,o))||n;n=void 0}if(void 0===n){let r=Ie[i.type];for(let s=0;s<r.length;s++)Ge(e,l,t,r[s]);void 0!==s&&(n=s(i,t))}return n}function ze(e,t,r){e[t]=r}function Ge(e,t,r,s){let n,i,{node:a}=r,o=function(e,t){return e[t]}(a,s);if(o){if(void 0!==t){let e=function(e,t){let r="function"!=typeof e?e.keys:void 0;if(void 0===r)return;let s=r[t];return void 0!==s?s:r.All}(t,s);void 0!==e&&(n=Ue(e),i=Me(e))}if(void 0!==n&&void 0!==n(a,s))throw Re(a,s);if(Array.isArray(o))Ke(e,o,r,s);else{let t=je(e,new Ve(o,r,s));void 0!==t&&function(e,t,r,s){if(null===s)throw $e(r,e,t);if(Array.isArray(s)){if(1!==s.length)throw 0===s.length?$e(r,e,t):Fe(r,e,t);ze(e,t,s[0])}else ze(e,t,s)}(a,s,o,t)}if(void 0!==i&&void 0!==i(a,s))throw Re(a,s)}}function Ke(e,t,r,s){for(let n=0;n<t.length;n++){let i=f(t[n]),a=je(e,new Ve(i,r,s));void 0!==a&&(n+=We(t,n,a)-1)}}function We(e,t,r){return null===r?(e.splice(t,1),0):Array.isArray(r)?(e.splice(t,1,...r),r.length):(e.splice(t,1,r),1)}function Je(e,t){je(t,new Ve(e))}class Qe{constructor(e){this.order=e,this.stack=[]}visit(e,t){e&&(this.stack.push(e),"post"===this.order?(this.children(e,t),t(e,this)):(t(e,this),this.children(e,t)),this.stack.pop())}children(e,t){switch(e.type){case"Block":case"Template":return void Ye(this,e.body,t);case"ElementNode":return void Ye(this,e.children,t);case"BlockStatement":return this.visit(e.program,t),void this.visit(e.inverse||null,t);default:return}}}function Ye(e,t,r){for(const s of t)e.visit(s,r)}function Ze(e,t){(function(e){switch(e.type){case"Block":case"Template":return e.body;case"ElementNode":return e.children}})(e).push(t)}function Xe(e){return"StringLiteral"===e.type||"BooleanLiteral"===e.type||"NumberLiteral"===e.type||"NullLiteral"===e.type||"UndefinedLiteral"===e.type}let et;function tt(){return et||(et=new Ae("","(synthetic)")),et}function rt(e,t){return dt.var({name:e,loc:ct(t||null)})}function st(e,t){let r=ct(t||null);if("string"!=typeof e){if("type"in e)return e;{e.head.indexOf(".");let{head:s,tail:n}=e;return dt.path({head:dt.head({original:s,loc:r.sliceStartChars({chars:s.length})}),tail:n,loc:ct(t||null)})}}let{head:s,tail:n}=function(e,t){let[r,...s]=e.split("."),n=dt.head({original:r,loc:ct(t||null)});return dt.path({head:n,tail:s,loc:ct(t||null)})}(e,r);return dt.path({head:s,tail:n,loc:r})}function nt(e,t,r){return dt.literal({type:e,value:t,loc:ct(r||null)})}function it(e=[],t){return dt.hash({pairs:e,loc:ct(t||null)})}function at(e){return e.map(e=>"string"==typeof e?dt.var({name:e,loc:be.synthetic(e)}):e)}function ot(e=[],t=[],r=!1,s){return dt.blockItself({body:e,params:at(t),chained:r,loc:ct(s||null)})}function lt(e=[],t=[],r){return dt.template({body:e,blockParams:t,loc:ct(r||null)})}function ct(...e){if(1===e.length){let t=e[0];return t&&"object"==typeof t?be.forHbsLoc(tt(),t):be.forHbsLoc(tt(),re)}{let[t,r,s,n,i]=e,a=i?new Ae("",i):tt();return be.forHbsLoc(a,{start:{line:t,column:r},end:{line:s||t,column:n||r}})}}var ht={mustache:function(e,t=[],r=it([]),s=!1,n,i){return dt.mustache({path:st(e),params:t,hash:r,trusting:s,strip:i,loc:ct(n||null)})},block:function(e,t,r,s,n=null,i,a,o,l){let c,h=null;return c="Template"===s.type?dt.blockItself({params:at(s.blockParams),body:s.body,loc:s.loc}):s,"Template"===n?.type?(n.blockParams.length,h=dt.blockItself({params:[],body:n.body,loc:n.loc})):h=n,dt.block({path:st(e),params:t||[],hash:r||it([]),defaultBlock:c,elseBlock:h,loc:ct(i||null),openStrip:a,inverseStrip:o,closeStrip:l})},comment:function(e,t){return dt.comment({value:e,loc:ct(t||null)})},mustacheComment:function(e,t){return dt.mustacheComment({value:e,loc:ct(t||null)})},element:function(e,t={}){let r,s,{attrs:n,blockParams:i,modifiers:a,comments:o,children:l,openTag:c,closeTag:u,loc:p}=t;"string"==typeof e?e.endsWith("/")?(r=st(e.slice(0,-1)),s=!0):r=st(e):"type"in e?(e.type,e.type,r=e):"path"in e?(e.path.type,e.path.type,r=e.path,s=e.selfClosing):(r=st(e.name),s=e.selfClosing);let d=i?.map(e=>"string"==typeof e?rt(e):e),m=null;return u?m=ct(u):void 0===u&&(m=s||h(r.original)?null:ct(null)),dt.element({path:r,selfClosing:s||!1,attributes:n||[],params:d||[],modifiers:a||[],comments:o||[],children:l||[],openTag:ct(c||null),closeTag:m,loc:ct(p||null)})},elementModifier:function(e,t,r,s){return dt.elementModifier({path:st(e),params:t||[],hash:r||it([]),loc:ct(s||null)})},attr:function(e,t,r){return dt.attr({name:e,value:t,loc:ct(r||null)})},text:function(e="",t){return dt.text({chars:e,loc:ct(t||null)})},sexpr:function(e,t=[],r=it([]),s){return dt.sexpr({path:st(e),params:t,hash:r,loc:ct(s||null)})},concat:function(e,t){if(!g(e))throw new Error("b.concat requires at least one part");return dt.concat({parts:e,loc:ct(t||null)})},hash:it,pair:function(e,t,r){return dt.pair({key:e,value:t,loc:ct(r||null)})},literal:nt,program:function(e,t,r){return t&&t.length?ot(e,t,!1,r):lt(e,[],r)},blockItself:ot,template:lt,loc:ct,pos:function(e,t){return dt.pos({line:e,column:t})},path:st,fullPath:function(e,t=[],r){return dt.path({head:e,tail:t,loc:ct(r||null)})},head:function(e,t){return dt.head({original:e,loc:ct(t||null)})},at:function(e,t){return dt.atName({name:e,loc:ct(t||null)})},var:rt,this:function(e){return dt.this({loc:ct(e||null)})},string:ut("StringLiteral"),boolean:ut("BooleanLiteral"),number:ut("NumberLiteral"),undefined:()=>nt("UndefinedLiteral",void 0),null:()=>nt("NullLiteral",null)};function ut(e){return function(t,r){return nt(e,t,r)}}const pt={close:!1,open:!1},dt=new class{pos({line:e,column:t}){return{line:e,column:t}}blockItself({body:e,params:t,chained:r=!1,loc:s}){return{type:"Block",body:e,params:t,get blockParams(){return this.params.map(e=>e.name)},set blockParams(e){this.params=e.map(e=>dt.var({name:e,loc:be.synthetic(e)}))},chained:r,loc:s}}template({body:e,blockParams:t,loc:r}){return{type:"Template",body:e,blockParams:t,loc:r}}mustache({path:e,params:t,hash:r,trusting:s,loc:n,strip:i=pt}){return function({path:e,params:t,hash:r,trusting:s,strip:n,loc:i}){const a={type:"MustacheStatement",path:e,params:t,hash:r,trusting:s,strip:n,loc:i};return Object.defineProperty(a,"escaped",{enumerable:!1,get(){return!this.trusting},set(e){this.trusting=!e}}),a}({path:e,params:t,hash:r,trusting:s,strip:i,loc:n})}block({path:e,params:t,hash:r,defaultBlock:s,elseBlock:n=null,loc:i,openStrip:a=pt,inverseStrip:o=pt,closeStrip:l=pt}){return{type:"BlockStatement",path:e,params:t,hash:r,program:s,inverse:n,loc:i,openStrip:a,inverseStrip:o,closeStrip:l}}comment({value:e,loc:t}){return{type:"CommentStatement",value:e,loc:t}}mustacheComment({value:e,loc:t}){return{type:"MustacheCommentStatement",value:e,loc:t}}concat({parts:e,loc:t}){return{type:"ConcatStatement",parts:e,loc:t}}element({path:e,selfClosing:t,attributes:r,modifiers:s,params:n,comments:i,children:a,openTag:o,closeTag:l,loc:c}){let h=t;return{type:"ElementNode",path:e,attributes:r,modifiers:s,params:n,comments:i,children:a,openTag:o,closeTag:l,loc:c,get tag(){return this.path.original},set tag(e){this.path.original=e},get blockParams(){return this.params.map(e=>e.name)},set blockParams(e){this.params=e.map(e=>dt.var({name:e,loc:be.synthetic(e)}))},get selfClosing(){return h},set selfClosing(e){h=e,this.closeTag=e?null:be.synthetic(`</${this.tag}>`)}}}elementModifier({path:e,params:t,hash:r,loc:s}){return{type:"ElementModifierStatement",path:e,params:t,hash:r,loc:s}}attr({name:e,value:t,loc:r}){return{type:"AttrNode",name:e,value:t,loc:r}}text({chars:e,loc:t}){return{type:"TextNode",chars:e,loc:t}}sexpr({path:e,params:t,hash:r,loc:s}){return{type:"SubExpression",path:e,params:t,hash:r,loc:s}}path({head:e,tail:t,loc:r}){return function({head:e,tail:t,loc:r}){const s={type:"PathExpression",head:e,tail:t,get original(){return[this.head.original,...this.tail].join(".")},set original(e){let[t,...r]=e.split(".");this.head=ht.head(t,this.head.loc),this.tail=r},loc:r};return Object.defineProperty(s,"parts",{enumerable:!1,get(){let e=this.original.split(".");return"this"===e[0]?e.shift():e[0].startsWith("@")&&(e[0]=e[0].slice(1)),Object.freeze(e)},set(e){let t=[...e];"this"===t[0]||t[0]?.startsWith("@")||("ThisHead"===this.head.type?t.unshift("this"):"AtHead"===this.head.type&&(t[0]=`@${t[0]}`)),this.original=t.join(".")}}),Object.defineProperty(s,"this",{enumerable:!1,get(){return"ThisHead"===this.head.type}}),Object.defineProperty(s,"data",{enumerable:!1,get(){return"AtHead"===this.head.type}}),s}({head:e,tail:t,loc:r})}head({original:e,loc:t}){return"this"===e?this.this({loc:t}):"@"===e[0]?this.atName({name:e,loc:t}):this.var({name:e,loc:t})}this({loc:e}){return{type:"ThisHead",get original(){return"this"},loc:e}}atName({name:e,loc:t}){let r="";const s={type:"AtHead",get name(){return r},set name(e){e[0],e.indexOf("."),r=e},get original(){return this.name},set original(e){this.name=e},loc:t};return s.name=e,s}var({name:e,loc:t}){let r="";const s={type:"VarHead",get name(){return r},set name(e){e[0],e.indexOf("."),r=e},get original(){return this.name},set original(e){this.name=e},loc:t};return s.name=e,s}hash({pairs:e,loc:t}){return{type:"Hash",pairs:e,loc:t}}pair({key:e,value:t,loc:r}){return{type:"HashPair",key:e,value:t,loc:r}}literal({type:e,value:t,loc:r}){return function({type:e,value:t,loc:r}){const s={type:e,value:t,loc:r};return Object.defineProperty(s,"original",{enumerable:!1,get(){return this.value},set(e){this.value=e}}),s}({type:e,value:t,loc:r})}};class mt{constructor(e,t=new W(j),r="precompile"){this.elementStack=[],this.currentAttribute=null,this.currentNode=null,this.source=e,this.lines=e.source.split(/\r\n?|\n/u),this.tokenizer=new ee(this,t,r)}offset(){let{line:e,column:t}=this.tokenizer;return this.source.offsetFor(e,t)}pos({line:e,column:t}){return this.source.offsetFor(e,t)}finish(e){return k({},e,{loc:e.start.until(this.offset())})}get currentAttr(){return this.currentAttribute}get currentTag(){let e=this.currentNode;return e&&("StartTag"===e.type||e.type),e}get currentStartTag(){let e=this.currentNode;return e&&e.type,e}get currentEndTag(){let e=this.currentNode;return e&&e.type,e}get currentComment(){let e=this.currentNode;return e&&e.type,e}get currentData(){let e=this.currentNode;return e&&e.type,e}acceptNode(e){return this[e.type](e)}currentElement(){return b(this.elementStack)}sourceForNode(e,t){let r,s,n,i=e.loc.start.line-1,a=i-1,o=e.loc.start.column,l=[];for(t?(s=t.loc.end.line-1,n=t.loc.end.column):(s=e.loc.end.line-1,n=e.loc.end.column);a<s;)a++,r=f(this.lines[a]),a===i?i===s?l.push(r.slice(o,n)):l.push(r.slice(o)):a===s?l.push(r.slice(0,n)):l.push(r);return l.join("\n")}}const ft="beforeAttributeName";class gt extends mt{parse(e,t){e.loc;let r=dt.template({body:[],blockParams:t,loc:this.source.spanFor(e.loc)}),s=this.parseProgram(r,e);return this.pendingError?.eof(s.loc.getEnd()),s}Program(e,t){e.loc;let r=dt.blockItself({body:[],params:t,chained:e.chained,loc:this.source.spanFor(e.loc)});return this.parseProgram(r,e)}parseProgram(e,t){if(0===t.body.length)return e;let r;try{this.elementStack.push(e);for(let e of t.body)this.acceptNode(e)}finally{r=this.elementStack.pop()}if(e!==r){if("ElementNode"===r?.type)throw _e(`Unclosed element \`${r.tag}\``,r.loc);e.type}return e}BlockStatement(e){if("comment"===this.tokenizer.state)return e.loc,void this.appendToCommentData(this.sourceForNode(e));if("data"!==this.tokenizer.state&&"beforeData"!==this.tokenizer.state)throw _e("A block may only be used inside an HTML element or another block.",this.source.spanFor(e.loc));const{path:t,params:r,hash:s}=bt(this,e),n=this.source.spanFor(e.loc);let i,a=[];if(e.program.blockParams?.length){let t=s.loc.collapse("end");t=e.program.loc?t.withEnd(this.source.spanFor(e.program.loc).getStart()):e.program.body[0]?t.withEnd(this.source.spanFor(e.program.body[0].loc).getStart()):t.withEnd(n.getEnd()),i=vt(this.source,e,t);const r=t.asString();let o=r.indexOf("|")+1;const l=r.indexOf("|",o);for(const s of e.program.blockParams){let e,n;e=o>=l?-1:r.indexOf(s,o),-1===e||e+s.length>l?(o=l,n=this.source.spanFor(se)):(o=e,n=t.sliceStartChars({skipStart:o,chars:s.length}),o+=s.length),a.push(dt.var({name:s,loc:n}))}}else i=vt(this.source,e,n);const o=this.Program(i.program,a),l=i.inverse?this.Program(i.inverse,[]):null,c=dt.block({path:t,params:r,hash:s,defaultBlock:o,elseBlock:l,loc:this.source.spanFor(e.loc),openStrip:e.openStrip,inverseStrip:e.inverseStrip,closeStrip:e.closeStrip});Ze(this.currentElement(),c)}MustacheStatement(e){this.pendingError?.mustache(this.source.spanFor(e.loc));const{tokenizer:t}=this;if("comment"===t.state)return void this.appendToCommentData(this.sourceForNode(e));let r;const{escaped:s,loc:n,strip:i}=e;if("original"in e.path&&"...attributes"===e.path.original)throw _e("Illegal use of ...attributes",this.source.spanFor(e.loc));if(Xe(e.path))r=dt.mustache({path:this.acceptNode(e.path),params:[],hash:dt.hash({pairs:[],loc:this.source.spanFor(e.path.loc).collapse("end")}),trusting:!s,loc:this.source.spanFor(n),strip:i});else{const{path:t,params:a,hash:o}=bt(this,e);r=dt.mustache({path:t,params:a,hash:o,trusting:!s,loc:this.source.spanFor(n),strip:i})}switch(t.state){case"tagOpen":case"tagName":throw _e("Cannot use mustaches in an elements tagname",r.loc);case"beforeAttributeName":yt(this.currentStartTag,r);break;case"attributeName":case"afterAttributeName":this.beginAttributeValue(!1),this.finishAttributeValue(),yt(this.currentStartTag,r),t.transitionTo(ft);break;case"afterAttributeValueQuoted":yt(this.currentStartTag,r),t.transitionTo(ft);break;case"beforeAttributeValue":this.beginAttributeValue(!1),this.appendDynamicAttributeValuePart(r),t.transitionTo("attributeValueUnquoted");break;case"attributeValueDoubleQuoted":case"attributeValueSingleQuoted":case"attributeValueUnquoted":this.appendDynamicAttributeValuePart(r);break;default:Ze(this.currentElement(),r)}return r}appendDynamicAttributeValuePart(e){this.finalizeTextPart();const t=this.currentAttr;t.isDynamic=!0,t.parts.push(e)}finalizeTextPart(){const e=this.currentAttr.currentPart;null!==e&&(this.currentAttr.parts.push(e),this.startTextPart())}startTextPart(){this.currentAttr.currentPart=null}ContentStatement(e){!function(e,t){let r=t.loc.start.line,s=t.loc.start.column;const n=function(e,t){if(""===t)return{lines:e.split("\n").length-1,columns:0};const[r]=e.split(t),s=r.split(/\n/u),n=s.length-1;return{lines:n,columns:s[n].length}}(t.original,t.value);r+=n.lines,n.lines?s=n.columns:s+=n.columns,e.line=r,e.column=s}(this.tokenizer,e),this.tokenizer.tokenizePart(e.value),this.tokenizer.flushData()}CommentStatement(e){const{tokenizer:t}=this;if("comment"===t.state)return this.appendToCommentData(this.sourceForNode(e)),null;const{value:r,loc:s}=e,n=dt.mustacheComment({value:r,loc:this.source.spanFor(s)});switch(t.state){case"beforeAttributeName":case"afterAttributeName":this.currentStartTag.comments.push(n);break;case"beforeData":case"data":Ze(this.currentElement(),n);break;default:throw _e(`Using a Handlebars comment when in the \`${t.state}\` state is not supported`,this.source.spanFor(e.loc))}return n}PartialStatement(e){throw _e("Handlebars partials are not supported",this.source.spanFor(e.loc))}PartialBlockStatement(e){throw _e("Handlebars partial blocks are not supported",this.source.spanFor(e.loc))}Decorator(e){throw _e("Handlebars decorators are not supported",this.source.spanFor(e.loc))}DecoratorBlock(e){throw _e("Handlebars decorator blocks are not supported",this.source.spanFor(e.loc))}SubExpression(e){const{path:t,params:r,hash:s}=bt(this,e);return dt.sexpr({path:t,params:r,hash:s,loc:this.source.spanFor(e.loc)})}PathExpression(e){const{original:t}=e;let r;if(-1!==t.indexOf("/")){if("./"===t.slice(0,2))throw _e('Using "./" is not supported in Glimmer and unnecessary',this.source.spanFor(e.loc));if("../"===t.slice(0,3))throw _e('Changing context using "../" is not supported in Glimmer',this.source.spanFor(e.loc));if(-1!==t.indexOf("."))throw _e("Mixing '.' and '/' in paths is not supported in Glimmer; use only '.' to separate property paths",this.source.spanFor(e.loc));r=[e.parts.join("/")]}else{if("."===t)throw _e("'.' is not a supported path in Glimmer; check for a path with a trailing '.'",this.source.spanFor(e.loc));r=e.parts}let s,n=!1;if(/^this(?:\..+)?$/u.test(t)&&(n=!0),n)s=dt.this({loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+4}})});else if(e.data){const t=r.shift();if(void 0===t)throw _e("Attempted to parse a path expression, but it was not valid. Paths beginning with @ must start with a-z.",this.source.spanFor(e.loc));s=dt.atName({name:`@${t}`,loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+t.length+1}})})}else{const t=r.shift();if(void 0===t)throw _e("Attempted to parse a path expression, but it was not valid. Paths must start with a-z or A-Z.",this.source.spanFor(e.loc));s=dt.var({name:t,loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+t.length}})})}return dt.path({head:s,tail:r,loc:this.source.spanFor(e.loc)})}Hash(e){const t=e.pairs.map(e=>dt.pair({key:e.key,value:this.acceptNode(e.value),loc:this.source.spanFor(e.loc)}));return dt.hash({pairs:t,loc:this.source.spanFor(e.loc)})}StringLiteral(e){return dt.literal({type:"StringLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}BooleanLiteral(e){return dt.literal({type:"BooleanLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}NumberLiteral(e){return dt.literal({type:"NumberLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}UndefinedLiteral(e){return dt.literal({type:"UndefinedLiteral",value:void 0,loc:this.source.spanFor(e.loc)})}NullLiteral(e){return dt.literal({type:"NullLiteral",value:null,loc:this.source.spanFor(e.loc)})}constructor(...e){super(...e),this.pendingError=null}}function bt(e,t){let r;switch(t.path.type){case"PathExpression":r=e.PathExpression(t.path);break;case"SubExpression":r=e.SubExpression(t.path);break;case"StringLiteral":case"UndefinedLiteral":case"NullLiteral":case"NumberLiteral":case"BooleanLiteral":{let r;throw r="BooleanLiteral"===t.path.type?t.path.original.toString():"StringLiteral"===t.path.type?`"${t.path.original}"`:"NullLiteral"===t.path.type?"null":"NumberLiteral"===t.path.type?t.path.value.toString():"undefined",_e(`${t.path.type} "${"StringLiteral"===t.path.type?t.path.original:r}" cannot be called as a sub-expression, replace (${r}) with ${r}`,e.source.spanFor(t.path.loc))}}const s=t.params.map(t=>e.acceptNode(t)),n=g(s)?b(s).loc:r.loc;return{path:r,params:s,hash:t.hash?e.Hash(t.hash):dt.hash({pairs:[],loc:e.source.spanFor(n).collapse("end")})}}function yt(e,t){const{path:r,params:s,hash:n,loc:i}=t;if(Xe(r)){const s=`{{${function(e){return"UndefinedLiteral"===e.type?"undefined":JSON.stringify(e.value)}(r)}}}`;throw _e(`In <${e.name} ... ${s} ..., ${s} is not a valid modifier`,t.loc)}const a=dt.elementModifier({path:r,params:s,hash:n,loc:i});e.modifiers.push(a)}function vt(e,t,r){if(!t.program.loc){const s=t.program.body.at(0),n=t.program.body.at(-1);if(s&&n)t.program.loc={...s.loc,end:n.loc.end};else{const s=e.spanFor(t.loc);t.program.loc=r.withEnd(s.getEnd())}}let s=e.spanFor(t.program.loc).getEnd();return t.inverse&&!t.inverse.loc&&(t.inverse.loc=s.collapsed()),t}function wt(e){return/[\t\n\f ]/u.test(e)}class kt extends gt{reset(){this.currentNode=null}beginComment(){this.currentNode={type:"CommentStatement",value:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}appendToCommentData(e){this.currentComment.value+=e}finishComment(){Ze(this.currentElement(),dt.comment(this.finish(this.currentComment)))}beginData(){this.currentNode={type:"TextNode",chars:"",start:this.offset()}}appendToData(e){this.currentData.chars+=e}finishData(){Ze(this.currentElement(),dt.text(this.finish(this.currentData)))}tagOpen(){this.tagOpenLine=this.tokenizer.line,this.tagOpenColumn=this.tokenizer.column}beginStartTag(){this.currentNode={type:"StartTag",name:"",nameStart:null,nameEnd:null,attributes:[],modifiers:[],comments:[],params:[],selfClosing:!1,start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}beginEndTag(){this.currentNode={type:"EndTag",name:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}finishTag(){let e=this.finish(this.currentTag);if("StartTag"===e.type){if(this.finishStartTag(),":"===e.name)throw _e("Invalid named block named detected, you may have created a named block without a name, or you may have began your name with a number. Named blocks must have names that are at least one character long, and begin with a lower case letter",this.source.spanFor({start:this.currentTag.start.toJSON(),end:this.offset().toJSON()}));(l.has(e.name)||e.selfClosing)&&this.finishEndTag(!0)}else e.type,e.type,this.finishEndTag(!1)}finishStartTag(){let{name:e,nameStart:t,nameEnd:r}=this.currentStartTag,s=t.until(r),[n,...i]=e.split("."),a=dt.path({head:dt.head({original:n,loc:s.sliceStartChars({chars:n.length})}),tail:i,loc:s}),{attributes:o,modifiers:l,comments:c,params:h,selfClosing:u,loc:p}=this.finish(this.currentStartTag),d=dt.element({path:a,selfClosing:u,attributes:o,modifiers:l,comments:c,params:h,children:[],openTag:p,closeTag:u?null:be.broken(),loc:p});this.elementStack.push(d)}finishEndTag(e){let{start:t}=this.currentTag,r=this.finish(this.currentTag),s=this.elementStack.pop();this.validateEndTag(r,s,e);let n=this.currentElement();e?s.closeTag=null:s.selfClosing?s.closeTag:s.closeTag=t.until(this.offset()),s.loc=s.loc.withEnd(this.offset()),Ze(n,dt.element(s))}markTagAsSelfClosing(){let e=this.currentTag;if("StartTag"!==e.type)throw _e("Invalid end tag: closing tag must not be self-closing",this.source.spanFor({start:e.start.toJSON(),end:this.offset().toJSON()}));e.selfClosing=!0}appendToTagName(e){let t=this.currentTag;if(t.name+=e,"StartTag"===t.type){let e=this.offset();null===t.nameStart&&(t.nameEnd,t.nameStart=e.move(-1)),t.nameEnd=e}}beginAttribute(){let e=this.offset();this.currentAttribute={name:"",parts:[],currentPart:null,isQuoted:!1,isDynamic:!1,start:e,valueSpan:e.collapsed()}}appendToAttributeName(e){this.currentAttr.name+=e,"as"===this.currentAttr.name&&this.parsePossibleBlockParams()}beginAttributeValue(e){this.currentAttr.isQuoted=e,this.startTextPart(),this.currentAttr.valueSpan=this.offset().collapsed()}appendToAttributeValue(e){let t=this.currentAttr.parts,r=t[t.length-1],s=this.currentAttr.currentPart;if(s)s.chars+=e,s.loc=s.loc.withEnd(this.offset());else{let t=this.offset();t="\n"===e?r?r.loc.getEnd():this.currentAttr.valueSpan.getStart():t.move(-1),this.currentAttr.currentPart=dt.text({chars:e,loc:t.collapsed()})}}finishAttributeValue(){this.finalizeTextPart();let e=this.currentTag,t=this.offset();if("EndTag"===e.type)throw _e("Invalid end tag: closing tag must not have attributes",this.source.spanFor({start:e.start.toJSON(),end:t.toJSON()}));let{name:r,parts:s,start:n,isQuoted:i,isDynamic:a,valueSpan:o}=this.currentAttr;if(r.startsWith("|")&&0===s.length&&!i&&!a)throw _e("Invalid block parameters syntax: block parameters must be preceded by the `as` keyword",n.until(n.move(r.length)));let l=this.assembleAttributeValue(s,i,a,n.until(t));l.loc=o.withEnd(t);let c=dt.attr({name:r,value:l,loc:n.until(t)});this.currentStartTag.attributes.push(c)}parsePossibleBlockParams(){const e=/[!"#%&'()*+./;<=>@[\\\]^`{|}~]/u;this.tokenizer.state;const t=this.currentStartTag,r=this.currentAttr;let s={state:"PossibleAs"};const n={PossibleAs:e=>{if(s.state,wt(e))s={state:"BeforeStartPipe"},this.tokenizer.transitionTo("afterAttributeName"),this.tokenizer.consume();else{if("|"===e)throw _e('Invalid block parameters syntax: expecting at least one space character between "as" and "|"',r.start.until(this.offset().move(1)));s={state:"Done"}}},BeforeStartPipe:e=>{s.state,wt(e)?this.tokenizer.consume():"|"===e?(s={state:"BeforeBlockParamName"},this.tokenizer.transitionTo("beforeAttributeName"),this.tokenizer.consume()):s={state:"Done"}},BeforeBlockParamName:e=>{if(s.state,wt(e))this.tokenizer.consume();else if(""===e)s={state:"Done"},this.pendingError={mustache(e){throw _e("Invalid block parameters syntax: mustaches cannot be used inside parameters list",e)},eof(e){throw _e('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',r.start.until(e))}};else if("|"===e){if(0===t.params.length)throw _e("Invalid block parameters syntax: empty parameters list, expecting at least one identifier",r.start.until(this.offset().move(1)));s={state:"AfterEndPipe"},this.tokenizer.consume()}else{if(">"===e||"/"===e)throw _e('Invalid block parameters syntax: incomplete parameters list, expecting "|" but the tag was closed prematurely',r.start.until(this.offset().move(1)));s={state:"BlockParamName",name:e,start:this.offset()},this.tokenizer.consume()}},BlockParamName:n=>{if(s.state,""===n)s={state:"Done"},this.pendingError={mustache(e){throw _e("Invalid block parameters syntax: mustaches cannot be used inside parameters list",e)},eof(e){throw _e('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',r.start.until(e))}};else if("|"===n||wt(n)){let r=s.start.until(this.offset());if("this"===s.name||e.test(s.name))throw _e(`Invalid block parameters syntax: invalid identifier name \`${s.name}\``,r);t.params.push(dt.var({name:s.name,loc:r})),s="|"===n?{state:"AfterEndPipe"}:{state:"BeforeBlockParamName"},this.tokenizer.consume()}else{if(">"===n||"/"===n)throw _e('Invalid block parameters syntax: expecting "|" but the tag was closed prematurely',r.start.until(this.offset().move(1)));s.name+=n,this.tokenizer.consume()}},AfterEndPipe:e=>{s.state,wt(e)?this.tokenizer.consume():""===e?(s={state:"Done"},this.pendingError={mustache(e){throw _e("Invalid block parameters syntax: modifiers cannot follow parameters list",e)},eof(e){throw _e('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',r.start.until(e))}}):">"===e||"/"===e?s={state:"Done"}:(s={state:"Error",message:'Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',start:this.offset()},this.tokenizer.consume())},Error:e=>{if(s.state,""===e||"/"===e||">"===e||wt(e))throw _e(s.message,s.start.until(this.offset()));this.tokenizer.consume()},Done:()=>{}};let i;do{i=this.tokenizer.peek(),n[s.state](i)}while("Done"!==s.state&&""!==i);s.state}reportSyntaxError(e){throw _e(e,this.offset().collapsed())}assembleConcatenatedValue(e){let t=v(e),r=b(e);return dt.concat({parts:e,loc:this.source.spanFor(t.loc).extend(this.source.spanFor(r.loc))})}validateEndTag(e,t,r){if(l.has(e.name)&&!r)throw _e(`<${e.name}> elements do not need end tags. You should remove it`,e.loc);if("ElementNode"!==t.type)throw _e(`Closing tag </${e.name}> without an open tag`,e.loc);if(t.tag!==e.name)throw _e(`Closing tag </${e.name}> did not match last open tag <${t.tag}> (on line ${t.loc.startPosition.line})`,e.loc)}assembleAttributeValue(e,t,r,s){if(r){if(t)return this.assembleConcatenatedValue(e);{const[t,r]=e;if(void 0===r||"TextNode"===r.type&&"/"===r.chars)return t;throw _e("An unquoted attribute value must be a string or a mustache, preceded by whitespace or a '=' character, and followed by whitespace, a '>' character, or '/>'",s)}}return g(e)?e[0]:dt.text({chars:"",loc:s})}constructor(...e){super(...e),this.tagOpenLine=0,this.tagOpenColumn=0}}const St={parse:xt,builders:ht,print:p,traverse:Je,Walker:Qe};class Et extends W{constructor(){super({})}parse(){}}function xt(e,t={}){let r,s,n,i=t.mode||"precompile";"string"==typeof e?(r=new Ae(e,t.meta?.moduleName),s="codemod"===i?U(e,t.parseOptions):M(e,t.parseOptions)):e instanceof Ae?(r=e,s="codemod"===i?U(e.source,t.parseOptions):M(e.source,t.parseOptions)):(r=new Ae("",t.meta?.moduleName),s=e),"codemod"===i&&(n=new Et);let a=be.forCharPositions(r,0,r.source.length);s.loc={source:"(program)",start:a.startPosition,end:a.endPosition};let o=new kt(r,n,i).parse(s,t.locals??[]);if(t.plugins?.ast)for(const l of t.plugins.ast)Je(o,l(k({},t,{syntax:St},{plugins:void 0})).visitor);return o}function Tt(e,t,r,s){const n=function(e,t,r){if("PathExpression"===e.type){if("AtHead"===e.head.type||"ThisHead"===e.head.type)return;const r=e.head.name;if(-1===t.indexOf(r))return r}else if("ElementNode"===e.type){const{tag:s}=e,n=s.charAt(0);if(":"===n||"@"===n)return;if(!r.includeHtmlElements&&-1===s.indexOf(".")&&s.toLowerCase()===s)return;if("this."===s.substr(0,5))return;if(s.includes(".")){let[e]=s.split(".");if(t.includes(e))return}if(t.includes(s))return;return s}}(t,r,s);if(void 0!==n&&"@"!==n[0]){const t=n.split(".")[0];t&&!r.includes(t)&&e.add(t)}}function Nt(e){if(void 0!==e){const t=e;return{fields:()=>class{constructor(e){this.type=t,k(this,e)}}}}return{fields:()=>class{constructor(e){k(this,e)}}}}class Pt extends(Nt().fields()){static empty(e){return new Pt({loc:e,positional:At.empty(e),named:Ct.empty(e)})}static named(e){return new Pt({loc:e.loc,positional:At.empty(e.loc.collapse("end")),named:e})}nth(e){return this.positional.nth(e)}get(e){return this.named.get(e)}isEmpty(){return this.positional.isEmpty()&&this.named.isEmpty()}}class At extends(Nt().fields()){static empty(e){return new At({loc:e,exprs:[]})}get size(){return this.exprs.length}nth(e){return this.exprs[e]||null}isEmpty(){return 0===this.exprs.length}}class Ct extends(Nt().fields()){static empty(e){return new Ct({loc:e,entries:[]})}get size(){return this.entries.length}get(e){let t=this.entries.filter(t=>t.name.chars===e)[0];return t?t.value:null}isEmpty(){return 0===this.entries.length}}class Lt{constructor(e){this.loc=e.name.loc.extend(e.value.loc),this.name=e.name,this.value=e.value}}class Ot extends(Nt("HtmlAttr").fields()){}class Bt extends(Nt("SplatAttr").fields()){}class Dt extends(Nt().fields()){toNamedArgument(){return new Lt({name:this.name,value:this.value})}}class _t extends(Nt("ElementModifier").fields()){}class It extends(Nt("GlimmerComment").fields()){}class qt extends(Nt("HtmlText").fields()){}class $t extends(Nt("HtmlComment").fields()){}class Ft extends(Nt("AppendContent").fields()){get callee(){return"Call"===this.value.type?this.value.callee:this.value}get args(){return"Call"===this.value.type?this.value.args:Pt.empty(this.value.loc.collapse("end"))}}class Rt extends(Nt("InvokeBlock").fields()){}class Vt extends(Nt("InvokeComponent").fields()){get args(){let e=this.componentArgs.map(e=>e.toNamedArgument());return Pt.named(new Ct({loc:Ce.range(e,this.callee.loc.collapse("end")),entries:e}))}}class Ht extends(Nt("SimpleElement").fields()){get args(){let e=this.componentArgs.map(e=>e.toNamedArgument());return Pt.named(new Ct({loc:Ce.range(e,this.tag.loc.collapse("end")),entries:e}))}}class Ut extends(Nt("Literal").fields()){toSlice(){return new ge({loc:this.loc,chars:this.value})}}class Mt extends(Nt("Path").fields()){}class jt extends(Nt("Keyword").fields()){}class zt extends(Nt("Call").fields()){}class Gt extends(Nt("Interpolate").fields()){}class Kt extends(Nt().fields()){}class Wt extends(Nt().fields()){}class Jt extends(Nt().fields()){get(e){return this.blocks.filter(t=>t.name.chars===e)[0]||null}}class Qt extends(Nt().fields()){get args(){let e=this.componentArgs.map(e=>e.toNamedArgument());return Pt.named(new Ct({loc:Ce.range(e,this.name.loc.collapse("end")),entries:e}))}}class Yt extends(Nt("This").fields()){}class Zt extends(Nt("Arg").fields()){}class Xt extends(Nt("Local").fields()){}class er extends(Nt("Free").fields()){}const tr="Helper",rr="Modifier",sr="Component",nr={resolution:()=>31,serialize:()=>"Strict",isAngleBracket:!1},ir={...nr,isAngleBracket:!0};class ar{static namespaced(e,t=!1){return new ar([e],t)}static append(){return new ar([sr,tr])}static trustingAppend(){return this.namespaced(tr)}constructor(e,t=!1){this.namespaces=e,this.isAngleBracket=t}resolution(){if(1!==this.namespaces.length)return 35;switch(this.namespaces[0]){case tr:return 37;case rr:return 38;case sr:return 39}}serialize(){return 1===this.namespaces.length?this.namespaces[0]:"ComponentOrHelper"}}const or=tr,lr=rr,cr=sr;var hr=Object.freeze({__proto__:null,AppendContent:Ft,ArgReference:Zt,Args:Pt,Block:Wt,COMPONENT_NAMESPACE:cr,CallExpression:zt,ComponentArg:Dt,ElementModifier:_t,FreeVarReference:er,GlimmerComment:It,HELPER_NAMESPACE:or,HTML_RESOLUTION:ir,HtmlAttr:Ot,HtmlComment:$t,HtmlText:qt,InterpolateExpression:Gt,InvokeBlock:Rt,InvokeComponent:Vt,KeywordExpression:jt,LiteralExpression:Ut,LocalVarReference:Xt,LooseModeResolution:ar,MODIFIER_NAMESPACE:lr,NamedArgument:Lt,NamedArguments:Ct,NamedBlock:Qt,NamedBlocks:Jt,PathExpression:Mt,PositionalArguments:At,STRICT_RESOLUTION:nr,SimpleElement:Ht,SplatAttr:Bt,Template:Kt,ThisReference:Yt,isLiteral:function(e,t){return"Literal"===e.type&&(void 0===t||("null"===t?null===e.value:typeof e.value===t))},isStrictResolution:function(e){return e===nr},loadResolution:function(e){return"Strict"===e?nr:"ComponentOrHelper"===e?ar.append():ar.namespaced(e)},node:Nt});class ur{static top(e,t,r){return new pr(e,t,r)}child(e){let t=e.map(e=>this.allocate(e));return new dr(this,e,t)}}class pr extends ur{constructor(e,t,r){super(),this.templateLocals=e,this.keywords=t,this.options=r,this.symbols=[],this.upvars=[],this.size=1,this.named=w(),this.blocks=w(),this.usedTemplateLocals=[]}root(){return this}hasLexical(e){return this.options.lexicalScope(e)}hasKeyword(e){return this.keywords.includes(e)}getKeyword(e){return this.allocateFree(e,nr)}getUsedTemplateLocals(){return this.usedTemplateLocals}has(e){return this.templateLocals.includes(e)}get(e){let t=this.usedTemplateLocals.indexOf(e);return-1!==t||(t=this.usedTemplateLocals.length,this.usedTemplateLocals.push(e)),[t,!0]}getLocalsMap(){return w()}getDebugInfo(){return[this.getLocalsMap(),this.named]}allocateFree(e,t){39===t.resolution()&&t.isAngleBracket&&(e=this.options.customizeComponentName(e));let r=this.upvars.indexOf(e);return-1!==r||(r=this.upvars.length,this.upvars.push(e)),r}allocateNamed(e){let t=this.named[e];return t||(t=this.named[e]=this.allocate(e)),t}allocateBlock(e){"inverse"===e&&(e="else");let t=this.blocks[e];return t||(t=this.blocks[e]=this.allocate(`&${e}`)),t}allocate(e){return this.symbols.push(e),this.size++}}class dr extends ur{constructor(e,t,r){super(),this.parent=e,this.symbols=t,this.slots=r}root(){return this.parent.root()}get locals(){return this.symbols}hasLexical(e){return this.parent.hasLexical(e)}getKeyword(e){return this.parent.getKeyword(e)}hasKeyword(e){return this.parent.hasKeyword(e)}has(e){return-1!==this.symbols.indexOf(e)||this.parent.has(e)}get(e){let t=this.#s(e);return t?[t,!1]:this.parent.get(e)}#s(e){let t=this.symbols.indexOf(e);return-1===t?null:this.slots[t]}getLocalsMap(){let e=this.parent.getLocalsMap();return this.symbols.forEach(t=>e[t]=this.get(t)[0]),e}getDebugInfo(){const e=this.getLocalsMap(),t=this.root();return[{...e,...t.named},Object.fromEntries(t.upvars.map((e,t)=>[e,t]))]}allocateFree(e,t){return this.parent.allocateFree(e,t)}allocateNamed(e){return this.parent.allocateNamed(e)}allocateBlock(e){return this.parent.allocateBlock(e)}allocate(e){return this.parent.allocate(e)}}class mr{template(e,t,r){return new Kt({table:e,body:t,loc:r})}block(e,t,r){return new Wt({scope:e,body:t,loc:r})}namedBlock(e,t,r){return new Qt({name:e,block:t,attrs:[],componentArgs:[],modifiers:[],loc:r})}simpleNamedBlock(e,t,r){return new fr({selfClosing:!1,attrs:[],componentArgs:[],modifiers:[],comments:[]}).named(e,t,r)}slice(e,t){return new ge({loc:t,chars:e})}args(e,t,r){return new Pt({loc:r,positional:e,named:t})}positional(e,t){return new At({loc:t,exprs:e})}namedArgument(e,t){return new Lt({name:e,value:t})}named(e,t){return new Ct({loc:t,entries:e})}attr({name:e,value:t,trusting:r},s){return new Ot({loc:s,name:e,value:t,trusting:r})}splatAttr(e,t){return new Bt({symbol:e,loc:t})}arg({name:e,value:t,trusting:r},s){return new Dt({name:e,value:t,trusting:r,loc:s})}path(e,t,r){return new Mt({loc:r,ref:e,tail:t})}keyword(e,t,r){return new jt({loc:r,name:e,symbol:t})}self(e){return new Yt({loc:e})}at(e,t,r){return e[0],new Zt({loc:r,name:new ge({loc:r,chars:e}),symbol:t})}freeVar({name:e,context:t,symbol:r,loc:s}){return e[0],new er({name:e,resolution:t,symbol:r,loc:s})}localVar(e,t,r,s){return e[0],new Xt({loc:s,name:e,isTemplateLocal:r,symbol:t})}sexp(e,t){return new zt({loc:t,callee:e.callee,args:e.args})}interpolate(e,t){return new Gt({loc:t,parts:e})}literal(e,t){return new Ut({loc:t,value:e})}append({table:e,trusting:t,value:r},s){return new Ft({table:e,trusting:t,value:r,loc:s})}modifier({callee:e,args:t},r){return new _t({loc:r,callee:e,args:t})}namedBlocks(e,t){return new Jt({loc:t,blocks:e})}blockStatement({program:e,inverse:t=null,...r},s){let n=e.loc,i=[this.namedBlock(ge.synthetic("default"),e,e.loc)];return t&&(n=n.extend(t.loc),i.push(this.namedBlock(ge.synthetic("else"),t,t.loc))),new Rt({loc:s,blocks:this.namedBlocks(i,n),callee:r.callee,args:r.args})}element(e){return new fr(e)}}class fr{constructor(e){this.base=e,this.builder=new mr}simple(e,t,r){return new Ht(k({tag:e,body:t,componentArgs:[],loc:r},this.base))}named(e,t,r){return new Qt(k({name:e,block:t,componentArgs:[],loc:r},this.base))}selfClosingComponent(e,t){return new Vt(k({loc:t,callee:e,blocks:new Jt({blocks:[],loc:t.sliceEndChars({skipEnd:1,chars:1})})},this.base))}componentWithDefaultBlock(e,t,r,s){let n=this.builder.block(r,t,s),i=this.builder.namedBlock(ge.synthetic("default"),n,s);return new Vt(k({loc:s,callee:e,blocks:this.builder.namedBlocks([i],i.loc)},this.base))}componentWithNamedBlocks(e,t,r){return new Vt(k({loc:r,callee:e,blocks:this.builder.namedBlocks(t,Ce.range(t))},this.base))}}function gr(e){return Sr(e)?ar.namespaced(or):null}function br(e){return Sr(e)?ar.namespaced(lr):null}function yr(e){return Sr(e)?ar.namespaced(cr):null}function vr(e){return Er(e)?ar.namespaced(cr,!0):null}function wr(e){return Sr(e)?ar.namespaced(or):null}function kr(e){let t=Sr(e),r=e.trusting;return t?r?ar.trustingAppend():ar.append():null}function Sr(e){return Er(e.path)}function Er(e){return"PathExpression"===e.type&&"VarHead"===e.head.type&&0===e.tail.length}class xr{constructor(e,t,r){this.source=e,this.options=t,this.table=r,this.builder=new mr}get strict(){return this.options.strictMode||!1}loc(e){return this.source.spanFor(e)}resolutionFor(e,t){if(this.strict)return{result:nr};if(this.isFreeVar(e)){let r=t(e);return null===r?{result:"error",path:_r(e),head:Ir(e)}:{result:r}}return{result:nr}}isLexicalVar(e){return this.table.hasLexical(e)}isKeyword(e){return this.strict&&!this.table.hasLexical(e)&&this.table.hasKeyword(e)}isFreeVar(e){return"PathExpression"===e.type?"VarHead"===e.head.type&&!this.table.has(e.head.name):"PathExpression"===e.path.type&&this.isFreeVar(e.path)}hasBinding(e){return this.table.has(e)||this.table.hasLexical(e)}child(e){return new xr(this.source,this.options,this.table.child(e))}customizeComponentName(e){return this.options.customizeComponentName?this.options.customizeComponentName(e):e}}class Tr{constructor(e){this.block=e}normalize(e,t){switch(e.type){case"NullLiteral":case"BooleanLiteral":case"NumberLiteral":case"StringLiteral":case"UndefinedLiteral":return this.block.builder.literal(e.value,this.block.loc(e.loc));case"PathExpression":return this.path(e,t);case"SubExpression":{Br(e.path)&&Dr(e.path,e.loc);let t=this.block.resolutionFor(e,gr);if("error"===t.result)throw _e(`You attempted to invoke a path (\`${t.path}\`) but ${t.head} was not in scope`,e.loc);return this.block.builder.sexp(this.callParts(e,t.result),this.block.loc(e.loc))}}}path(e,t){let r=this.block.loc(e.loc);if("VarHead"===e.head.type&&0===e.tail.length&&this.block.isKeyword(e.head.name))return this.block.builder.keyword(e.head.name,this.block.table.getKeyword(e.head.name),r);let s=[],n=this.block.loc(e.head.loc);for(let i of e.tail)n=n.sliceStartChars({chars:i.length,skipStart:1}),s.push(new ge({loc:n,chars:i}));return this.block.builder.path(this.ref(e.head,t),s,r)}callParts(e,t){let{path:r,params:s,hash:n,loc:i}=e,a=this.normalize(r,t),o=s.map(e=>this.normalize(e,nr)),l=Ce.range(o,a.loc.collapse("end")),c=this.block.loc(n.loc),h=Ce.range([l,c]),u=this.block.builder.positional(s.map(e=>this.normalize(e,nr)),l),p=this.block.builder.named(n.pairs.map(e=>this.namedArgument(e)),this.block.loc(n.loc));switch(a.type){case"Literal":throw _e(`Invalid invocation of a literal value (\`${a.value}\`)`,i);case"Interpolate":throw _e("Invalid invocation of a interpolated string",i)}return{callee:a,args:this.block.builder.args(u,p,h)}}namedArgument(e){let t=this.block.loc(e.loc).sliceStartChars({chars:e.key.length});return this.block.builder.namedArgument(new ge({chars:e.key,loc:t}),this.normalize(e.value,nr))}ref(e,t){let{block:r}=this,{builder:s,table:n}=r,i=r.loc(e.loc);switch(e.type){case"ThisHead":if(r.hasBinding("this")){let[e,t]=n.get("this");return r.builder.localVar("this",e,t,i)}return s.self(i);case"AtHead":{let t=n.allocateNamed(e.name);return s.at(e.name,t,i)}case"VarHead":if(r.hasBinding(e.name)){let[t,s]=n.get(e.name);return r.builder.localVar(e.name,t,s,i)}{let s=r.strict?nr:t,n=r.table.allocateFree(e.name,s);return r.builder.freeVar({name:e.name,context:s,symbol:n,loc:i})}}}}class Nr{constructor(e){this.block=e}normalize(e){switch(e.type){case"BlockStatement":return this.BlockStatement(e);case"ElementNode":return new Pr(this.block).ElementNode(e);case"MustacheStatement":return this.MustacheStatement(e);case"MustacheCommentStatement":return this.MustacheCommentStatement(e);case"CommentStatement":{let t=this.block.loc(e.loc);return new $t({loc:t,text:t.slice({skipStart:4,skipEnd:3}).toSlice(e.value)})}case"TextNode":return new qt({loc:this.block.loc(e.loc),chars:e.chars})}}MustacheCommentStatement(e){let t=this.block.loc(e.loc);if(""===e.value)return new It({loc:t,text:ge.synthetic("")});let r=t.asString(),s=t;if(e.value.startsWith("-"))s=s.sliceStartChars({skipStart:r.startsWith("{{~")?6:5,chars:e.value.length});else if(e.value.endsWith("-")){const t=r.endsWith("~}}")?5:4,n=r.length-e.value.length-t;s=s.slice({skipStart:n,skipEnd:t})}else s=s.sliceStartChars({skipStart:r.lastIndexOf(e.value),chars:e.value.length});return new It({loc:t,text:s.toSlice(e.value)})}MustacheStatement(e){let t,{path:r,params:s,hash:n,trusting:i}=e,a=this.block.loc(e.loc);if(Br(r))0===s.length&&0===n.pairs.length?t=this.expr.normalize(r):Dr(r,a);else{let i=this.block.resolutionFor(e,kr);if("error"===i.result)throw _e(`You attempted to render a path (\`{{${i.path}}}\`), but ${i.head} was not in scope`,a);let o=this.expr.callParts({path:r,params:s,hash:n,loc:a},i.result);t=o.args.isEmpty()?o.callee:this.block.builder.sexp(o,a)}return this.block.builder.append({table:this.block.table,trusting:i,value:t},a)}BlockStatement(e){let{program:t,inverse:r}=e,s=this.block.loc(e.loc);Br(e.path)&&Dr(e.path,s);let n=this.block.resolutionFor(e,yr);if("error"===n.result)throw _e(`You attempted to invoke a path (\`{{#${n.path}}}\`) but ${n.head} was not in scope`,s);let i=this.expr.callParts(e,n.result);return this.block.builder.blockStatement(k({symbols:this.block.table,program:this.Block(t),inverse:r?this.Block(r):null},i),s)}Block({body:e,loc:t,blockParams:r}){let s=this.block.child(r),n=new Nr(s);return new Lr(this.block.loc(t),e.map(e=>n.normalize(e)),this.block).assertBlock(s.table)}get expr(){return new Tr(this.block)}}class Pr{constructor(e){this.ctx=e}ElementNode(e){let{tag:t,selfClosing:r,comments:s}=e,n=this.ctx.loc(e.loc),[i,...a]=t.split("."),o=this.classifyTag(i,a,e.loc),l=e.attributes.filter(e=>"@"!==e.name[0]).map(e=>this.attr(e)),c=e.attributes.filter(e=>"@"===e.name[0]).map(e=>this.arg(e)),h=e.modifiers.map(e=>this.modifier(e)),u=this.ctx.child(e.blockParams),p=new Nr(u),d=e.children.map(e=>p.normalize(e)),m=this.ctx.builder.element({selfClosing:r,attrs:l,componentArgs:c,modifiers:h,comments:s.map(e=>new Nr(this.ctx).MustacheCommentStatement(e))}),f=new Or(m,n,d,this.ctx),g=this.ctx.loc(e.loc).sliceStartChars({chars:t.length,skipStart:1});if("ElementHead"===o)return":"===t[0]?f.assertNamedBlock(g.slice({skipStart:1}).toSlice(t.slice(1)),u.table):f.assertElement(g.toSlice(t),e.blockParams.length>0);if(e.selfClosing)return m.selfClosingComponent(o,n);{let r=f.assertComponent(t,u.table,e.blockParams.length>0);return m.componentWithNamedBlocks(o,r,n)}}modifier(e){Br(e.path)&&Dr(e.path,e.loc);let t=this.ctx.resolutionFor(e,br);if("error"===t.result)throw _e(`You attempted to invoke a path (\`{{${t.path}}}\`) as a modifier, but ${t.head} was not in scope`,e.loc);let r=this.expr.callParts(e,t.result);return this.ctx.builder.modifier(r,this.ctx.loc(e.loc))}mustacheAttr(e){let{path:t,params:r,hash:s,loc:n}=e;if(Br(t)){if(0===r.length&&0===s.pairs.length)return this.expr.normalize(t);Dr(t,n)}let i=this.ctx.resolutionFor(e,wr);if("error"===i.result)throw _e(`You attempted to render a path (\`{{${i.path}}}\`), but ${i.head} was not in scope`,e.loc);let a=this.ctx.builder.sexp(this.expr.callParts(e,i.result),this.ctx.loc(e.loc));return a.args.isEmpty()?a.callee:a}attrPart(e){switch(e.type){case"MustacheStatement":return{expr:this.mustacheAttr(e),trusting:e.trusting};case"TextNode":return{expr:this.ctx.builder.literal(e.chars,this.ctx.loc(e.loc)),trusting:!0}}}attrValue(e){if("ConcatStatement"===e.type){let t=e.parts.map(e=>this.attrPart(e).expr);return{expr:this.ctx.builder.interpolate(t,this.ctx.loc(e.loc)),trusting:!1}}return this.attrPart(e)}attr(e){if(e.name[0],"...attributes"===e.name)return this.ctx.builder.splatAttr(this.ctx.table.allocateBlock("attrs"),this.ctx.loc(e.loc));let t=this.ctx.loc(e.loc),r=t.sliceStartChars({chars:e.name.length}).toSlice(e.name),s=this.attrValue(e.value);return this.ctx.builder.attr({name:r,value:s.expr,trusting:s.trusting},t)}checkArgCall(e){let{value:t}=e;if("MustacheStatement"!==t.type)return;if(0!==t.params.length||0!==t.hash.pairs.length)return;let{path:r}=t;if("PathExpression"!==r.type)return;if(r.tail.length>0)return;let s=this.ctx.resolutionFor(r,()=>null);if("error"===s.result&&"has-block"!==s.path)throw _e(`You attempted to pass a path as argument (\`${e.name}={{${s.path}}}\`) but ${s.head} was not in scope. Try:\n* \`${e.name}={{this.${s.path}}}\` if this is meant to be a property lookup, or\n* \`${e.name}={{(${s.path})}}\` if this is meant to invoke the resolved helper, or\n* \`${e.name}={{helper "${s.path}"}}\` if this is meant to pass the resolved helper by value`,e.loc)}arg(e){e.name[0],this.checkArgCall(e);let t=this.ctx.loc(e.loc),r=t.sliceStartChars({chars:e.name.length}).toSlice(e.name),s=this.attrValue(e.value);return this.ctx.builder.arg({name:r,value:s.expr,trusting:s.trusting},t)}classifyTag(e,t,r){let s=(n=e)[0]===n[0]?.toUpperCase()&&n[0]!==n[0]?.toLowerCase();var n;let i="@"===e[0]||"this"===e||this.ctx.hasBinding(e);if(this.ctx.strict&&!i){if(s)throw _e(`Attempted to invoke a component that was not in scope in a strict mode template, \`<${e}>\`. If you wanted to create an element with that name, convert it to lowercase - \`<${e.toLowerCase()}>\``,r);return"ElementHead"}let a=i||s,o=r.sliceStartChars({skipStart:1,chars:e.length}),l=t.reduce((e,t)=>e+1+t.length,0),c=o.getEnd().move(l),h=o.withEnd(c);if(a){let s=dt.path({head:dt.head({original:e,loc:o}),tail:t,loc:h}),n=this.ctx.isLexicalVar(e)?{result:nr}:this.ctx.resolutionFor(s,vr);if("error"===n.result)throw _e(`You attempted to invoke a path (\`<${n.path}>\`) but ${n.head} was not in scope`,r);return new Tr(this.ctx).normalize(s,n.result)}if(this.ctx.table.allocateFree(e,nr),t.length>0)throw _e(`You used ${e}.${t.join(".")} as a tag name, but ${e} is not in scope`,r);return"ElementHead"}get expr(){return new Tr(this.ctx)}}class Ar{constructor(e,t,r){this.loc=e,this.children=t,this.block=r,this.namedBlocks=t.filter(e=>e instanceof Qt),this.hasSemanticContent=Boolean(t.filter(e=>{if(e instanceof Qt)return!1;switch(e.type){case"GlimmerComment":case"HtmlComment":return!1;case"HtmlText":return!/^\s*$/u.test(e.chars);default:return!0}}).length),this.nonBlockChildren=t.filter(e=>!(e instanceof Qt))}}class Cr extends Ar{assertTemplate(e){if(g(this.namedBlocks))throw _e("Unexpected named block at the top-level of a template",this.loc);return this.block.builder.template(e,this.nonBlockChildren,this.block.loc(this.loc))}}class Lr extends Ar{assertBlock(e){if(g(this.namedBlocks))throw _e("Unexpected named block nested in a normal block",this.loc);return this.block.builder.block(e,this.nonBlockChildren,this.loc)}}class Or extends Ar{constructor(e,t,r,s){super(t,r,s),this.el=e}assertNamedBlock(e,t){if(this.el.base.selfClosing)throw _e(`<:${e.chars}/> is not a valid named block: named blocks cannot be self-closing`,this.loc);if(g(this.namedBlocks))throw _e(`Unexpected named block inside <:${e.chars}> named block: named blocks cannot contain nested named blocks`,this.loc);if((r=e.chars)[0]!==r[0]?.toLowerCase()||r[0]===r[0]?.toUpperCase())throw _e(`<:${e.chars}> is not a valid named block, and named blocks must begin with a lowercase letter`,this.loc);var r;if(this.el.base.attrs.length>0||this.el.base.componentArgs.length>0||this.el.base.modifiers.length>0)throw _e(`named block <:${e.chars}> cannot have attributes, arguments, or modifiers`,this.loc);let s=Ce.range(this.nonBlockChildren,this.loc);return this.block.builder.namedBlock(e,this.block.builder.block(t,this.nonBlockChildren,s),this.loc)}assertElement(e,t){if(t)throw _e(`Unexpected block params in <${e.chars}>: simple elements cannot have block params`,this.loc);if(g(this.namedBlocks)){let t=this.namedBlocks.map(e=>e.name);if(1===t.length)throw _e(`Unexpected named block <:foo> inside <${e.chars}> HTML element`,this.loc);{let r=t.map(e=>`<:${e.chars}>`).join(", ");throw _e(`Unexpected named blocks inside <${e.chars}> HTML element (${r})`,this.loc)}}return this.el.simple(e,this.nonBlockChildren,this.loc)}assertComponent(e,t,r){if(g(this.namedBlocks)&&this.hasSemanticContent)throw _e(`Unexpected content inside <${e}> component invocation: when using named blocks, the tag cannot contain other content`,this.loc);if(g(this.namedBlocks)){if(r)throw _e(`Unexpected block params list on <${e}> component invocation: when passing named blocks, the invocation tag cannot take block params`,this.loc);let t=new Set;for(let e of this.namedBlocks){let r=e.name.chars;if(t.has(r))throw _e(`Component had two named blocks with the same name, \`<:${r}>\`. Only one block with a given name may be passed`,this.loc);if("inverse"===r&&t.has("else")||"else"===r&&t.has("inverse"))throw _e("Component has both <:else> and <:inverse> block. <:inverse> is an alias for <:else>",this.loc);t.add(r)}return this.namedBlocks}return[this.block.builder.namedBlock(ge.synthetic("default"),this.block.builder.block(t,this.nonBlockChildren,this.loc),this.loc)]}}function Br(e){switch(e.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return!0;default:return!1}}function Dr(e,t){throw _e(`Unexpected literal \`${"StringLiteral"===e.type?JSON.stringify(e.value):String(e.value)}\``,t)}function _r(e){return"PathExpression"!==e.type&&"PathExpression"===e.path.type?_r(e.path):new u({entityEncoding:"raw"}).print(e)}function Ir(e){return"PathExpression"===e.type?e.head.original:"PathExpression"===e.path.type?Ir(e.path):new u({entityEncoding:"raw"}).print(e)}return S.ASTv2=hr,S.BlockSymbolTable=dr,S.KEYWORDS_TYPES=m,S.Path=Qe,S.ProgramSymbolTable=pr,S.SourceSlice=ge,S.SpanList=Ce,S.SymbolTable=ur,S.Walker=Qe,S.WalkerPath=Ve,S.builders=ht,S.cannotRemoveNode=$e,S.cannotReplaceNode=Fe,S.generateSyntaxError=_e,S.getTemplateLocals=function(e,t={includeHtmlElements:!1,includeKeywords:!1}){const r=xt(e),s=new Set,n=[];Je(r,{Block:{enter({blockParams:e}){e.forEach(e=>{n.push(e)})},exit({blockParams:e}){e.forEach(()=>{n.pop()})}},ElementNode:{enter(e){e.blockParams.forEach(e=>{n.push(e)}),Tt(s,e,n,t)},exit({blockParams:e}){e.forEach(()=>{n.pop()})}},PathExpression(e){Tt(s,e,n,t)}});let i=[];return s.forEach(e=>i.push(e)),t.includeKeywords||(i=i.filter(e=>!d(e))),i},S.getVoidTags=function(){return[...l]},S.hasSpan=Oe,S.isKeyword=d,S.isVoidTag=h,S.loc=Le,S.maybeLoc=Be,S.node=Nt,S.normalize=function(e,t={lexicalScope:()=>!1}){let r=xt(e,t),s={strictMode:!1,...t,locals:r.blockParams,keywords:t.keywords??[]},n=ur.top(s.locals,s.keywords,{customizeComponentName:t.customizeComponentName??(e=>e),lexicalScope:t.lexicalScope}),i=new xr(e,s,n),a=new Nr(i),o=new Cr(i.loc(r.loc),r.body.map(e=>a.normalize(e)),i).assertTemplate(n);return[o,n.getUsedTemplateLocals()]},S.preprocess=xt,S.print=p,S.sortByLoc=o,S.src=De,S.traverse=Je,S.visitorKeys=Ie,S}();n((v||(v=1,Object.defineProperty(E,"__esModule",{value:!0})),E),e);const w=[{moduleName:"ember-cli-htmlbars",export:"hbs",allowTemplateLiteral:!0},{moduleName:"ember-cli-htmlbars-inline-precompile",export:"default",allowTemplateLiteral:!0},{moduleName:"htmlbars-inline-precompile",export:"default",allowTemplateLiteral:!0},{moduleName:"@ember/template-compilation",export:"precompileTemplate",enableScope:!0},{moduleName:"@ember/template-compiler",export:"template",enableScope:!0,rfc931Support:"polyfilled"}];function x(e){return function(t){t.types;const r={visitor:{Program:{enter(r,s){s.normalizedOpts=function(e){var t;if("wire"===(null!==(t=e.targetFormat)&&void 0!==t?t:"wire")){let{compiler:t}=e;if(!t)throw new Error('when targetFormat==="wire" you must set the compiler or compilerPath option');return Object.assign(Object.assign({outputModuleOverrides:{},enableLegacyModules:[],transforms:[]},e),{targetFormat:"wire",compiler:t})}return Object.assign(Object.assign({outputModuleOverrides:{},enableLegacyModules:[],transforms:[]},e),{targetFormat:"hbs"})}(e(s.opts)),s.templateFactory=function(e){var t;let r="@ember/template-factory",s="createTemplateFactory",n=null===(t=e.outputModuleOverrides[r])||void 0===t?void 0:t[s];return n?{exportName:n[0],moduleName:n[1]}:{exportName:s,moduleName:r}}(s.normalizedOpts),s.util=new c.ImportUtil(t,r),s.program=r,s.recursionGuard=new Set},exit(e,t){if("wire"===t.normalizedOpts.targetFormat)for(let{moduleName:r,export:s}of T(t))t.util.removeImport(r,s)}},TaggedTemplateExpression(e,r){let s=e.get("tag");if(!s.isIdentifier())return;let n=N(s,r);if(!n)return;if(!n.allowTemplateLiteral)throw e.buildCodeFrameError(`Attempted to use \`${s.node.name}\` as a template tag, but it can only be called as a function with a string passed to it: ${s.node.name}('content here')`);if(e.node.quasi.expressions.length)throw e.buildCodeFrameError("placeholders inside a tagged template string are not supported");let i=e.node.quasi.quasis.map(e=>e.value.cooked).join("");"wire"===r.normalizedOpts.targetFormat?C(t,r,r.normalizedOpts,i,e,{},n,void 0):L(t,r,i,e,{},n,void 0)},CallExpression(e,r){let s=e.get("callee");if(!s.isIdentifier())return;let n=N(s,r);if(!n)return;if(r.recursionGuard.has(e.node))return;if(e.get("arguments").length>2)throw e.buildCodeFrameError(`${s.node.name} can only be invoked with 2 arguments: the template string and any static options`);let i,a,o,[l,c]=e.get("arguments");switch(null==l?void 0:l.node.type){case"StringLiteral":i=l.node.value;break;case"TemplateLiteral":if(l.node.expressions.length)throw e.buildCodeFrameError("placeholders inside a template string are not supported");i=l.node.quasis.map(e=>e.value.cooked).join("");break;case"TaggedTemplateExpression":throw e.buildCodeFrameError(`tagged template strings inside ${s.node.name} are not supported`);default:throw e.buildCodeFrameError(`${s.node.name} should be invoked with at least a single argument (the template string)`)}if(c){if(!c.isObjectExpression())throw e.buildCodeFrameError(`${s.node.name} can only be invoked with 2 arguments: the template string, and any static options`);a=new h.ExpressionParser(t).parseObjectExpression(s.node.name,c,n.enableScope,Boolean(n.rfc931Support)),n.rfc931Support&&a.component&&(o=a.component)}else a={};"wire"===r.normalizedOpts.targetFormat?C(t,r,r.normalizedOpts,i,e,a,n,o):L(t,r,i,e,a,n,o)}}};return{pre(e){t.traverse(e.ast,r.visitor,e.scope,this)},visitor:{}}}}function*T(e){for(let t of w)("@ember/template-compilation"===t.moduleName||"@ember/template-compiler"===t.moduleName||e.normalizedOpts.enableLegacyModules.includes(t.moduleName))&&(yield t)}function N(e,t){for(let r of T(t))if(e.referencesImport(r.moduleName,r.export))return r}function P(e,t,r,s){return t.rfc931Support&&e.eval?new d.ScopeLocals({mode:"implicit",jsPath:r,mayUseLexicalThis:s}):e.scope?e.scope:new d.ScopeLocals({mode:"explicit"})}function A(e,t,r,s,n,i,a){let o=new p.JSUtils(e,r,t,a.add.bind(a),r.util),l={contents:s,meta:Object.assign({jsutils:o},null==n?void 0:n.meta),moduleName:r.filename,filename:r.filename,plugins:{ast:[...r.normalizedOpts.transforms,a.crawl()]}};for(let[c,h]of Object.entries(n))"scope"!==c&&(l[c]=h);return l.locals=a.locals,i.rfc931Support&&(l.strictMode=!0),l}function C(e,t,r,s,n,i,a,o){let l,c=e.types,h=P(i,a,n,!o),u=A(e,n,t,s,i,a,h);if(u.insertRuntimeErrors&&!a.rfc931Support)try{l=r.compiler.precompile(s,u)}catch(d){return void n.replaceWith(function(e,t){return e.template("(function() {\n  throw new Error('ERROR_MESSAGE');\n})();")(t).expression}(e,{ERROR_MESSAGE:d.message}))}else l=r.compiler.precompile(s,u);let p=e.template.expression.ast(l);c.addComment(p,"leading",`\n  ${s.replace(/\*\//g,"*\\/")}\n`,!1),t.util.replaceWith(n,e=>{var r;let s=e.import(t.templateFactory.moduleName,t.templateFactory.exportName),n=c.callExpression(s,[p]);return a.rfc931Support&&(n=c.callExpression(e.import("@ember/component","setComponentTemplate"),[n,null!==(r=null==o?void 0:o.node)&&void 0!==r?r:c.callExpression(e.import("@ember/component/template-only","default","templateOnly"),[])])),n}),function(e,t,r){e.traverse({Identifier(e){var s;r.has(e.node.name)&&e.node.name!==r.get(e.node.name)&&e.replaceWith(t.types.identifier(r.get(e.node.name))),null===(s=e.scope.getBinding(e.node.name))||void 0===s||s.reference(e)}})}(n,e,h)}function L(e,t,r,s,n,i,a){let o=e.types,l=P(n,i,s,!a),c=A(e,s,t,r,n,i,l),h=(0,f.preprocess)(r,Object.assign(Object.assign({},c),{mode:"codemod"})),u=(0,f.print)(h,{entityEncoding:"raw"});s.isCallExpression()?function(e,t,r,s,n,i,a){e.get("arguments.0").replaceWith(i.types.stringLiteral(t)),r.enableScope||s.isEmpty()||(D(n.util,e.get("callee")),n.util.replaceWith(e.get("callee"),e=>_(e))),"polyfilled"===r.rfc931Support&&(D(n.util,e.get("callee")),n.util.replaceWith(e.get("callee"),e=>_(e)),function(e,t){let r=e.types,s=t.get("arguments.1");if(s){let e=s.get("properties").find(e=>{let t=e.get("key");return t.isIdentifier()&&"strict"===t.node.name});e?e.set("key",r.identifier("strictMode")):s.pushContainer("properties",r.objectProperty(r.identifier("strictMode"),r.booleanLiteral(!0)))}else t.pushContainer("arguments",r.objectExpression([r.objectProperty(r.identifier("strictMode"),r.booleanLiteral(!0))]))}(i,e),function(e){let t=e.get("arguments.1");if(t){let e=t.get("properties").find(e=>{let t=e.get("key");return t.isIdentifier()&&"eval"===t.node.name});e&&e.remove();let r=t.get("properties").find(e=>{let t=e.get("key");return t.isIdentifier()&&"component"===t.node.name});r&&r.remove()}}(e),e.node.arguments=e.node.arguments.slice(0,2),n.recursionGuard.add(e.node),n.util.replaceWith(e,t=>{var r;return i.types.callExpression(t.import("@ember/component","setComponentTemplate"),[e.node,null!==(r=null==a?void 0:a.node)&&void 0!==r?r:i.types.callExpression(t.import("@ember/component/template-only","default","templateOnly"),[])])}),e=e.get("arguments.0")),B(i,e,s)}(s,u,i,l,t,e,a):function(e,t,r,s,n,i){e.isEmpty()?r.get("quasi").get("quasis.0").replaceWith(s.templateElement({raw:n})):(D(t.util,r.get("tag")),B(i,t.util.replaceWith(r,e=>s.callExpression(_(e),[s.stringLiteral(n)])),e))}(l,t,s,o,u,e)}function O(e,t){let r=e.types;return r.arrowFunctionExpression([],r.objectExpression(t.entries().map(([e,t])=>r.objectProperty(r.identifier(e),r.identifier(t),!1,"this"!==e))))}function B(e,t,r){let s=e.types,n=t.get("arguments.1");if(n){let t=n.get("properties").find(e=>{let t=e.get("key");return t.isIdentifier()&&"scope"===t.node.name});t?r.isEmpty()?t.remove():(t.set("value",O(e,r)),t.scope.crawl()):r.isEmpty()||(n.pushContainer("properties",s.objectProperty(s.identifier("scope"),O(e,r))),n.get("properties."+(n.node.properties.length-1)).scope.crawl())}else r.isEmpty()||(t.pushContainer("arguments",s.objectExpression([s.objectProperty(s.identifier("scope"),O(e,r))])),t.get("arguments.1").scope.crawl())}function D(e,t){if(!t.isIdentifier())return;let r=t.scope.getBinding(t.node.name);if(!r)return;let s=r.referencePaths.find(e=>e.node===t.node);var n;if(s&&(r.referencePaths.splice(r.referencePaths.indexOf(s),1),r.references--,0===r.references)){let t=r.path;if(t.isImportSpecifier()){let r=t.parentPath;e.removeImport(r.node.source.value,"StringLiteral"===(n=t.node.imported).type?n.value:n.name)}}}function _(e){return e.import("@ember/template-compilation","precompileTemplate")}e.default=x(e=>e)}(i)),i);const T=t({__proto__:null,default:e(x)},[x]);export{T as p};
