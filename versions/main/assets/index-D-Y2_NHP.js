const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/babel-BaGtMofr.js","assets/_commonjsHelpers-BosuxZz1.js"])))=>i.map(i=>d[i]);
import{N as Input,O as Textarea,P as componentCapabilities,Q as Component,R as getComponentTemplate,U as setComponentManager,s as setComponentTemplate,V as compare,W as isBlank,X as isEmpty,Y as isEqual,Z as isNone,$ as isPresent,a0 as typeOf,a1 as Helper,a2 as helper$1,a3 as htmlSafe,a4 as isHTMLSafe,a5 as _tracking,G as GlimmerComponent,a6 as _owner,a as templateFactory,a7 as _service,a8 as _runloop,a9 as _object,aa as _modifier,ab as _helpers,ac as _destroyable,ad as _debug,t as templateOnly,ae as _array,af as _application,n as nameFor,ag as __vitePreload,e as esCompat}from"./main-DD3VQlwT.js";import{c as commonjsGlobal,a as getAugmentedNamespace,g as getDefaultExportFromCjs}from"./_commonjsHelpers-BosuxZz1.js";import{p as parseWithoutProcessing,a as parse,E as EntityParser,b as EventedTokenizer,n as namedCharRefs}from"./index-BUReOOGB.js";function _mergeNamespaces(tr,n){for(var o=0;o<n.length;o++){const l=n[o];if(typeof l!="string"&&!Array.isArray(l)){for(const rr in l)if(rr!=="default"&&!(rr in tr)){const ar=Object.getOwnPropertyDescriptor(l,rr);ar&&Object.defineProperty(tr,rr,ar.get?ar:{enumerable:!0,get:()=>l[rr]})}}}return Object.freeze(Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"}))}const _EmberComponent=Object.freeze(Object.defineProperty({__proto__:null,Input,Textarea,capabilities:componentCapabilities,default:Component,getComponentTemplate,setComponentManager,setComponentTemplate},Symbol.toStringTag,{value:"Module"})),_utils=Object.freeze(Object.defineProperty({__proto__:null,compare,isBlank,isEmpty,isEqual,isNone,isPresent,typeOf},Symbol.toStringTag,{value:"Module"})),_EmberComponentHelper=Object.freeze(Object.defineProperty({__proto__:null,default:Helper,helper:helper$1},Symbol.toStringTag,{value:"Module"})),_template=Object.freeze(Object.defineProperty({__proto__:null,htmlSafe,isHTMLSafe},Symbol.toStringTag,{value:"Module"}));var plugin={},src={},sanitize$1={};Object.defineProperty(sanitize$1,"__esModule",{value:!0});sanitize$1.sanitize=void 0;function sanitize(tr){let n=tr.replace(new RegExp(`(?<!^)(?:${illegalChar.source})([a-z])`,"g"),(o,l)=>l.toUpperCase());return n=n.replace(new RegExp(illegalChar.source,"g"),""),n}sanitize$1.sanitize=sanitize;const illegalChar=/^[^a-zA-Z_$]|(?<=.)[^a-zA-Z_$0-9]/;Object.defineProperty(src,"__esModule",{value:!0});src.ImportUtil=void 0;const sanitize_1=sanitize$1;class ImportUtil{constructor(n,o){this.babel=n,this.program=o,this.t=n.types}removeImport(n,o){for(let l of this.program.get("body")){if(!matchModule(l,n))continue;let rr=l.get("specifiers").find(ar=>matchSpecifier(ar,o));rr&&(l.node.specifiers.length===1?l.remove():rr.remove())}}removeAllImports(n){for(let o of this.program.get("body"))matchModule(o,n)&&o.remove()}import(n,o,l,rr){return this.unreferencedImport(n,o,l,desiredName(rr,l,defaultNameHint(n)))}unreferencedImport(n,o,l,rr){var ar;let or=l==="*",cr=!(l==="default")&&!or,mr=this.findImportFrom(o),kr=mr?.node.specifiers.find(Er=>Er.type==="ImportNamespaceSpecifier");if(!(mr?.node.specifiers.find(Er=>Er.type==="ImportSpecifier")&&or||kr&&cr||kr&&or)&&mr){let Er=mr.get("specifiers").find(Ir=>matchSpecifier(Ir,l));return Er&&((ar=n.scope.getBinding(Er.node.local.name))===null||ar===void 0?void 0:ar.kind)==="module"?this.t.identifier(Er.node.local.name):this.addSpecifier(n,mr,l,rr)}else{let Er=this.insertAfterExistingImports(this.t.importDeclaration([],this.t.stringLiteral(o)));return this.addSpecifier(n,Er,l,rr)}}importForSideEffect(n){this.findImportFrom(n)||this.insertAfterExistingImports(this.t.importDeclaration([],this.t.stringLiteral(n)))}replaceWith(n,o){return this.mutate(l=>(n.replaceWith(o(l)),n),defaultNameHint(n))}insertAfter(n,o){return this.mutate(l=>n.insertAfter(o(l))[0],defaultNameHint(n))}insertBefore(n,o){return this.mutate(l=>n.insertBefore(o(l))[0],defaultNameHint(n))}mutate(n,o){let l=new Map;const rr={import:(ir,cr,mr)=>{let kr=this.t.identifier("__babel_import_util_placeholder__");return l.set(kr,{moduleSpecifier:ir,exportedName:cr,nameHint:mr}),kr}},ar=ir=>{if(!ir.isIdentifier())return;let cr=l.get(ir.node);if(cr){let mr=this.unreferencedImport(ir,cr.moduleSpecifier,cr.exportedName,desiredName(cr.nameHint,cr.exportedName,o));ir.replaceWith(mr);let kr=ir.scope.getBinding(mr.name);if(!kr)throw new Error("bug: this is supposed to never happen");kr.reference(ir)}};let or=n(rr);return ar(or),this.babel.traverse(or.node,{ReferencedIdentifier:ir=>{ar(ir)}},or.scope,{},or),or}addSpecifier(n,o,l,rr){let ar=this.t.identifier(unusedNameLike$1(n,rr)),or=this.buildSpecifier(l,ar),ir;return or.type==="ImportDefaultSpecifier"?(o.node.specifiers.unshift(or),ir=o.get("specifiers.0")):(o.node.specifiers.push(or),ir=o.get(`specifiers.${o.node.specifiers.length-1}`)),o.scope.registerBinding("module",ir),ar}buildSpecifier(n,o){switch(n){case"default":return this.t.importDefaultSpecifier(o);case"*":return this.t.importNamespaceSpecifier(o);default:return this.t.importSpecifier(o,this.t.identifier(n))}}findImportFrom(n){for(let o of this.program.get("body"))if(o.isImportDeclaration()&&o.node.source.value===n&&o.node.importKind!=="type")return o}insertAfterExistingImports(n){let o;for(let[l,rr]of this.program.node.body.entries())rr.type==="ImportDeclaration"&&(o=l);return o==null?(this.program.node.body.unshift(n),this.program.get("body.0")):(this.program.node.body.splice(o+1,0,n),this.program.get(`body.${o+1}`))}}src.ImportUtil=ImportUtil;function unusedNameLike$1(tr,n){let o=n,l=0;for(;tr.scope.hasBinding(o);)o=`${n}${l++}`;return o}function name$1(tr){return tr.type==="StringLiteral"?tr.value:tr.name}function desiredName(tr,n,o){return tr?(0,sanitize_1.sanitize)(tr):n==="default"||n==="*"?o??"a":n}function defaultNameHint(tr){return tr?.isIdentifier()?tr.node.name:tr?tr.scope.generateUidIdentifierBasedOnNode(tr.node).name:void 0}function matchSpecifier(tr,n){switch(n){case"default":return tr.isImportDefaultSpecifier();case"*":return tr.isImportNamespaceSpecifier();default:return tr.isImportSpecifier()&&name$1(tr.node.imported)===n}}function matchModule(tr,n){return tr.isImportDeclaration()&&tr.get("source").node.value===n}var expressionParser={},scopeLocals={},hbsUtils={};Object.defineProperty(hbsUtils,"__esModule",{value:!0});hbsUtils.astNodeHasBinding=astNodeHasBinding;function astNodeHasBinding(tr,n){var o;let l=tr;for(;l;){let rr=(o=l.parent)===null||o===void 0?void 0:o.node;if(rr?.type==="ElementNode"&&rr.blockParams.includes(n)&&rr.children.includes(l.node)||rr?.type==="Block"&&rr.blockParams.includes(n)&&rr.body.includes(l.node))return!0;l=l.parent}return!1}var readOnlyArray$1={};Object.defineProperty(readOnlyArray$1,"__esModule",{value:!0});readOnlyArray$1.readOnlyArray=readOnlyArray;const mutationMethods=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"];function readOnlyArray(tr,n="Forbidden array mutation"){return new Proxy(tr,{get(o,l){return typeof l=="string"&&mutationMethods.includes(l)?()=>{throw new Error(n)}:Reflect.get(o,l)},set(o,l){throw new Error(n)},deleteProperty(){throw new Error(n)}})}(function(tr){var n=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(Ar,wr,Er,Ir,qr){if(Ir==="m")throw new TypeError("Private method is not writable");if(Ir==="a"&&!qr)throw new TypeError("Private accessor was defined without a setter");if(typeof wr=="function"?Ar!==wr||!qr:!wr.has(Ar))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ir==="a"?qr.call(Ar,Er):qr?qr.value=Er:wr.set(Ar,Er),Er},o=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(Ar,wr,Er,Ir){if(Er==="a"&&!Ir)throw new TypeError("Private accessor was defined without a getter");if(typeof wr=="function"?Ar!==wr||!Ir:!wr.has(Ar))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Er==="m"?Ir:Er==="a"?Ir.call(Ar):Ir?Ir.value:wr.get(Ar)},l,rr,ar,or,ir;Object.defineProperty(tr,"__esModule",{value:!0}),tr.ScopeLocals=tr.ALLOWED_GLOBALS=void 0;const cr=hbsUtils,mr=readOnlyArray$1;tr.ALLOWED_GLOBALS=new Set(["globalThis","Atomics","JSON","Math","Reflect","localStorage","sessionStorage","isNaN","isFinite","parseInt","parseFloat","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","postMessage","structuredClone","Array","BigInt","Boolean","Date","Number","Object","String","Infinity","NaN","isSecureContext"]);class kr{constructor(wr){l.add(this),rr.set(this,{}),ar.set(this,[]),or.set(this,void 0),n(this,or,wr,"f")}get locals(){return(0,mr.readOnlyArray)(o(this,ar,"f"),`The only supported way to manipulate locals is via the jsutils API
https://github.com/emberjs/babel-plugin-ember-template-compilation#jsutils-manipulating-javascript-from-within-ast-transforms`)}has(wr){return wr in o(this,rr,"f")}get(wr){return o(this,rr,"f")[wr]}isEmpty(){return o(this,ar,"f").length===0}entries(){return Object.entries(o(this,rr,"f"))}add(wr,Er){o(this,rr,"f")[wr]=Er??wr,o(this,ar,"f").includes(wr)||o(this,ar,"f").push(wr)}crawl(){return wr=>{let Er;return{name:"scope-locals-crawl",visitor:{Template:{enter:()=>{Er=new Set},exit:(Ir,qr)=>{if(o(this,or,"f").mode==="implicit")for(let Rr of Er)Rr==="this"?o(this,or,"f").mayUseLexicalThis&&this.add(Rr):o(this,l,"m",ir).call(this,Rr,o(this,or,"f").jsPath)&&this.add(Rr);else for(let Rr of Object.keys(o(this,rr,"f")))Er.has(Rr)||(o(this,ar,"f").splice(o(this,ar,"f").indexOf(Rr),1),delete o(this,rr,"f")[Rr])}},PathExpression:(Ir,qr)=>{switch(Ir.head.type){case"ThisHead":(0,cr.astNodeHasBinding)(qr,"this")||Er.add("this");break;case"VarHead":{const Rr=Ir.head.name;(0,cr.astNodeHasBinding)(qr,Rr)||Er.add(Rr)}}},ElementNode:(Ir,qr)=>{const Rr=Ir.tag.split(".")[0];(0,cr.astNodeHasBinding)(qr,Rr)||Er.add(Rr)}}}}}}tr.ScopeLocals=kr,rr=new WeakMap,ar=new WeakMap,or=new WeakMap,l=new WeakSet,ir=function(wr,Er){var Ir;let qr=(Ir=o(this,rr,"f")[wr])!==null&&Ir!==void 0?Ir:wr;return tr.ALLOWED_GLOBALS.has(qr)||Er.scope.getBinding(qr)}})(scopeLocals);Object.defineProperty(expressionParser,"__esModule",{value:!0});expressionParser.ExpressionParser=void 0;const scope_locals_1=scopeLocals;class ExpressionParser{constructor(n){this.babel=n}parseExpression(n,o){switch(o.node.type){case"ObjectExpression":return this.parseObjectExpression(n,o);case"ArrayExpression":return this.parseArrayExpression(n,o);case"StringLiteral":case"BooleanLiteral":case"NumericLiteral":return o.node.value;default:throw o.buildCodeFrameError(`${n} can only accept static options but you passed ${JSON.stringify(o.node)}`)}}parseArrayExpression(n,o){return o.get("elements").map(l=>{if(l.isSpreadElement())throw l.buildCodeFrameError("spread element is not allowed here");return l.isExpression()?this.parseExpression(n,l):null})}parseScope(n,o){let l;if(o.node.type==="ObjectMethod")l=o.node.body;else{let{value:ar}=o.node;if(this.t.isObjectExpression(ar))throw o.buildCodeFrameError("Passing an object as the `scope` property to inline templates is no longer supported. Please pass a function that returns an object expression instead.");(this.t.isFunctionExpression(ar)||this.t.isArrowFunctionExpression(ar))&&(l=ar.body)}let rr;if(l?.type==="ObjectExpression")rr=l;else if(l?.type==="BlockStatement"){let ar=l.body.filter(or=>or.type==="ReturnStatement");if(ar.length!==1)throw new Error("Scope functions must have a single return statement which returns an object expression containing references to in-scope values");rr=ar[0].argument}if(rr?.type!=="ObjectExpression")throw o.buildCodeFrameError(`Scope objects for \`${n}\` must be an object expression containing only references to in-scope values, or a function that returns an object expression containing only references to in-scope values`);return rr.properties.reduce((ar,or)=>{if(this.t.isSpreadElement(or))throw o.buildCodeFrameError(`Scope objects for \`${n}\` may not contain spread elements`);if(this.t.isObjectMethod(or))throw o.buildCodeFrameError(`Scope objects for \`${n}\` may not contain methods`);let{key:ir,value:cr}=or;if(!this.t.isStringLiteral(ir)&&!this.t.isIdentifier(ir))throw o.buildCodeFrameError(`Scope objects for \`${n}\` may only contain static property names`);let mr=name(ir);switch(cr.type){case"Identifier":ar.add(mr,cr.name);break;case"ThisExpression":ar.add(mr,"this");break;default:throw o.buildCodeFrameError(`Scope objects for \`${n}\` may only contain direct references to in-scope values, e.g. { ${mr} } or { ${mr}: ${mr} }. Found ${cr.type}`)}return ar},new scope_locals_1.ScopeLocals({mode:"explicit"}))}parseEval(n,o){let l;if(o.isObjectMethod())l=o.get("body");else if(o.isObjectProperty()){let Ar=o.get("value");if(Ar.isFunctionExpression())l=Ar.get("body");else throw o.buildCodeFrameError(`unsupported syntax for \`eval\` parameter to \`${n}\`. It must be an object method or a function.`)}else throw o.buildCodeFrameError(`unsupported syntax for \`eval\` parameter to \`${n}\`. It must be an object method or a function.`);let rr=l.get("body").filter(Ar=>Ar.isReturnStatement());if(rr.length!==1)throw l.buildCodeFrameError("eval function must have a single return statement");let ar=rr[0].get("argument");if(!ar.isCallExpression())throw rr[0].buildCodeFrameError("eval function must return `eval(arguments[0])`. Found non-CallExpression.");let or=ar.get("callee");if(!or.isIdentifier()||or.node.name!=="eval")throw ar.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found callee is not eval.");let ir=ar.get("arguments");if(ir.length!==1)throw ar.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found incorrect number of arguments.");let cr=ir[0];if(!cr.isMemberExpression())throw cr.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found argument is non-MemberExpression.");let mr=cr.get("object");if(!mr.isIdentifier()||mr.node.name!=="arguments")throw mr.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found wrong argument to eval.");let kr=cr.get("property");if(!kr.isNumericLiteral()||kr.node.value!==0)throw kr.buildCodeFrameError("eval function must return `eval(arguments[0])`. Found wrong property.");return{isEval:!0}}parseObjectExpression(n,o,l=!1,rr=!1){let ar={};return o.get("properties").forEach(or=>{let{node:ir}=or;if(this.t.isSpreadElement(ir))throw or.buildCodeFrameError(`${n} does not allow spread element`);if(ir.computed)throw or.buildCodeFrameError(`${n} can only accept static property names`);let{key:cr}=ir;if(!this.t.isIdentifier(cr)&&!this.t.isStringLiteral(cr))throw or.buildCodeFrameError(`${n} can only accept static property names`);let mr=name(cr);if(l&&mr==="scope")ar.scope=this.parseScope(n,or);else if(rr&&mr==="eval")ar.eval=this.parseEval(n,or);else if(rr&&mr==="component")ar.component=or.get("value");else{if(this.t.isObjectMethod(ir))throw or.buildCodeFrameError(`${n} does not accept a method for ${mr}`);let kr=or.get("value");if(!kr.isExpression())throw kr.buildCodeFrameError("must be an expression");ar[mr]=this.parseExpression(n,kr)}}),ar}get t(){return this.babel.types}}expressionParser.ExpressionParser=ExpressionParser;function name(tr){return tr.type==="StringLiteral"?tr.value:tr.name}var jsUtils={},__classPrivateFieldSet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(tr,n,o,l,rr){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!rr)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?tr!==n||!rr:!n.has(tr))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?rr.call(tr,o):rr?rr.value=o:n.set(tr,o),o},__classPrivateFieldGet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(tr,n,o,l){if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?tr!==n||!l:!n.has(tr))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?l:o==="a"?l.call(tr):l?l.value:n.get(tr)},_JSUtils_instances,_JSUtils_babel,_JSUtils_state,_JSUtils_template,_JSUtils_addedBinding,_JSUtils_importer,_JSUtils_emitStatement,_JSUtils_parseExpression,_ExpressionContext_importer,_ExpressionContext_target;Object.defineProperty(jsUtils,"__esModule",{value:!0});jsUtils.JSUtils=void 0;const hbs_utils_1=hbsUtils;class JSUtils{constructor(n,o,l,rr,ar){if(_JSUtils_instances.add(this),_JSUtils_babel.set(this,void 0),_JSUtils_state.set(this,void 0),_JSUtils_template.set(this,void 0),_JSUtils_addedBinding.set(this,void 0),_JSUtils_importer.set(this,void 0),__classPrivateFieldSet(this,_JSUtils_babel,n,"f"),__classPrivateFieldSet(this,_JSUtils_state,o,"f"),__classPrivateFieldSet(this,_JSUtils_template,l,"f"),__classPrivateFieldSet(this,_JSUtils_addedBinding,rr,"f"),__classPrivateFieldSet(this,_JSUtils_importer,ar,"f"),!__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath){let or;for(let ir of __classPrivateFieldGet(this,_JSUtils_state,"f").program.get("body")){if(!ir.isImportDeclaration())break;or=ir}or&&(__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath=or)}}bindExpression(n,o,l){var rr;let ar=unusedNameLike((rr=l?.nameHint)!==null&&rr!==void 0?rr:"a",cr=>__classPrivateFieldGet(this,_JSUtils_template,"f").scope.hasBinding(cr)||(0,hbs_utils_1.astNodeHasBinding)(o,cr)),or=__classPrivateFieldGet(this,_JSUtils_babel,"f").types,ir=__classPrivateFieldGet(this,_JSUtils_instances,"m",_JSUtils_emitStatement).call(this,or.variableDeclaration("let",[or.variableDeclarator(or.identifier(ar),__classPrivateFieldGet(this,_JSUtils_instances,"m",_JSUtils_parseExpression).call(this,__classPrivateFieldGet(this,_JSUtils_state,"f").program,n))]));return ir.scope.registerBinding("let",ir.get("declarations.0")),__classPrivateFieldGet(this,_JSUtils_addedBinding,"f").call(this,ar),ar}bindImport(n,o,l,rr){let ar=__classPrivateFieldGet(this,_JSUtils_importer,"f").import(__classPrivateFieldGet(this,_JSUtils_template,"f"),n,o,rr?.nameHint);if(!(0,hbs_utils_1.astNodeHasBinding)(l,ar.name))return __classPrivateFieldGet(this,_JSUtils_addedBinding,"f").call(this,ar.name),ar.name;let or=unusedNameLike(ar.name,mr=>__classPrivateFieldGet(this,_JSUtils_template,"f").scope.hasBinding(mr)||(0,hbs_utils_1.astNodeHasBinding)(l,mr)),ir=__classPrivateFieldGet(this,_JSUtils_babel,"f").types,cr=__classPrivateFieldGet(this,_JSUtils_instances,"m",_JSUtils_emitStatement).call(this,ir.variableDeclaration("let",[ir.variableDeclarator(ir.identifier(or),ar)]));return cr.scope.registerBinding("let",cr.get("declarations.0")),__classPrivateFieldGet(this,_JSUtils_addedBinding,"f").call(this,or),or}importForSideEffect(n){__classPrivateFieldGet(this,_JSUtils_importer,"f").importForSideEffect(n)}emitExpression(n){let o=__classPrivateFieldGet(this,_JSUtils_babel,"f").types;__classPrivateFieldGet(this,_JSUtils_instances,"m",_JSUtils_emitStatement).call(this,o.expressionStatement(__classPrivateFieldGet(this,_JSUtils_instances,"m",_JSUtils_parseExpression).call(this,__classPrivateFieldGet(this,_JSUtils_state,"f").program,n)))}}jsUtils.JSUtils=JSUtils;_JSUtils_babel=new WeakMap,_JSUtils_state=new WeakMap,_JSUtils_template=new WeakMap,_JSUtils_addedBinding=new WeakMap,_JSUtils_importer=new WeakMap,_JSUtils_instances=new WeakSet,_JSUtils_emitStatement=function(n){return __classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath?__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath=__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath.insertAfter(n)[0]:__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath=__classPrivateFieldGet(this,_JSUtils_state,"f").program.unshiftContainer("body",n)[0],__classPrivateFieldGet(this,_JSUtils_state,"f").lastInsertedPath},_JSUtils_parseExpression=function(n,o){let l;typeof o=="string"?l=o:l=o(new ExpressionContext(__classPrivateFieldGet(this,_JSUtils_importer,"f"),n));let rr=__classPrivateFieldGet(this,_JSUtils_babel,"f").parse(l);if(!rr)throw new Error(`JSUtils.bindExpression could not understand the expression: ${l}`);let ar=body(rr);if(ar.length!==1)throw new Error(`JSUtils.bindExpression expected to find exactly one expression but found ${ar.length} in: ${l}`);let or=ar[0];if(or.type!=="ExpressionStatement")throw new Error(`JSUtils.bindExpression expected to find an expression but found ${or.type} in: ${l}`);return or.expression};function unusedNameLike(tr,n){let o=tr,l=0;for(;n(o);)o=`${tr}${l++}`;return o}function body(tr){return tr.type==="File"?tr.program.body:tr.body}class ExpressionContext{constructor(n,o){_ExpressionContext_importer.set(this,void 0),_ExpressionContext_target.set(this,void 0),__classPrivateFieldSet(this,_ExpressionContext_importer,n,"f"),__classPrivateFieldSet(this,_ExpressionContext_target,o,"f")}import(n,o,l){return __classPrivateFieldGet(this,_ExpressionContext_importer,"f").import(__classPrivateFieldGet(this,_ExpressionContext_target,"f"),n,o,l).name}}_ExpressionContext_importer=new WeakMap,_ExpressionContext_target=new WeakMap;function h$1(){return Object.create(null)}const x$1=Object.assign,E$1=console;function A$1(tr,n="unexpected unreachable branch"){throw E$1.log("unreachable",tr),E$1.log(`${n} :: ${JSON.stringify(tr)} (${tr})`),new Error("code reached unreachable")}const t={GetStrictKeyword:31,GetFreeAsComponentOrHelperHead:35,GetFreeAsHelperHead:37,GetFreeAsModifierHead:38,GetFreeAsComponentHead:39},c=/["\x26\xa0]/u,h=new RegExp(c.source,"gu"),u=/[&<>\xa0]/u,p=new RegExp(u.source,"gu");function d(tr){switch(tr.charCodeAt(0)){case 160:return"&nbsp;";case 34:return"&quot;";case 38:return"&amp;";default:return tr}}function m(tr){switch(tr.charCodeAt(0)){case 160:return"&nbsp;";case 38:return"&amp;";case 60:return"&lt;";case 62:return"&gt;";default:return tr}}function f(tr){return c.test(tr)?tr.replace(h,d):tr}function g(tr,n){return tr.loc.isInvisible||n.loc.isInvisible?0:tr.loc.startPosition.line<n.loc.startPosition.line||tr.loc.startPosition.line===n.loc.startPosition.line&&tr.loc.startPosition.column<n.loc.startPosition.column?-1:tr.loc.startPosition.line===n.loc.startPosition.line&&tr.loc.startPosition.column===n.loc.startPosition.column?0:1}const b=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);function k(){return[...b]}const w=/^\S/u;function y(tr){return b.has(tr.toLowerCase())&&tr[0]?.toLowerCase()===tr[0]}class v{constructor(n){this.buffer="",this.options=n}handledByOverride(n,o=!1){if(this.options.override!==void 0){let l=this.options.override(n,this.options);if(typeof l=="string")return o&&w.test(l)&&(l=` ${l}`),this.buffer+=l,!0}return!1}Node(n){switch(n.type){case"MustacheStatement":case"BlockStatement":case"MustacheCommentStatement":case"CommentStatement":case"TextNode":case"ElementNode":case"AttrNode":case"Block":case"Template":return this.TopLevelStatement(n);case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":case"PathExpression":case"SubExpression":return this.Expression(n);case"ConcatStatement":return this.ConcatStatement(n);case"Hash":return this.Hash(n);case"HashPair":return this.HashPair(n);case"ElementModifierStatement":return this.ElementModifierStatement(n)}}Expression(n){switch(n.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return this.Literal(n);case"PathExpression":return this.PathExpression(n);case"SubExpression":return this.SubExpression(n)}}Literal(n){switch(n.type){case"StringLiteral":return this.StringLiteral(n);case"BooleanLiteral":return this.BooleanLiteral(n);case"NumberLiteral":return this.NumberLiteral(n);case"UndefinedLiteral":return this.UndefinedLiteral(n);case"NullLiteral":return this.NullLiteral(n)}}TopLevelStatement(n){switch(n.type){case"MustacheStatement":return this.MustacheStatement(n);case"BlockStatement":return this.BlockStatement(n);case"MustacheCommentStatement":return this.MustacheCommentStatement(n);case"CommentStatement":return this.CommentStatement(n);case"TextNode":return this.TextNode(n);case"ElementNode":return this.ElementNode(n);case"Block":return this.Block(n);case"Template":return this.Template(n);case"AttrNode":return this.AttrNode(n)}}Template(n){this.TopLevelStatements(n.body)}Block(n){n.chained&&(n.body[0].chained=!0),this.handledByOverride(n)||this.TopLevelStatements(n.body)}TopLevelStatements(n){n.forEach(o=>this.TopLevelStatement(o))}ElementNode(n){this.handledByOverride(n)||(this.OpenElementNode(n),this.TopLevelStatements(n.children),this.CloseElementNode(n))}OpenElementNode(n){this.buffer+=`<${n.tag}`;const o=[...n.attributes,...n.modifiers,...n.comments].sort(g);for(const l of o)switch(this.buffer+=" ",l.type){case"AttrNode":this.AttrNode(l);break;case"ElementModifierStatement":this.ElementModifierStatement(l);break;case"MustacheCommentStatement":this.MustacheCommentStatement(l)}n.blockParams.length&&this.BlockParams(n.blockParams),n.selfClosing&&(this.buffer+=" /"),this.buffer+=">"}CloseElementNode(n){n.selfClosing||y(n.tag)||(this.buffer+=`</${n.tag}>`)}AttrNode(n){if(this.handledByOverride(n))return;let{name:o,value:l}=n;this.buffer+=o,!o.startsWith("@")&&l.type=="TextNode"&&l.chars.length===0||(this.buffer+="=",this.AttrNodeValue(l))}AttrNodeValue(n){if(n.type==="TextNode"){let o='"';this.options.entityEncoding==="raw"&&n.chars.includes('"')&&!n.chars.includes("'")&&(o="'"),this.buffer+=o,this.TextNode(n,o),this.buffer+=o}else this.Node(n)}TextNode(n,o){this.handledByOverride(n)||(this.options.entityEncoding==="raw"?o&&n.chars.includes(o)?this.buffer+=f(n.chars):this.buffer+=n.chars:this.buffer+=o?f(n.chars):function(l){return u.test(l)?l.replace(p,m):l}(n.chars))}MustacheStatement(n){this.handledByOverride(n)||(this.buffer+=n.trusting?"{{{":"{{",n.strip.open&&(this.buffer+="~"),this.Expression(n.path),this.Params(n.params),this.Hash(n.hash),n.strip.close&&(this.buffer+="~"),this.buffer+=n.trusting?"}}}":"}}")}BlockStatement(n){this.handledByOverride(n)||(n.chained?(this.buffer+=n.inverseStrip.open?"{{~":"{{",this.buffer+="else "):this.buffer+=n.openStrip.open?"{{~#":"{{#",this.Expression(n.path),this.Params(n.params),this.Hash(n.hash),n.program.blockParams.length&&this.BlockParams(n.program.blockParams),n.chained?this.buffer+=n.inverseStrip.close?"~}}":"}}":this.buffer+=n.openStrip.close?"~}}":"}}",this.Block(n.program),n.inverse&&(n.inverse.chained||(this.buffer+=n.inverseStrip.open?"{{~":"{{",this.buffer+="else",this.buffer+=n.inverseStrip.close?"~}}":"}}"),this.Block(n.inverse)),n.chained||(this.buffer+=n.closeStrip.open?"{{~/":"{{/",this.Expression(n.path),this.buffer+=n.closeStrip.close?"~}}":"}}"))}BlockParams(n){this.buffer+=` as |${n.join(" ")}|`}ConcatStatement(n){this.handledByOverride(n)||(this.buffer+='"',n.parts.forEach(o=>{o.type==="TextNode"?this.TextNode(o,'"'):this.Node(o)}),this.buffer+='"')}MustacheCommentStatement(n){this.handledByOverride(n)||(this.buffer+=`{{!--${n.value}--}}`)}ElementModifierStatement(n){this.handledByOverride(n)||(this.buffer+="{{",this.Expression(n.path),this.Params(n.params),this.Hash(n.hash),this.buffer+="}}")}CommentStatement(n){this.handledByOverride(n)||(this.buffer+=`<!--${n.value}-->`)}PathExpression(n){this.handledByOverride(n)||(this.buffer+=n.original)}SubExpression(n){this.handledByOverride(n)||(this.buffer+="(",this.Expression(n.path),this.Params(n.params),this.Hash(n.hash),this.buffer+=")")}Params(n){n.length&&n.forEach(o=>{this.buffer+=" ",this.Expression(o)})}Hash(n){this.handledByOverride(n,!0)||n.pairs.forEach(o=>{this.buffer+=" ",this.HashPair(o)})}HashPair(n){this.handledByOverride(n)||(this.buffer+=n.key,this.buffer+="=",this.Node(n.value))}StringLiteral(n){this.handledByOverride(n)||(this.buffer+=JSON.stringify(n.value))}BooleanLiteral(n){this.handledByOverride(n)||(this.buffer+=String(n.value))}NumberLiteral(n){this.handledByOverride(n)||(this.buffer+=String(n.value))}UndefinedLiteral(n){this.handledByOverride(n)||(this.buffer+="undefined")}NullLiteral(n){this.handledByOverride(n)||(this.buffer+="null")}print(n){let{options:o}=this;if(o.override){let l=o.override(n,o);if(l!==void 0)return l}return this.buffer="",this.Node(n),this.buffer}}function S(tr,n={entityEncoding:"transformed"}){return tr?new v(n).print(tr):""}function x(tr,n){return tr in P&&(n===void 0||P[tr].includes(n))}const P={action:["Call","Modifier"],component:["Call","Append","Block"],debugger:["Append"],"each-in":["Block"],each:["Block"],"has-block-params":["Call","Append"],"has-block":["Call","Append"],helper:["Call","Append"],if:["Call","Append","Block"],"in-element":["Block"],let:["Block"],log:["Call","Append"],modifier:["Call","Modifier"],mount:["Append"],mut:["Call","Append"],outlet:["Append"],readonly:["Call","Append"],unbound:["Call","Append"],unless:["Call","Append","Block"],yield:["Append"]};function E(tr){return!!tr&&tr.length>0}function N(tr){return tr.length===0?void 0:tr[tr.length-1]}function C(tr){return tr.length===0?void 0:tr[0]}const A=Object.freeze({line:1,column:0}),T=Object.freeze({source:"(synthetic)",start:A,end:A}),L=Object.freeze({source:"(nonexistent)",start:A,end:A}),B=Object.freeze({source:"(broken)",start:A,end:A}),O="CharPosition",H="HbsPosition",F="InternalsSynthetic",$="NonExistent",z="Broken",M="MATCH_ANY",I="IS_INVISIBLE";class _{constructor(n){this._whens=n}first(n){for(const o of this._whens){const l=o.match(n);if(E(l))return l[0]}return null}}class V{get(n,o){let l=this._map.get(n);return l||(l=o(),this._map.set(n,l),l)}add(n,o){this._map.set(n,o)}match(n){const o=function(or){switch(or){case z:case F:case $:return I;default:return or}}(n),l=[],rr=this._map.get(o),ar=this._map.get(M);return rr&&l.push(rr),ar&&l.push(ar),l}constructor(){this._map=new Map}}function U(tr){return tr(new D).validate()}class D{validate(){return(n,o)=>this.matchFor(n.kind,o.kind)(n,o)}matchFor(n,o){const l=this._whens.match(n);return E(l),new _(l).first(o)}when(n,o,l){return this._whens.get(n,()=>new V).add(o,l),this}constructor(){this._whens=new V}}class j{static synthetic(n){let o=J.synthetic(n);return new j({loc:o,chars:n})}static load(n,o){return new j({loc:J.load(n,o[1]),chars:o[0]})}constructor(n){this.loc=n.loc,this.chars=n.chars}getString(){return this.chars}serialize(){return[this.chars,this.loc.serialize()]}}class J{static get NON_EXISTENT(){return new W($,L).wrap()}static load(n,o){return typeof o=="number"?J.forCharPositions(n,o,o):typeof o=="string"?J.synthetic(o):Array.isArray(o)?J.forCharPositions(n,o[0],o[1]):o===$?J.NON_EXISTENT:o===z?J.broken(B):void A$1(o)}static forHbsLoc(n,o){const l=new X(n,o.start),rr=new X(n,o.end);return new R(n,{start:l,end:rr},o).wrap()}static forCharPositions(n,o,l){const rr=new Q(n,o),ar=new Q(n,l);return new K(n,{start:rr,end:ar}).wrap()}static synthetic(n){return new W(F,L,n).wrap()}static broken(n=B){return new W(z,n).wrap()}constructor(n){var o;this.data=n,this.isInvisible=(o=n.kind)!==O&&o!==H}getStart(){return this.data.getStart().wrap()}getEnd(){return this.data.getEnd().wrap()}get loc(){const n=this.data.toHbsSpan();return n===null?B:n.toHbsLoc()}get module(){return this.data.getModule()}get startPosition(){return this.loc.start}get endPosition(){return this.loc.end}toJSON(){return this.loc}withStart(n){return G(n.data,this.data.getEnd())}withEnd(n){return G(this.data.getStart(),n.data)}asString(){return this.data.asString()}toSlice(n){const o=this.data.asString();return JSON.stringify(o),JSON.stringify(n),new j({loc:this,chars:n||o})}get start(){return this.loc.start}set start(n){this.data.locDidUpdate({start:n})}get end(){return this.loc.end}set end(n){this.data.locDidUpdate({end:n})}get source(){return this.module}collapse(n){switch(n){case"start":return this.getStart().collapsed();case"end":return this.getEnd().collapsed()}}extend(n){return G(this.data.getStart(),n.data.getEnd())}serialize(){return this.data.serialize()}slice({skipStart:n=0,skipEnd:o=0}){return G(this.getStart().move(n).data,this.getEnd().move(-o).data)}sliceStartChars({skipStart:n=0,chars:o}){return G(this.getStart().move(n).data,this.getStart().move(n+o).data)}sliceEndChars({skipEnd:n=0,chars:o}){return G(this.getEnd().move(n-o).data,this.getStart().move(-n).data)}}class K{#e;constructor(n,o){this.source=n,this.charPositions=o,this.kind=O,this.#e=null}wrap(){return new J(this)}asString(){return this.source.slice(this.charPositions.start.charPos,this.charPositions.end.charPos)}getModule(){return this.source.module}getStart(){return this.charPositions.start}getEnd(){return this.charPositions.end}locDidUpdate(){}toHbsSpan(){let n=this.#e;if(n===null){const o=this.charPositions.start.toHbsPos(),l=this.charPositions.end.toHbsPos();n=this.#e=o===null||l===null?Y:new R(this.source,{start:o,end:l})}return n===Y?null:n}serialize(){const{start:{charPos:n},end:{charPos:o}}=this.charPositions;return n===o?n:[n,o]}toCharPosSpan(){return this}}class R{#e;#t;constructor(n,o,l=null){this.source=n,this.hbsPositions=o,this.kind=H,this.#e=null,this.#t=l}serialize(){const n=this.toCharPosSpan();return n===null?z:n.wrap().serialize()}wrap(){return new J(this)}updateProvided(n,o){this.#t&&(this.#t[o]=n),this.#e=null,this.#t={start:n,end:n}}locDidUpdate({start:n,end:o}){n!==void 0&&(this.updateProvided(n,"start"),this.hbsPositions.start=new X(this.source,n,null)),o!==void 0&&(this.updateProvided(o,"end"),this.hbsPositions.end=new X(this.source,o,null))}asString(){const n=this.toCharPosSpan();return n===null?"":n.asString()}getModule(){return this.source.module}getStart(){return this.hbsPositions.start}getEnd(){return this.hbsPositions.end}toHbsLoc(){return{start:this.hbsPositions.start.hbsPos,end:this.hbsPositions.end.hbsPos}}toHbsSpan(){return this}toCharPosSpan(){let n=this.#e;if(n===null){const o=this.hbsPositions.start.toCharPos(),l=this.hbsPositions.end.toCharPos();if(!o||!l)return n=this.#e=Y,null;n=this.#e=new K(this.source,{start:o,end:l})}return n===Y?null:n}}class W{constructor(n,o,l=null){this.kind=n,this.loc=o,this.string=l}serialize(){switch(this.kind){case z:case $:return this.kind;case F:return this.string||""}}wrap(){return new J(this)}asString(){return this.string||""}locDidUpdate({start:n,end:o}){n!==void 0&&(this.loc.start=n),o!==void 0&&(this.loc.end=o)}getModule(){return"an unknown module"}getStart(){return new Z(this.kind,this.loc.start)}getEnd(){return new Z(this.kind,this.loc.end)}toCharPosSpan(){return this}toHbsSpan(){return null}toHbsLoc(){return B}}const G=U(tr=>tr.when(H,H,(n,o)=>new R(n.source,{start:n,end:o}).wrap()).when(O,O,(n,o)=>new K(n.source,{start:n,end:o}).wrap()).when(O,H,(n,o)=>{const l=o.toCharPos();return l===null?new W(z,B).wrap():G(n,l)}).when(H,O,(n,o)=>{const l=n.toCharPos();return l===null?new W(z,B).wrap():G(l,o)}).when(I,M,n=>new W(n.kind,B).wrap()).when(M,I,(n,o)=>new W(o.kind,B).wrap())),Y="BROKEN";class q{static forHbsPos(n,o){return new X(n,o,null).wrap()}static broken(n=A){return new Z(z,n).wrap()}constructor(n){this.data=n}get offset(){const n=this.data.toCharPos();return n===null?null:n.offset}eql(n){return tt(this.data,n.data)}until(n){return G(this.data,n.data)}move(n){const o=this.data.toCharPos();if(o===null)return q.broken();{const l=o.offset+n;return o.source.validate(l)?new Q(o.source,l).wrap():q.broken()}}collapsed(){return G(this.data,this.data)}toJSON(){return this.data.toJSON()}}class Q{constructor(n,o){this.source=n,this.charPos=o,this.kind=O,this._locPos=null}toCharPos(){return this}toJSON(){const n=this.toHbsPos();return n===null?A:n.toJSON()}wrap(){return new q(this)}get offset(){return this.charPos}toHbsPos(){let n=this._locPos;if(n===null){const o=this.source.hbsPosFor(this.charPos);this._locPos=n=o===null?Y:new X(this.source,o,this.charPos)}return n===Y?null:n}}class X{constructor(n,o,l=null){this.source=n,this.hbsPos=o,this.kind=H,this._charPos=l===null?null:new Q(n,l)}toCharPos(){let n=this._charPos;if(n===null){const o=this.source.charPosFor(this.hbsPos);this._charPos=n=o===null?Y:new Q(this.source,o)}return n===Y?null:n}toJSON(){return this.hbsPos}wrap(){return new q(this)}toHbsPos(){return this}}class Z{constructor(n,o){this.kind=n,this.pos=o}toCharPos(){return null}toJSON(){return this.pos}wrap(){return new q(this)}get offset(){return null}}const tt=U(tr=>tr.when(H,H,({hbsPos:n},{hbsPos:o})=>n.column===o.column&&n.line===o.line).when(O,O,({charPos:n},{charPos:o})=>n===o).when(O,H,({offset:n},o)=>n===o.toCharPos()?.offset).when(H,O,(n,{offset:o})=>n.toCharPos()?.offset===o).when(M,M,()=>!1));class et{static from(n,o={}){return new et(n,o.meta?.moduleName)}constructor(n,o="an unknown module"){this.source=n,this.module=o}validate(n){return n>=0&&n<=this.source.length}slice(n,o){return this.source.slice(n,o)}offsetFor(n,o){return q.forHbsPos(this,{line:n,column:o})}spanFor({start:n,end:o}){return J.forHbsLoc(this,{start:{line:n.line,column:n.column},end:{line:o.line,column:o.column}})}hbsPosFor(n){let o=0,l=0;if(n>this.source.length)return null;for(;;){let rr=this.source.indexOf(`
`,l);if(n<=rr||rr===-1)return{line:o+1,column:n-l};o+=1,l=rr+1}}charPosFor(n){let{line:o,column:l}=n,rr=this.source.length,ar=0,or=0;for(;or<rr;){let ir=this.source.indexOf(`
`,or);if(ir===-1&&(ir=this.source.length),ar===o-1)return or+l>ir?ir:or+l;if(ir===-1)return 0;ar+=1,or=ir+1}return rr}}class st{static range(n,o=J.NON_EXISTENT){return new st(n.map(rt)).getRangeOffset(o)}constructor(n=[]){this._span=n}add(n){this._span.push(n)}getRangeOffset(n){if(E(this._span)){let o=C(this._span),l=N(this._span);return o.extend(l)}return n}}function rt(tr){if(Array.isArray(tr)){let n=C(tr),o=N(tr);return rt(n).extend(rt(o))}return tr instanceof J?tr:tr.loc}function nt(tr){return!Array.isArray(tr)||tr.length!==0}function at(tr,n){return nt(tr)?rt(tr):n}var it=Object.freeze({__proto__:null,NON_EXISTENT_LOCATION:L,SYNTHETIC_LOCATION:T,Source:et,SourceOffset:q,SourceSlice:j,SourceSpan:J,SpanList:st,UNKNOWN_POSITION:A,hasSpan:nt,loc:rt,maybeLoc:at});function ot(tr,n){let{module:o,loc:l}=n,{line:rr,column:ar}=l.start,or=n.asString(),ir=or?`

|
|  ${or.split(`
`).join(`
|  `)}
|

`:"",cr=new Error(`${tr}: ${ir}(error occurred in '${o}' @ line ${rr} : column ${ar})`);return cr.name="SyntaxError",cr.location=n,cr.code=or,cr}const lt={Template:["body"],Block:["body"],MustacheStatement:["path","params","hash"],BlockStatement:["path","params","hash","program","inverse"],ElementModifierStatement:["path","params","hash"],CommentStatement:[],MustacheCommentStatement:[],ElementNode:["attributes","modifiers","children","comments"],AttrNode:["value"],TextNode:[],ConcatStatement:["parts"],SubExpression:["path","params","hash"],PathExpression:[],StringLiteral:[],BooleanLiteral:[],NumberLiteral:[],NullLiteral:[],UndefinedLiteral:[],Hash:["pairs"],HashPair:["value"]},ct=function(){function tr(n,o,l,rr){let ar=Error.call(this,n);this.key=rr,this.message=n,this.node=o,this.parent=l,ar.stack&&(this.stack=ar.stack)}return tr.prototype=Object.create(Error.prototype),tr.prototype.constructor=tr,tr}();function ht(tr,n,o){return new ct("Cannot remove a node unless it is part of an array",tr,n,o)}function ut(tr,n,o){return new ct("Cannot replace a node with multiple nodes unless it is part of an array",tr,n,o)}function pt(tr,n){return new ct("Replacing and removing in key handlers is not yet supported.",tr,null,n)}class dt{constructor(n,o=null,l=null){this.node=n,this.parent=o,this.parentKey=l}get parentNode(){return this.parent?this.parent.node:null}parents(){return{[Symbol.iterator]:()=>new mt(this)}}}class mt{constructor(n){this.path=n}next(){return this.path.parent?(this.path=this.path.parent,{done:!1,value:this.path}):{done:!0,value:null}}}function ft(tr){return typeof tr=="function"?tr:tr.enter}function gt(tr){return typeof tr=="function"?void 0:tr.exit}function bt(tr,n){let o,l,rr,{node:ar,parent:or,parentKey:ir}=n,cr=function(mr,kr){if(mr.Program&&(kr==="Template"&&!mr.Template||kr==="Block"&&!mr.Block))return mr.Program;let Ar=mr[kr];return Ar!==void 0?Ar:mr.All}(tr,ar.type);if(cr!==void 0&&(o=ft(cr),l=gt(cr)),o!==void 0&&(rr=o(ar,n)),rr!=null){if(JSON.stringify(ar)!==JSON.stringify(rr))return Array.isArray(rr)?(yt(tr,rr,or,ir),rr):bt(tr,new dt(rr,or,ir))||rr;rr=void 0}if(rr===void 0){let mr=lt[ar.type];for(let kr=0;kr<mr.length;kr++)wt(tr,cr,n,mr[kr]);l!==void 0&&(rr=l(ar,n))}return rr}function kt(tr,n,o){tr[n]=o}function wt(tr,n,o,l){let rr,ar,{node:or}=o,ir=function(cr,mr){return cr[mr]}(or,l);if(ir){if(n!==void 0){let cr=function(mr,kr){let Ar=typeof mr!="function"?mr.keys:void 0;if(Ar===void 0)return;let wr=Ar[kr];return wr!==void 0?wr:Ar.All}(n,l);cr!==void 0&&(rr=ft(cr),ar=gt(cr))}if(rr!==void 0&&rr(or,l)!==void 0)throw pt(or,l);if(Array.isArray(ir))yt(tr,ir,o,l);else{let cr=bt(tr,new dt(ir,o,l));cr!==void 0&&function(mr,kr,Ar,wr){if(wr===null)throw ht(Ar,mr,kr);if(Array.isArray(wr)){if(wr.length!==1)throw wr.length===0?ht(Ar,mr,kr):ut(Ar,mr,kr);kt(mr,kr,wr[0])}else kt(mr,kr,wr)}(or,l,ir,cr)}if(ar!==void 0&&ar(or,l)!==void 0)throw pt(or,l)}}function yt(tr,n,o,l){for(let rr=0;rr<n.length;rr++){let ar=n[rr],or=bt(tr,new dt(ar,o,l));or!==void 0&&(rr+=vt(n,rr,or)-1)}}function vt(tr,n,o){return o===null?(tr.splice(n,1),0):Array.isArray(o)?(tr.splice(n,1,...o),o.length):(tr.splice(n,1,o),1)}function St(tr,n){bt(n,new dt(tr))}class xt{constructor(n){this.order=n,this.stack=[]}visit(n,o){n&&(this.stack.push(n),this.order==="post"?(this.children(n,o),o(n,this)):(o(n,this),this.children(n,o)),this.stack.pop())}children(n,o){switch(n.type){case"Block":case"Template":return void Pt(this,n.body,o);case"ElementNode":return void Pt(this,n.children,o);case"BlockStatement":return this.visit(n.program,o),void this.visit(n.inverse||null,o);default:return}}}function Pt(tr,n,o){for(const l of n)tr.visit(l,o)}function Et(tr,n){(function(o){switch(o.type){case"Block":case"Template":return o.body;case"ElementNode":return o.children}})(tr).push(n)}function Nt(tr){return tr.type==="StringLiteral"||tr.type==="BooleanLiteral"||tr.type==="NumberLiteral"||tr.type==="NullLiteral"||tr.type==="UndefinedLiteral"}let Ct;function At(){return Ct||(Ct=new et("","(synthetic)")),Ct}function Tt(tr,n){return Vt.var({name:tr,loc:zt(n||null)})}function Lt(tr,n){let o=zt(n||null);if(typeof tr!="string"){if("type"in tr)return tr;{tr.head.indexOf(".");let{head:ar,tail:or}=tr;return Vt.path({head:Vt.head({original:ar,loc:o.sliceStartChars({chars:ar.length})}),tail:or,loc:zt(n||null)})}}let{head:l,tail:rr}=function(ar,or){let[ir,...cr]=ar.split("."),mr=Vt.head({original:ir,loc:zt(or||null)});return Vt.path({head:mr,tail:cr,loc:zt(or||null)})}(tr,o);return Vt.path({head:l,tail:rr,loc:o})}function Bt(tr,n,o){return Vt.literal({type:tr,value:n,loc:zt(o||null)})}function Ot(tr=[],n){return Vt.hash({pairs:tr,loc:zt(n||null)})}function Ht(tr){return tr.map(n=>typeof n=="string"?Vt.var({name:n,loc:J.synthetic(n)}):n)}function Ft(tr=[],n=[],o=!1,l){return Vt.blockItself({body:tr,params:Ht(n),chained:o,loc:zt(l||null)})}function $t(tr=[],n=[],o){return Vt.template({body:tr,blockParams:n,loc:zt(o||null)})}function zt(...tr){if(tr.length===1){let n=tr[0];return n&&typeof n=="object"?J.forHbsLoc(At(),n):J.forHbsLoc(At(),T)}{let[n,o,l,rr,ar]=tr,or=ar?new et("",ar):At();return J.forHbsLoc(or,{start:{line:n,column:o},end:{line:l||n,column:rr||o}})}}var Mt={mustache:function(tr,n=[],o=Ot([]),l=!1,rr,ar){return Vt.mustache({path:Lt(tr),params:n,hash:o,trusting:l,strip:ar,loc:zt(rr||null)})},block:function(tr,n,o,l,rr=null,ar,or,ir,cr){let mr,kr=null;return mr=l.type==="Template"?Vt.blockItself({params:Ht(l.blockParams),body:l.body,loc:l.loc}):l,rr?.type==="Template"?(rr.blockParams.length,kr=Vt.blockItself({params:[],body:rr.body,loc:rr.loc})):kr=rr,Vt.block({path:Lt(tr),params:n||[],hash:o||Ot([]),defaultBlock:mr,elseBlock:kr,loc:zt(ar||null),openStrip:or,inverseStrip:ir,closeStrip:cr})},comment:function(tr,n){return Vt.comment({value:tr,loc:zt(n||null)})},mustacheComment:function(tr,n){return Vt.mustacheComment({value:tr,loc:zt(n||null)})},element:function(tr,n={}){let o,l,{attrs:rr,blockParams:ar,modifiers:or,comments:ir,children:cr,openTag:mr,closeTag:kr,loc:Ar}=n;typeof tr=="string"?tr.endsWith("/")?(o=Lt(tr.slice(0,-1)),l=!0):o=Lt(tr):"type"in tr?(tr.type,tr.type,o=tr):"path"in tr?(tr.path.type,tr.path.type,o=tr.path,l=tr.selfClosing):(o=Lt(tr.name),l=tr.selfClosing);let wr=ar?.map(Ir=>typeof Ir=="string"?Tt(Ir):Ir),Er=null;return kr?Er=zt(kr):kr===void 0&&(Er=l||y(o.original)?null:zt(null)),Vt.element({path:o,selfClosing:l||!1,attributes:rr||[],params:wr||[],modifiers:or||[],comments:ir||[],children:cr||[],openTag:zt(mr||null),closeTag:Er,loc:zt(Ar||null)})},elementModifier:function(tr,n,o,l){return Vt.elementModifier({path:Lt(tr),params:n||[],hash:o||Ot([]),loc:zt(l||null)})},attr:function(tr,n,o){return Vt.attr({name:tr,value:n,loc:zt(o||null)})},text:function(tr="",n){return Vt.text({chars:tr,loc:zt(n||null)})},sexpr:function(tr,n=[],o=Ot([]),l){return Vt.sexpr({path:Lt(tr),params:n,hash:o,loc:zt(l||null)})},concat:function(tr,n){if(!E(tr))throw new Error("b.concat requires at least one part");return Vt.concat({parts:tr,loc:zt(n||null)})},hash:Ot,pair:function(tr,n,o){return Vt.pair({key:tr,value:n,loc:zt(o||null)})},literal:Bt,program:function(tr,n,o){return n&&n.length?Ft(tr,n,!1,o):$t(tr,[],o)},blockItself:Ft,template:$t,loc:zt,pos:function(tr,n){return Vt.pos({line:tr,column:n})},path:Lt,fullPath:function(tr,n=[],o){return Vt.path({head:tr,tail:n,loc:zt(o||null)})},head:function(tr,n){return Vt.head({original:tr,loc:zt(n||null)})},at:function(tr,n){return Vt.atName({name:tr,loc:zt(n||null)})},var:Tt,this:function(tr){return Vt.this({loc:zt(tr||null)})},string:It("StringLiteral"),boolean:It("BooleanLiteral"),number:It("NumberLiteral"),undefined:()=>Bt("UndefinedLiteral",void 0),null:()=>Bt("NullLiteral",null)};function It(tr){return function(n,o){return Bt(tr,n,o)}}const _t={close:!1,open:!1},Vt=new class{pos({line:tr,column:n}){return{line:tr,column:n}}blockItself({body:tr,params:n,chained:o=!1,loc:l}){return{type:"Block",body:tr,params:n,get blockParams(){return this.params.map(rr=>rr.name)},set blockParams(rr){this.params=rr.map(ar=>Vt.var({name:ar,loc:J.synthetic(ar)}))},chained:o,loc:l}}template({body:tr,blockParams:n,loc:o}){return{type:"Template",body:tr,blockParams:n,loc:o}}mustache({path:tr,params:n,hash:o,trusting:l,loc:rr,strip:ar=_t}){return function({path:or,params:ir,hash:cr,trusting:mr,strip:kr,loc:Ar}){const wr={type:"MustacheStatement",path:or,params:ir,hash:cr,trusting:mr,strip:kr,loc:Ar};return Object.defineProperty(wr,"escaped",{enumerable:!1,get(){return!this.trusting},set(Er){this.trusting=!Er}}),wr}({path:tr,params:n,hash:o,trusting:l,strip:ar,loc:rr})}block({path:tr,params:n,hash:o,defaultBlock:l,elseBlock:rr=null,loc:ar,openStrip:or=_t,inverseStrip:ir=_t,closeStrip:cr=_t}){return{type:"BlockStatement",path:tr,params:n,hash:o,program:l,inverse:rr,loc:ar,openStrip:or,inverseStrip:ir,closeStrip:cr}}comment({value:tr,loc:n}){return{type:"CommentStatement",value:tr,loc:n}}mustacheComment({value:tr,loc:n}){return{type:"MustacheCommentStatement",value:tr,loc:n}}concat({parts:tr,loc:n}){return{type:"ConcatStatement",parts:tr,loc:n}}element({path:tr,selfClosing:n,attributes:o,modifiers:l,params:rr,comments:ar,children:or,openTag:ir,closeTag:cr,loc:mr}){let kr=n;return{type:"ElementNode",path:tr,attributes:o,modifiers:l,params:rr,comments:ar,children:or,openTag:ir,closeTag:cr,loc:mr,get tag(){return this.path.original},set tag(Ar){this.path.original=Ar},get blockParams(){return this.params.map(Ar=>Ar.name)},set blockParams(Ar){this.params=Ar.map(wr=>Vt.var({name:wr,loc:J.synthetic(wr)}))},get selfClosing(){return kr},set selfClosing(Ar){kr=Ar,this.closeTag=Ar?null:J.synthetic(`</${this.tag}>`)}}}elementModifier({path:tr,params:n,hash:o,loc:l}){return{type:"ElementModifierStatement",path:tr,params:n,hash:o,loc:l}}attr({name:tr,value:n,loc:o}){return{type:"AttrNode",name:tr,value:n,loc:o}}text({chars:tr,loc:n}){return{type:"TextNode",chars:tr,loc:n}}sexpr({path:tr,params:n,hash:o,loc:l}){return{type:"SubExpression",path:tr,params:n,hash:o,loc:l}}path({head:tr,tail:n,loc:o}){return function({head:l,tail:rr,loc:ar}){const or={type:"PathExpression",head:l,tail:rr,get original(){return[this.head.original,...this.tail].join(".")},set original(ir){let[cr,...mr]=ir.split(".");this.head=Mt.head(cr,this.head.loc),this.tail=mr},loc:ar};return Object.defineProperty(or,"parts",{enumerable:!1,get(){let ir=this.original.split(".");return ir[0]==="this"?ir.shift():ir[0].startsWith("@")&&(ir[0]=ir[0].slice(1)),Object.freeze(ir)},set(ir){let cr=[...ir];cr[0]==="this"||cr[0]?.startsWith("@")||(this.head.type==="ThisHead"?cr.unshift("this"):this.head.type==="AtHead"&&(cr[0]=`@${cr[0]}`)),this.original=cr.join(".")}}),Object.defineProperty(or,"this",{enumerable:!1,get(){return this.head.type==="ThisHead"}}),Object.defineProperty(or,"data",{enumerable:!1,get(){return this.head.type==="AtHead"}}),or}({head:tr,tail:n,loc:o})}head({original:tr,loc:n}){return tr==="this"?this.this({loc:n}):tr[0]==="@"?this.atName({name:tr,loc:n}):this.var({name:tr,loc:n})}this({loc:tr}){return{type:"ThisHead",get original(){return"this"},loc:tr}}atName({name:tr,loc:n}){let o="";const l={type:"AtHead",get name(){return o},set name(rr){rr[0],rr.indexOf("."),o=rr},get original(){return this.name},set original(rr){this.name=rr},loc:n};return l.name=tr,l}var({name:tr,loc:n}){let o="";const l={type:"VarHead",get name(){return o},set name(rr){rr[0],rr.indexOf("."),o=rr},get original(){return this.name},set original(rr){this.name=rr},loc:n};return l.name=tr,l}hash({pairs:tr,loc:n}){return{type:"Hash",pairs:tr,loc:n}}pair({key:tr,value:n,loc:o}){return{type:"HashPair",key:tr,value:n,loc:o}}literal({type:tr,value:n,loc:o}){return function({type:l,value:rr,loc:ar}){const or={type:l,value:rr,loc:ar};return Object.defineProperty(or,"original",{enumerable:!1,get(){return this.value},set(ir){this.value=ir}}),or}({type:tr,value:n,loc:o})}};class Ut{constructor(n,o=new EntityParser(namedCharRefs),l="precompile"){this.elementStack=[],this.currentAttribute=null,this.currentNode=null,this.source=n,this.lines=n.source.split(/\r\n?|\n/u),this.tokenizer=new EventedTokenizer(this,o,l)}offset(){let{line:n,column:o}=this.tokenizer;return this.source.offsetFor(n,o)}pos({line:n,column:o}){return this.source.offsetFor(n,o)}finish(n){return x$1({},n,{loc:n.start.until(this.offset())})}get currentAttr(){return this.currentAttribute}get currentTag(){let n=this.currentNode;return n&&(n.type==="StartTag"||n.type),n}get currentStartTag(){let n=this.currentNode;return n&&n.type,n}get currentEndTag(){let n=this.currentNode;return n&&n.type,n}get currentComment(){let n=this.currentNode;return n&&n.type,n}get currentData(){let n=this.currentNode;return n&&n.type,n}acceptNode(n){return this[n.type](n)}currentElement(){return N(this.elementStack)}sourceForNode(n,o){let l,rr,ar,or=n.loc.start.line-1,ir=or-1,cr=n.loc.start.column,mr=[];for(o?(rr=o.loc.end.line-1,ar=o.loc.end.column):(rr=n.loc.end.line-1,ar=n.loc.end.column);ir<rr;)ir++,l=this.lines[ir],ir===or?or===rr?mr.push(l.slice(cr,ar)):mr.push(l.slice(cr)):ir===rr?mr.push(l.slice(0,ar)):mr.push(l);return mr.join(`
`)}}const Dt="beforeAttributeName";class jt extends Ut{parse(n,o){n.loc;let l=Vt.template({body:[],blockParams:o,loc:this.source.spanFor(n.loc)}),rr=this.parseProgram(l,n);return this.pendingError?.eof(rr.loc.getEnd()),rr}Program(n,o){n.loc;let l=Vt.blockItself({body:[],params:o,chained:n.chained,loc:this.source.spanFor(n.loc)});return this.parseProgram(l,n)}parseProgram(n,o){if(o.body.length===0)return n;let l;try{this.elementStack.push(n);for(let rr of o.body)this.acceptNode(rr)}finally{l=this.elementStack.pop()}if(n!==l){if(l?.type==="ElementNode")throw ot(`Unclosed element \`${l.tag}\``,l.loc);n.type}return n}BlockStatement(n){if(this.tokenizer.state==="comment")return n.loc,void this.appendToCommentData(this.sourceForNode(n));if(this.tokenizer.state!=="data"&&this.tokenizer.state!=="beforeData")throw ot("A block may only be used inside an HTML element or another block.",this.source.spanFor(n.loc));const{path:o,params:l,hash:rr}=Jt(this,n),ar=this.source.spanFor(n.loc);let or,ir=[];if(n.program.blockParams?.length){let Ar=rr.loc.collapse("end");Ar=n.program.loc?Ar.withEnd(this.source.spanFor(n.program.loc).getStart()):n.program.body[0]?Ar.withEnd(this.source.spanFor(n.program.body[0].loc).getStart()):Ar.withEnd(ar.getEnd()),or=Rt(this.source,n,Ar);const wr=Ar.asString();let Er=wr.indexOf("|")+1;const Ir=wr.indexOf("|",Er);for(const qr of n.program.blockParams){let Rr,kn;Rr=Er>=Ir?-1:wr.indexOf(qr,Er),Rr===-1||Rr+qr.length>Ir?(Er=Ir,kn=this.source.spanFor(L)):(Er=Rr,kn=Ar.sliceStartChars({skipStart:Er,chars:qr.length}),Er+=qr.length),ir.push(Vt.var({name:qr,loc:kn}))}}else or=Rt(this.source,n,ar);const cr=this.Program(or.program,ir),mr=or.inverse?this.Program(or.inverse,[]):null,kr=Vt.block({path:o,params:l,hash:rr,defaultBlock:cr,elseBlock:mr,loc:this.source.spanFor(n.loc),openStrip:n.openStrip,inverseStrip:n.inverseStrip,closeStrip:n.closeStrip});Et(this.currentElement(),kr)}MustacheStatement(n){this.pendingError?.mustache(this.source.spanFor(n.loc));const{tokenizer:o}=this;if(o.state==="comment")return void this.appendToCommentData(this.sourceForNode(n));let l;const{escaped:rr,loc:ar,strip:or}=n;if("original"in n.path&&n.path.original==="...attributes")throw ot("Illegal use of ...attributes",this.source.spanFor(n.loc));if(Nt(n.path))l=Vt.mustache({path:this.acceptNode(n.path),params:[],hash:Vt.hash({pairs:[],loc:this.source.spanFor(n.path.loc).collapse("end")}),trusting:!rr,loc:this.source.spanFor(ar),strip:or});else{const{path:ir,params:cr,hash:mr}=Jt(this,n);l=Vt.mustache({path:ir,params:cr,hash:mr,trusting:!rr,loc:this.source.spanFor(ar),strip:or})}switch(o.state){case"tagOpen":case"tagName":throw ot("Cannot use mustaches in an elements tagname",l.loc);case"beforeAttributeName":Kt(this.currentStartTag,l);break;case"attributeName":case"afterAttributeName":this.beginAttributeValue(!1),this.finishAttributeValue(),Kt(this.currentStartTag,l),o.transitionTo(Dt);break;case"afterAttributeValueQuoted":Kt(this.currentStartTag,l),o.transitionTo(Dt);break;case"beforeAttributeValue":this.beginAttributeValue(!1),this.appendDynamicAttributeValuePart(l),o.transitionTo("attributeValueUnquoted");break;case"attributeValueDoubleQuoted":case"attributeValueSingleQuoted":case"attributeValueUnquoted":this.appendDynamicAttributeValuePart(l);break;default:Et(this.currentElement(),l)}return l}appendDynamicAttributeValuePart(n){this.finalizeTextPart();const o=this.currentAttr;o.isDynamic=!0,o.parts.push(n)}finalizeTextPart(){const n=this.currentAttr.currentPart;n!==null&&(this.currentAttr.parts.push(n),this.startTextPart())}startTextPart(){this.currentAttr.currentPart=null}ContentStatement(n){(function(o,l){let rr=l.loc.start.line,ar=l.loc.start.column;const or=function(ir,cr){if(cr==="")return{lines:ir.split(`
`).length-1,columns:0};const[mr]=ir.split(cr),kr=mr.split(/\n/u),Ar=kr.length-1;return{lines:Ar,columns:kr[Ar].length}}(l.original,l.value);rr+=or.lines,or.lines?ar=or.columns:ar+=or.columns,o.line=rr,o.column=ar})(this.tokenizer,n),this.tokenizer.tokenizePart(n.value),this.tokenizer.flushData()}CommentStatement(n){const{tokenizer:o}=this;if(o.state==="comment")return this.appendToCommentData(this.sourceForNode(n)),null;const{value:l,loc:rr}=n,ar=Vt.mustacheComment({value:l,loc:this.source.spanFor(rr)});switch(o.state){case"beforeAttributeName":case"afterAttributeName":this.currentStartTag.comments.push(ar);break;case"beforeData":case"data":Et(this.currentElement(),ar);break;default:throw ot(`Using a Handlebars comment when in the \`${o.state}\` state is not supported`,this.source.spanFor(n.loc))}return ar}PartialStatement(n){throw ot("Handlebars partials are not supported",this.source.spanFor(n.loc))}PartialBlockStatement(n){throw ot("Handlebars partial blocks are not supported",this.source.spanFor(n.loc))}Decorator(n){throw ot("Handlebars decorators are not supported",this.source.spanFor(n.loc))}DecoratorBlock(n){throw ot("Handlebars decorator blocks are not supported",this.source.spanFor(n.loc))}SubExpression(n){const{path:o,params:l,hash:rr}=Jt(this,n);return Vt.sexpr({path:o,params:l,hash:rr,loc:this.source.spanFor(n.loc)})}PathExpression(n){const{original:o}=n;let l;if(o.indexOf("/")!==-1){if(o.slice(0,2)==="./")throw ot('Using "./" is not supported in Glimmer and unnecessary',this.source.spanFor(n.loc));if(o.slice(0,3)==="../")throw ot('Changing context using "../" is not supported in Glimmer',this.source.spanFor(n.loc));if(o.indexOf(".")!==-1)throw ot("Mixing '.' and '/' in paths is not supported in Glimmer; use only '.' to separate property paths",this.source.spanFor(n.loc));l=[n.parts.join("/")]}else{if(o===".")throw ot("'.' is not a supported path in Glimmer; check for a path with a trailing '.'",this.source.spanFor(n.loc));l=n.parts}let rr,ar=!1;if(/^this(?:\..+)?$/u.test(o)&&(ar=!0),ar)rr=Vt.this({loc:this.source.spanFor({start:n.loc.start,end:{line:n.loc.start.line,column:n.loc.start.column+4}})});else if(n.data){const or=l.shift();if(or===void 0)throw ot("Attempted to parse a path expression, but it was not valid. Paths beginning with @ must start with a-z.",this.source.spanFor(n.loc));rr=Vt.atName({name:`@${or}`,loc:this.source.spanFor({start:n.loc.start,end:{line:n.loc.start.line,column:n.loc.start.column+or.length+1}})})}else{const or=l.shift();if(or===void 0)throw ot("Attempted to parse a path expression, but it was not valid. Paths must start with a-z or A-Z.",this.source.spanFor(n.loc));rr=Vt.var({name:or,loc:this.source.spanFor({start:n.loc.start,end:{line:n.loc.start.line,column:n.loc.start.column+or.length}})})}return Vt.path({head:rr,tail:l,loc:this.source.spanFor(n.loc)})}Hash(n){const o=n.pairs.map(l=>Vt.pair({key:l.key,value:this.acceptNode(l.value),loc:this.source.spanFor(l.loc)}));return Vt.hash({pairs:o,loc:this.source.spanFor(n.loc)})}StringLiteral(n){return Vt.literal({type:"StringLiteral",value:n.value,loc:this.source.spanFor(n.loc)})}BooleanLiteral(n){return Vt.literal({type:"BooleanLiteral",value:n.value,loc:this.source.spanFor(n.loc)})}NumberLiteral(n){return Vt.literal({type:"NumberLiteral",value:n.value,loc:this.source.spanFor(n.loc)})}UndefinedLiteral(n){return Vt.literal({type:"UndefinedLiteral",value:void 0,loc:this.source.spanFor(n.loc)})}NullLiteral(n){return Vt.literal({type:"NullLiteral",value:null,loc:this.source.spanFor(n.loc)})}constructor(...n){super(...n),this.pendingError=null}}function Jt(tr,n){let o;switch(n.path.type){case"PathExpression":o=tr.PathExpression(n.path);break;case"SubExpression":o=tr.SubExpression(n.path);break;case"StringLiteral":case"UndefinedLiteral":case"NullLiteral":case"NumberLiteral":case"BooleanLiteral":{let ar;throw ar=n.path.type==="BooleanLiteral"?n.path.original.toString():n.path.type==="StringLiteral"?`"${n.path.original}"`:n.path.type==="NullLiteral"?"null":n.path.type==="NumberLiteral"?n.path.value.toString():"undefined",ot(`${n.path.type} "${n.path.type==="StringLiteral"?n.path.original:ar}" cannot be called as a sub-expression, replace (${ar}) with ${ar}`,tr.source.spanFor(n.path.loc))}}const l=n.params.map(ar=>tr.acceptNode(ar)),rr=E(l)?N(l).loc:o.loc;return{path:o,params:l,hash:n.hash?tr.Hash(n.hash):Vt.hash({pairs:[],loc:tr.source.spanFor(rr).collapse("end")})}}function Kt(tr,n){const{path:o,params:l,hash:rr,loc:ar}=n;if(Nt(o)){const ir=`{{${function(cr){return cr.type==="UndefinedLiteral"?"undefined":JSON.stringify(cr.value)}(o)}}}`;throw ot(`In <${tr.name} ... ${ir} ..., ${ir} is not a valid modifier`,n.loc)}const or=Vt.elementModifier({path:o,params:l,hash:rr,loc:ar});tr.modifiers.push(or)}function Rt(tr,n,o){if(!n.program.loc){const rr=n.program.body.at(0),ar=n.program.body.at(-1);if(rr&&ar)n.program.loc={...rr.loc,end:ar.loc.end};else{const or=tr.spanFor(n.loc);n.program.loc=o.withEnd(or.getEnd())}}let l=tr.spanFor(n.program.loc).getEnd();return n.inverse&&!n.inverse.loc&&(n.inverse.loc=l.collapsed()),n}function Wt(tr){return/[\t\n\f ]/u.test(tr)}class Gt extends jt{reset(){this.currentNode=null}beginComment(){this.currentNode={type:"CommentStatement",value:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}appendToCommentData(n){this.currentComment.value+=n}finishComment(){Et(this.currentElement(),Vt.comment(this.finish(this.currentComment)))}beginData(){this.currentNode={type:"TextNode",chars:"",start:this.offset()}}appendToData(n){this.currentData.chars+=n}finishData(){Et(this.currentElement(),Vt.text(this.finish(this.currentData)))}tagOpen(){this.tagOpenLine=this.tokenizer.line,this.tagOpenColumn=this.tokenizer.column}beginStartTag(){this.currentNode={type:"StartTag",name:"",nameStart:null,nameEnd:null,attributes:[],modifiers:[],comments:[],params:[],selfClosing:!1,start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}beginEndTag(){this.currentNode={type:"EndTag",name:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}finishTag(){let n=this.finish(this.currentTag);if(n.type==="StartTag"){if(this.finishStartTag(),n.name===":")throw ot("Invalid named block named detected, you may have created a named block without a name, or you may have began your name with a number. Named blocks must have names that are at least one character long, and begin with a lower case letter",this.source.spanFor({start:this.currentTag.start.toJSON(),end:this.offset().toJSON()}));(b.has(n.name)||n.selfClosing)&&this.finishEndTag(!0)}else n.type,n.type,this.finishEndTag(!1)}finishStartTag(){let{name:n,nameStart:o,nameEnd:l}=this.currentStartTag,rr=o.until(l),[ar,...or]=n.split("."),ir=Vt.path({head:Vt.head({original:ar,loc:rr.sliceStartChars({chars:ar.length})}),tail:or,loc:rr}),{attributes:cr,modifiers:mr,comments:kr,params:Ar,selfClosing:wr,loc:Er}=this.finish(this.currentStartTag),Ir=Vt.element({path:ir,selfClosing:wr,attributes:cr,modifiers:mr,comments:kr,params:Ar,children:[],openTag:Er,closeTag:wr?null:J.broken(),loc:Er});this.elementStack.push(Ir)}finishEndTag(n){let{start:o}=this.currentTag,l=this.finish(this.currentTag),rr=this.elementStack.pop();this.validateEndTag(l,rr,n);let ar=this.currentElement();n?rr.closeTag=null:rr.selfClosing?rr.closeTag:rr.closeTag=o.until(this.offset()),rr.loc=rr.loc.withEnd(this.offset()),Et(ar,Vt.element(rr))}markTagAsSelfClosing(){let n=this.currentTag;if(n.type!=="StartTag")throw ot("Invalid end tag: closing tag must not be self-closing",this.source.spanFor({start:n.start.toJSON(),end:this.offset().toJSON()}));n.selfClosing=!0}appendToTagName(n){let o=this.currentTag;if(o.name+=n,o.type==="StartTag"){let l=this.offset();o.nameStart===null&&(o.nameEnd,o.nameStart=l.move(-1)),o.nameEnd=l}}beginAttribute(){let n=this.offset();this.currentAttribute={name:"",parts:[],currentPart:null,isQuoted:!1,isDynamic:!1,start:n,valueSpan:n.collapsed()}}appendToAttributeName(n){this.currentAttr.name+=n,this.currentAttr.name==="as"&&this.parsePossibleBlockParams()}beginAttributeValue(n){this.currentAttr.isQuoted=n,this.startTextPart(),this.currentAttr.valueSpan=this.offset().collapsed()}appendToAttributeValue(n){let o=this.currentAttr.parts,l=o[o.length-1],rr=this.currentAttr.currentPart;if(rr)rr.chars+=n,rr.loc=rr.loc.withEnd(this.offset());else{let ar=this.offset();ar=n===`
`?l?l.loc.getEnd():this.currentAttr.valueSpan.getStart():ar.move(-1),this.currentAttr.currentPart=Vt.text({chars:n,loc:ar.collapsed()})}}finishAttributeValue(){this.finalizeTextPart();let n=this.currentTag,o=this.offset();if(n.type==="EndTag")throw ot("Invalid end tag: closing tag must not have attributes",this.source.spanFor({start:n.start.toJSON(),end:o.toJSON()}));let{name:l,parts:rr,start:ar,isQuoted:or,isDynamic:ir,valueSpan:cr}=this.currentAttr;if(l.startsWith("|")&&rr.length===0&&!or&&!ir)throw ot("Invalid block parameters syntax: block parameters must be preceded by the `as` keyword",ar.until(ar.move(l.length)));let mr=this.assembleAttributeValue(rr,or,ir,ar.until(o));mr.loc=cr.withEnd(o);let kr=Vt.attr({name:l,value:mr,loc:ar.until(o)});this.currentStartTag.attributes.push(kr)}parsePossibleBlockParams(){const n=/[!"#%&'()*+./;<=>@[\\\]^`{|}~]/u;this.tokenizer.state;const o=this.currentStartTag,l=this.currentAttr;let rr={state:"PossibleAs"};const ar={PossibleAs:ir=>{if(rr.state,Wt(ir))rr={state:"BeforeStartPipe"},this.tokenizer.transitionTo("afterAttributeName"),this.tokenizer.consume();else{if(ir==="|")throw ot('Invalid block parameters syntax: expecting at least one space character between "as" and "|"',l.start.until(this.offset().move(1)));rr={state:"Done"}}},BeforeStartPipe:ir=>{rr.state,Wt(ir)?this.tokenizer.consume():ir==="|"?(rr={state:"BeforeBlockParamName"},this.tokenizer.transitionTo("beforeAttributeName"),this.tokenizer.consume()):rr={state:"Done"}},BeforeBlockParamName:ir=>{if(rr.state,Wt(ir))this.tokenizer.consume();else if(ir==="")rr={state:"Done"},this.pendingError={mustache(cr){throw ot("Invalid block parameters syntax: mustaches cannot be used inside parameters list",cr)},eof(cr){throw ot('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',l.start.until(cr))}};else if(ir==="|"){if(o.params.length===0)throw ot("Invalid block parameters syntax: empty parameters list, expecting at least one identifier",l.start.until(this.offset().move(1)));rr={state:"AfterEndPipe"},this.tokenizer.consume()}else{if(ir===">"||ir==="/")throw ot('Invalid block parameters syntax: incomplete parameters list, expecting "|" but the tag was closed prematurely',l.start.until(this.offset().move(1)));rr={state:"BlockParamName",name:ir,start:this.offset()},this.tokenizer.consume()}},BlockParamName:ir=>{if(rr.state,ir==="")rr={state:"Done"},this.pendingError={mustache(cr){throw ot("Invalid block parameters syntax: mustaches cannot be used inside parameters list",cr)},eof(cr){throw ot('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',l.start.until(cr))}};else if(ir==="|"||Wt(ir)){let cr=rr.start.until(this.offset());if(rr.name==="this"||n.test(rr.name))throw ot(`Invalid block parameters syntax: invalid identifier name \`${rr.name}\``,cr);o.params.push(Vt.var({name:rr.name,loc:cr})),rr=ir==="|"?{state:"AfterEndPipe"}:{state:"BeforeBlockParamName"},this.tokenizer.consume()}else{if(ir===">"||ir==="/")throw ot('Invalid block parameters syntax: expecting "|" but the tag was closed prematurely',l.start.until(this.offset().move(1)));rr.name+=ir,this.tokenizer.consume()}},AfterEndPipe:ir=>{rr.state,Wt(ir)?this.tokenizer.consume():ir===""?(rr={state:"Done"},this.pendingError={mustache(cr){throw ot("Invalid block parameters syntax: modifiers cannot follow parameters list",cr)},eof(cr){throw ot('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',l.start.until(cr))}}):ir===">"||ir==="/"?rr={state:"Done"}:(rr={state:"Error",message:'Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',start:this.offset()},this.tokenizer.consume())},Error:ir=>{if(rr.state,ir===""||ir==="/"||ir===">"||Wt(ir))throw ot(rr.message,rr.start.until(this.offset()));this.tokenizer.consume()},Done:()=>{}};let or;do or=this.tokenizer.peek(),ar[rr.state](or);while(rr.state!=="Done"&&or!=="");rr.state}reportSyntaxError(n){throw ot(n,this.offset().collapsed())}assembleConcatenatedValue(n){let o=C(n),l=N(n);return Vt.concat({parts:n,loc:this.source.spanFor(o.loc).extend(this.source.spanFor(l.loc))})}validateEndTag(n,o,l){if(b.has(n.name)&&!l)throw ot(`<${n.name}> elements do not need end tags. You should remove it`,n.loc);if(o.type!=="ElementNode")throw ot(`Closing tag </${n.name}> without an open tag`,n.loc);if(o.tag!==n.name)throw ot(`Closing tag </${n.name}> did not match last open tag <${o.tag}> (on line ${o.loc.startPosition.line})`,n.loc)}assembleAttributeValue(n,o,l,rr){if(l){if(o)return this.assembleConcatenatedValue(n);{const[ar,or]=n;if(or===void 0||or.type==="TextNode"&&or.chars==="/")return ar;throw ot("An unquoted attribute value must be a string or a mustache, preceded by whitespace or a '=' character, and followed by whitespace, a '>' character, or '/>'",rr)}}return E(n)?n[0]:Vt.text({chars:"",loc:rr})}constructor(...n){super(...n),this.tagOpenLine=0,this.tagOpenColumn=0}}const Yt={parse:Qt,builders:Mt,print:S,traverse:St,Walker:xt};class qt extends EntityParser{constructor(){super({})}parse(){}}function Qt(tr,n={}){let o,l,rr,ar=n.mode||"precompile";typeof tr=="string"?(o=new et(tr,n.meta?.moduleName),l=ar==="codemod"?parseWithoutProcessing(tr,n.parseOptions):parse(tr,n.parseOptions)):tr instanceof et?(o=tr,l=ar==="codemod"?parseWithoutProcessing(tr.source,n.parseOptions):parse(tr.source,n.parseOptions)):(o=new et("",n.meta?.moduleName),l=tr),ar==="codemod"&&(rr=new qt);let or=J.forCharPositions(o,0,o.source.length);l.loc={source:"(program)",start:or.startPosition,end:or.endPosition};let ir=new Gt(o,rr,ar).parse(l,n.locals??[]);if(n.plugins?.ast)for(const cr of n.plugins.ast)St(ir,cr(x$1({},n,{syntax:Yt},{plugins:void 0})).visitor);return ir}function Xt(tr,n,o,l){const rr=function(ar,or,ir){if(ar.type==="PathExpression"){if(ar.head.type==="AtHead"||ar.head.type==="ThisHead")return;const cr=ar.head.name;if(or.indexOf(cr)===-1)return cr}else if(ar.type==="ElementNode"){const{tag:cr}=ar,mr=cr.charAt(0);if(mr===":"||mr==="@"||!ir.includeHtmlElements&&cr.indexOf(".")===-1&&cr.toLowerCase()===cr||cr.substr(0,5)==="this.")return;if(cr.includes(".")){let[kr]=cr.split(".");if(or.includes(kr))return}return or.includes(cr)?void 0:cr}}(n,o,l);if(rr!==void 0&&rr[0]!=="@"){const ar=rr.split(".")[0];ar&&!o.includes(ar)&&tr.add(ar)}}function Zt(tr,n={includeHtmlElements:!1,includeKeywords:!1}){const o=Qt(tr),l=new Set,rr=[];St(o,{Block:{enter({blockParams:or}){or.forEach(ir=>{rr.push(ir)})},exit({blockParams:or}){or.forEach(()=>{rr.pop()})}},ElementNode:{enter(or){or.blockParams.forEach(ir=>{rr.push(ir)}),Xt(l,or,rr,n)},exit({blockParams:or}){or.forEach(()=>{rr.pop()})}},PathExpression(or){Xt(l,or,rr,n)}});let ar=[];return l.forEach(or=>ar.push(or)),n.includeKeywords||(ar=ar.filter(or=>!x(or))),ar}function te(tr){if(tr!==void 0){const n=tr;return{fields:()=>class{constructor(o){this.type=n,x$1(this,o)}}}}return{fields:()=>class{constructor(n){x$1(this,n)}}}}class ee extends te().fields(){static empty(n){return new ee({loc:n,positional:se.empty(n),named:re.empty(n)})}static named(n){return new ee({loc:n.loc,positional:se.empty(n.loc.collapse("end")),named:n})}nth(n){return this.positional.nth(n)}get(n){return this.named.get(n)}isEmpty(){return this.positional.isEmpty()&&this.named.isEmpty()}}class se extends te().fields(){static empty(n){return new se({loc:n,exprs:[]})}get size(){return this.exprs.length}nth(n){return this.exprs[n]||null}isEmpty(){return this.exprs.length===0}}class re extends te().fields(){static empty(n){return new re({loc:n,entries:[]})}get size(){return this.entries.length}get(n){let o=this.entries.filter(l=>l.name.chars===n)[0];return o?o.value:null}isEmpty(){return this.entries.length===0}}class ne{constructor(n){this.loc=n.name.loc.extend(n.value.loc),this.name=n.name,this.value=n.value}}class ae extends te("HtmlAttr").fields(){}class ie extends te("SplatAttr").fields(){}class oe extends te().fields(){toNamedArgument(){return new ne({name:this.name,value:this.value})}}class le extends te("ElementModifier").fields(){}class ce extends te("GlimmerComment").fields(){}class he extends te("HtmlText").fields(){}class ue extends te("HtmlComment").fields(){}class pe extends te("AppendContent").fields(){get callee(){return this.value.type==="Call"?this.value.callee:this.value}get args(){return this.value.type==="Call"?this.value.args:ee.empty(this.value.loc.collapse("end"))}}class de extends te("InvokeBlock").fields(){}class me extends te("InvokeComponent").fields(){get args(){let n=this.componentArgs.map(o=>o.toNamedArgument());return ee.named(new re({loc:st.range(n,this.callee.loc.collapse("end")),entries:n}))}}class fe extends te("SimpleElement").fields(){get args(){let n=this.componentArgs.map(o=>o.toNamedArgument());return ee.named(new re({loc:st.range(n,this.tag.loc.collapse("end")),entries:n}))}}class ge extends te("Literal").fields(){toSlice(){return new j({loc:this.loc,chars:this.value})}}class be extends te("Path").fields(){}class ke extends te("Keyword").fields(){}class we extends te("Call").fields(){}class ye extends te("Interpolate").fields(){}class ve extends te().fields(){}class Se extends te().fields(){}class xe extends te().fields(){get(n){return this.blocks.filter(o=>o.name.chars===n)[0]||null}}class Pe extends te().fields(){get args(){let n=this.componentArgs.map(o=>o.toNamedArgument());return ee.named(new re({loc:st.range(n,this.name.loc.collapse("end")),entries:n}))}}class Ee extends te("This").fields(){}class Ne extends te("Arg").fields(){}class Ce extends te("Local").fields(){}class Ae extends te("Free").fields(){}const Te="Helper",Le="Modifier",Be="Component",Oe={resolution:()=>t.GetStrictKeyword,serialize:()=>"Strict",isAngleBracket:!1},He={...Oe,isAngleBracket:!0};class Fe{static namespaced(n,o=!1){return new Fe([n],o)}static append(){return new Fe([Be,Te])}static trustingAppend(){return this.namespaced(Te)}constructor(n,o=!1){this.namespaces=n,this.isAngleBracket=o}resolution(){if(this.namespaces.length!==1)return t.GetFreeAsComponentOrHelperHead;switch(this.namespaces[0]){case Te:return t.GetFreeAsHelperHead;case Le:return t.GetFreeAsModifierHead;case Be:return t.GetFreeAsComponentHead}}serialize(){return this.namespaces.length===1?this.namespaces[0]:"ComponentOrHelper"}}const $e=Te,ze=Le,Me=Be;var Ie=Object.freeze({__proto__:null,AppendContent:pe,ArgReference:Ne,Args:ee,Block:Se,COMPONENT_NAMESPACE:Me,CallExpression:we,ComponentArg:oe,ElementModifier:le,FreeVarReference:Ae,GlimmerComment:ce,HELPER_NAMESPACE:$e,HTML_RESOLUTION:He,HtmlAttr:ae,HtmlComment:ue,HtmlText:he,InterpolateExpression:ye,InvokeBlock:de,InvokeComponent:me,KeywordExpression:ke,LiteralExpression:ge,LocalVarReference:Ce,LooseModeResolution:Fe,MODIFIER_NAMESPACE:ze,NamedArgument:ne,NamedArguments:re,NamedBlock:Pe,NamedBlocks:xe,PathExpression:be,PositionalArguments:se,STRICT_RESOLUTION:Oe,SimpleElement:fe,SplatAttr:ie,Template:ve,ThisReference:Ee,isLiteral:function(tr,n){return tr.type==="Literal"&&(n===void 0||(n==="null"?tr.value===null:typeof tr.value===n))},isStrictResolution:function(tr){return tr===Oe},loadResolution:function(tr){return tr==="Strict"?Oe:tr==="ComponentOrHelper"?Fe.append():Fe.namespaced(tr)},node:te});class _e{static top(n,o,l){return new Ve(n,o,l)}child(n){let o=n.map(l=>this.allocate(l));return new Ue(this,n,o)}}class Ve extends _e{constructor(n,o,l){super(),this.templateLocals=n,this.keywords=o,this.options=l,this.symbols=[],this.upvars=[],this.size=1,this.named=h$1(),this.blocks=h$1(),this.usedTemplateLocals=[]}root(){return this}hasLexical(n){return this.options.lexicalScope(n)}hasKeyword(n){return this.keywords.includes(n)}getKeyword(n){return this.allocateFree(n,Oe)}getUsedTemplateLocals(){return this.usedTemplateLocals}has(n){return this.templateLocals.includes(n)}get(n){let o=this.usedTemplateLocals.indexOf(n);return o!==-1||(o=this.usedTemplateLocals.length,this.usedTemplateLocals.push(n)),[o,!0]}getLocalsMap(){return h$1()}getDebugInfo(){return[this.getLocalsMap(),this.named]}allocateFree(n,o){o.resolution()===t.GetFreeAsComponentHead&&o.isAngleBracket&&(n=this.options.customizeComponentName(n));let l=this.upvars.indexOf(n);return l!==-1||(l=this.upvars.length,this.upvars.push(n)),l}allocateNamed(n){let o=this.named[n];return o||(o=this.named[n]=this.allocate(n)),o}allocateBlock(n){n==="inverse"&&(n="else");let o=this.blocks[n];return o||(o=this.blocks[n]=this.allocate(`&${n}`)),o}allocate(n){return this.symbols.push(n),this.size++}}class Ue extends _e{constructor(n,o,l){super(),this.parent=n,this.symbols=o,this.slots=l}root(){return this.parent.root()}get locals(){return this.symbols}hasLexical(n){return this.parent.hasLexical(n)}getKeyword(n){return this.parent.getKeyword(n)}hasKeyword(n){return this.parent.hasKeyword(n)}has(n){return this.symbols.indexOf(n)!==-1||this.parent.has(n)}get(n){let o=this.#e(n);return o?[o,!1]:this.parent.get(n)}#e(n){let o=this.symbols.indexOf(n);return o===-1?null:this.slots[o]}getLocalsMap(){let n=this.parent.getLocalsMap();return this.symbols.forEach(o=>n[o]=this.get(o)[0]),n}getDebugInfo(){const n=this.getLocalsMap(),o=this.root();return[{...n,...o.named},Object.fromEntries(o.upvars.map((l,rr)=>[l,rr]))]}allocateFree(n,o){return this.parent.allocateFree(n,o)}allocateNamed(n){return this.parent.allocateNamed(n)}allocateBlock(n){return this.parent.allocateBlock(n)}allocate(n){return this.parent.allocate(n)}}class De{template(n,o,l){return new ve({table:n,body:o,loc:l})}block(n,o,l){return new Se({scope:n,body:o,loc:l})}namedBlock(n,o,l){return new Pe({name:n,block:o,attrs:[],componentArgs:[],modifiers:[],loc:l})}simpleNamedBlock(n,o,l){return new je({selfClosing:!1,attrs:[],componentArgs:[],modifiers:[],comments:[]}).named(n,o,l)}slice(n,o){return new j({loc:o,chars:n})}args(n,o,l){return new ee({loc:l,positional:n,named:o})}positional(n,o){return new se({loc:o,exprs:n})}namedArgument(n,o){return new ne({name:n,value:o})}named(n,o){return new re({loc:o,entries:n})}attr({name:n,value:o,trusting:l},rr){return new ae({loc:rr,name:n,value:o,trusting:l})}splatAttr(n,o){return new ie({symbol:n,loc:o})}arg({name:n,value:o,trusting:l},rr){return new oe({name:n,value:o,trusting:l,loc:rr})}path(n,o,l){return new be({loc:l,ref:n,tail:o})}keyword(n,o,l){return new ke({loc:l,name:n,symbol:o})}self(n){return new Ee({loc:n})}at(n,o,l){return n[0],new Ne({loc:l,name:new j({loc:l,chars:n}),symbol:o})}freeVar({name:n,context:o,symbol:l,loc:rr}){return n[0],new Ae({name:n,resolution:o,symbol:l,loc:rr})}localVar(n,o,l,rr){return n[0],new Ce({loc:rr,name:n,isTemplateLocal:l,symbol:o})}sexp(n,o){return new we({loc:o,callee:n.callee,args:n.args})}interpolate(n,o){return new ye({loc:o,parts:n})}literal(n,o){return new ge({loc:o,value:n})}append({table:n,trusting:o,value:l},rr){return new pe({table:n,trusting:o,value:l,loc:rr})}modifier({callee:n,args:o},l){return new le({loc:l,callee:n,args:o})}namedBlocks(n,o){return new xe({loc:o,blocks:n})}blockStatement({program:n,inverse:o=null,...l},rr){let ar=n.loc,or=[this.namedBlock(j.synthetic("default"),n,n.loc)];return o&&(ar=ar.extend(o.loc),or.push(this.namedBlock(j.synthetic("else"),o,o.loc))),new de({loc:rr,blocks:this.namedBlocks(or,ar),callee:l.callee,args:l.args})}element(n){return new je(n)}}class je{constructor(n){this.base=n,this.builder=new De}simple(n,o,l){return new fe(x$1({tag:n,body:o,componentArgs:[],loc:l},this.base))}named(n,o,l){return new Pe(x$1({name:n,block:o,componentArgs:[],loc:l},this.base))}selfClosingComponent(n,o){return new me(x$1({loc:o,callee:n,blocks:new xe({blocks:[],loc:o.sliceEndChars({skipEnd:1,chars:1})})},this.base))}componentWithDefaultBlock(n,o,l,rr){let ar=this.builder.block(l,o,rr),or=this.builder.namedBlock(j.synthetic("default"),ar,rr);return new me(x$1({loc:rr,callee:n,blocks:this.builder.namedBlocks([or],or.loc)},this.base))}componentWithNamedBlocks(n,o,l){return new me(x$1({loc:l,callee:n,blocks:this.builder.namedBlocks(o,st.range(o))},this.base))}}function Je(tr){return qe(tr)?Fe.namespaced($e):null}function Ke(tr){return qe(tr)?Fe.namespaced(ze):null}function Re(tr){return qe(tr)?Fe.namespaced(Me):null}function We(tr){return Qe(tr)?Fe.namespaced(Me,!0):null}function Ge(tr){return qe(tr)?Fe.namespaced($e):null}function Ye(tr){let n=qe(tr),o=tr.trusting;return n?o?Fe.trustingAppend():Fe.append():null}function qe(tr){return Qe(tr.path)}function Qe(tr){return tr.type==="PathExpression"&&tr.head.type==="VarHead"&&tr.tail.length===0}function Xe(tr,n={lexicalScope:()=>!1}){let o=Qt(tr,n),l={strictMode:!1,...n,locals:o.blockParams,keywords:n.keywords??[]},rr=_e.top(l.locals,l.keywords,{customizeComponentName:n.customizeComponentName??(cr=>cr),lexicalScope:n.lexicalScope}),ar=new Ze(tr,l,rr),or=new es(ar);return[new ns(ar.loc(o.loc),o.body.map(cr=>or.normalize(cr)),ar).assertTemplate(rr),rr.getUsedTemplateLocals()]}class Ze{constructor(n,o,l){this.source=n,this.options=o,this.table=l,this.builder=new De}get strict(){return this.options.strictMode||!1}loc(n){return this.source.spanFor(n)}resolutionFor(n,o){if(this.strict)return{result:Oe};if(this.isFreeVar(n)){let l=o(n);return l===null?{result:"error",path:cs(n),head:hs(n)}:{result:l}}return{result:Oe}}isLexicalVar(n){return this.table.hasLexical(n)}isKeyword(n){return this.strict&&!this.table.hasLexical(n)&&this.table.hasKeyword(n)}isFreeVar(n){return n.type==="PathExpression"?n.head.type==="VarHead"&&!this.table.has(n.head.name):n.path.type==="PathExpression"&&this.isFreeVar(n.path)}hasBinding(n){return this.table.has(n)||this.table.hasLexical(n)}child(n){return new Ze(this.source,this.options,this.table.child(n))}customizeComponentName(n){return this.options.customizeComponentName?this.options.customizeComponentName(n):n}}class ts{constructor(n){this.block=n}normalize(n,o){switch(n.type){case"NullLiteral":case"BooleanLiteral":case"NumberLiteral":case"StringLiteral":case"UndefinedLiteral":return this.block.builder.literal(n.value,this.block.loc(n.loc));case"PathExpression":return this.path(n,o);case"SubExpression":{os(n.path)&&ls(n.path,n.loc);let l=this.block.resolutionFor(n,Je);if(l.result==="error")throw ot(`You attempted to invoke a path (\`${l.path}\`) but ${l.head} was not in scope`,n.loc);return this.block.builder.sexp(this.callParts(n,l.result),this.block.loc(n.loc))}}}path(n,o){let l=this.block.loc(n.loc);if(n.head.type==="VarHead"&&n.tail.length===0&&this.block.isKeyword(n.head.name))return this.block.builder.keyword(n.head.name,this.block.table.getKeyword(n.head.name),l);let rr=[],ar=this.block.loc(n.head.loc);for(let or of n.tail)ar=ar.sliceStartChars({chars:or.length,skipStart:1}),rr.push(new j({loc:ar,chars:or}));return this.block.builder.path(this.ref(n.head,o),rr,l)}callParts(n,o){let{path:l,params:rr,hash:ar,loc:or}=n,ir=this.normalize(l,o),cr=rr.map(Ir=>this.normalize(Ir,Oe)),mr=st.range(cr,ir.loc.collapse("end")),kr=this.block.loc(ar.loc),Ar=st.range([mr,kr]),wr=this.block.builder.positional(rr.map(Ir=>this.normalize(Ir,Oe)),mr),Er=this.block.builder.named(ar.pairs.map(Ir=>this.namedArgument(Ir)),this.block.loc(ar.loc));switch(ir.type){case"Literal":throw ot(`Invalid invocation of a literal value (\`${ir.value}\`)`,or);case"Interpolate":throw ot("Invalid invocation of a interpolated string",or)}return{callee:ir,args:this.block.builder.args(wr,Er,Ar)}}namedArgument(n){let o=this.block.loc(n.loc).sliceStartChars({chars:n.key.length});return this.block.builder.namedArgument(new j({chars:n.key,loc:o}),this.normalize(n.value,Oe))}ref(n,o){let{block:l}=this,{builder:rr,table:ar}=l,or=l.loc(n.loc);switch(n.type){case"ThisHead":if(l.hasBinding("this")){let[ir,cr]=ar.get("this");return l.builder.localVar("this",ir,cr,or)}return rr.self(or);case"AtHead":{let ir=ar.allocateNamed(n.name);return rr.at(n.name,ir,or)}case"VarHead":if(l.hasBinding(n.name)){let[ir,cr]=ar.get(n.name);return l.builder.localVar(n.name,ir,cr,or)}{let ir=l.strict?Oe:o,cr=l.table.allocateFree(n.name,ir);return l.builder.freeVar({name:n.name,context:ir,symbol:cr,loc:or})}}}}class es{constructor(n){this.block=n}normalize(n){switch(n.type){case"BlockStatement":return this.BlockStatement(n);case"ElementNode":return new ss(this.block).ElementNode(n);case"MustacheStatement":return this.MustacheStatement(n);case"MustacheCommentStatement":return this.MustacheCommentStatement(n);case"CommentStatement":{let o=this.block.loc(n.loc);return new ue({loc:o,text:o.slice({skipStart:4,skipEnd:3}).toSlice(n.value)})}case"TextNode":return new he({loc:this.block.loc(n.loc),chars:n.chars})}}MustacheCommentStatement(n){let o=this.block.loc(n.loc);if(n.value==="")return new ce({loc:o,text:j.synthetic("")});let l=o.asString(),rr=o;if(n.value.startsWith("-"))rr=rr.sliceStartChars({skipStart:l.startsWith("{{~")?6:5,chars:n.value.length});else if(n.value.endsWith("-")){const ar=l.endsWith("~}}")?5:4,or=l.length-n.value.length-ar;rr=rr.slice({skipStart:or,skipEnd:ar})}else rr=rr.sliceStartChars({skipStart:l.lastIndexOf(n.value),chars:n.value.length});return new ce({loc:o,text:rr.toSlice(n.value)})}MustacheStatement(n){let o,{path:l,params:rr,hash:ar,trusting:or}=n,ir=this.block.loc(n.loc);if(os(l))rr.length===0&&ar.pairs.length===0?o=this.expr.normalize(l):ls(l,ir);else{let cr=this.block.resolutionFor(n,Ye);if(cr.result==="error")throw ot(`You attempted to render a path (\`{{${cr.path}}}\`), but ${cr.head} was not in scope`,ir);let mr=this.expr.callParts({path:l,params:rr,hash:ar,loc:ir},cr.result);o=mr.args.isEmpty()?mr.callee:this.block.builder.sexp(mr,ir)}return this.block.builder.append({table:this.block.table,trusting:or,value:o},ir)}BlockStatement(n){let{program:o,inverse:l}=n,rr=this.block.loc(n.loc);os(n.path)&&ls(n.path,rr);let ar=this.block.resolutionFor(n,Re);if(ar.result==="error")throw ot(`You attempted to invoke a path (\`{{#${ar.path}}}\`) but ${ar.head} was not in scope`,rr);let or=this.expr.callParts(n,ar.result);return this.block.builder.blockStatement(x$1({symbols:this.block.table,program:this.Block(o),inverse:l?this.Block(l):null},or),rr)}Block({body:n,loc:o,blockParams:l}){let rr=this.block.child(l),ar=new es(rr);return new as(this.block.loc(o),n.map(or=>ar.normalize(or)),this.block).assertBlock(rr.table)}get expr(){return new ts(this.block)}}class ss{constructor(n){this.ctx=n}ElementNode(n){let{tag:o,selfClosing:l,comments:rr}=n,ar=this.ctx.loc(n.loc),[or,...ir]=o.split("."),cr=this.classifyTag(or,ir,n.loc),mr=n.attributes.filter(rn=>rn.name[0]!=="@").map(rn=>this.attr(rn)),kr=n.attributes.filter(rn=>rn.name[0]==="@").map(rn=>this.arg(rn)),Ar=n.modifiers.map(rn=>this.modifier(rn)),wr=this.ctx.child(n.blockParams),Er=new es(wr),Ir=n.children.map(rn=>Er.normalize(rn)),qr=this.ctx.builder.element({selfClosing:l,attrs:mr,componentArgs:kr,modifiers:Ar,comments:rr.map(rn=>new es(this.ctx).MustacheCommentStatement(rn))}),Rr=new is(qr,ar,Ir,this.ctx),kn=this.ctx.loc(n.loc).sliceStartChars({chars:o.length,skipStart:1});if(cr==="ElementHead")return o[0]===":"?Rr.assertNamedBlock(kn.slice({skipStart:1}).toSlice(o.slice(1)),wr.table):Rr.assertElement(kn.toSlice(o),n.blockParams.length>0);if(n.selfClosing)return qr.selfClosingComponent(cr,ar);{let rn=Rr.assertComponent(o,wr.table,n.blockParams.length>0);return qr.componentWithNamedBlocks(cr,rn,ar)}}modifier(n){os(n.path)&&ls(n.path,n.loc);let o=this.ctx.resolutionFor(n,Ke);if(o.result==="error")throw ot(`You attempted to invoke a path (\`{{${o.path}}}\`) as a modifier, but ${o.head} was not in scope`,n.loc);let l=this.expr.callParts(n,o.result);return this.ctx.builder.modifier(l,this.ctx.loc(n.loc))}mustacheAttr(n){let{path:o,params:l,hash:rr,loc:ar}=n;if(os(o)){if(l.length===0&&rr.pairs.length===0)return this.expr.normalize(o);ls(o,ar)}let or=this.ctx.resolutionFor(n,Ge);if(or.result==="error")throw ot(`You attempted to render a path (\`{{${or.path}}}\`), but ${or.head} was not in scope`,n.loc);let ir=this.ctx.builder.sexp(this.expr.callParts(n,or.result),this.ctx.loc(n.loc));return ir.args.isEmpty()?ir.callee:ir}attrPart(n){switch(n.type){case"MustacheStatement":return{expr:this.mustacheAttr(n),trusting:n.trusting};case"TextNode":return{expr:this.ctx.builder.literal(n.chars,this.ctx.loc(n.loc)),trusting:!0}}}attrValue(n){if(n.type==="ConcatStatement"){let o=n.parts.map(l=>this.attrPart(l).expr);return{expr:this.ctx.builder.interpolate(o,this.ctx.loc(n.loc)),trusting:!1}}return this.attrPart(n)}attr(n){if(n.name[0],n.name==="...attributes")return this.ctx.builder.splatAttr(this.ctx.table.allocateBlock("attrs"),this.ctx.loc(n.loc));let o=this.ctx.loc(n.loc),l=o.sliceStartChars({chars:n.name.length}).toSlice(n.name),rr=this.attrValue(n.value);return this.ctx.builder.attr({name:l,value:rr.expr,trusting:rr.trusting},o)}checkArgCall(n){let{value:o}=n;if(o.type!=="MustacheStatement"||o.params.length!==0||o.hash.pairs.length!==0)return;let{path:l}=o;if(l.type!=="PathExpression"||l.tail.length>0)return;let rr=this.ctx.resolutionFor(l,()=>null);if(rr.result==="error"&&rr.path!=="has-block")throw ot(`You attempted to pass a path as argument (\`${n.name}={{${rr.path}}}\`) but ${rr.head} was not in scope. Try:
* \`${n.name}={{this.${rr.path}}}\` if this is meant to be a property lookup, or
* \`${n.name}={{(${rr.path})}}\` if this is meant to invoke the resolved helper, or
* \`${n.name}={{helper "${rr.path}"}}\` if this is meant to pass the resolved helper by value`,n.loc)}arg(n){n.name[0],this.checkArgCall(n);let o=this.ctx.loc(n.loc),l=o.sliceStartChars({chars:n.name.length}).toSlice(n.name),rr=this.attrValue(n.value);return this.ctx.builder.arg({name:l,value:rr.expr,trusting:rr.trusting},o)}classifyTag(n,o,l){let rr=(ar=n)[0]===ar[0]?.toUpperCase()&&ar[0]!==ar[0]?.toLowerCase();var ar;let or=n[0]==="@"||n==="this"||this.ctx.hasBinding(n);if(this.ctx.strict&&!or){if(rr)throw ot(`Attempted to invoke a component that was not in scope in a strict mode template, \`<${n}>\`. If you wanted to create an element with that name, convert it to lowercase - \`<${n.toLowerCase()}>\``,l);return"ElementHead"}let ir=or||rr,cr=l.sliceStartChars({skipStart:1,chars:n.length}),mr=o.reduce((wr,Er)=>wr+1+Er.length,0),kr=cr.getEnd().move(mr),Ar=cr.withEnd(kr);if(ir){let wr=Vt.path({head:Vt.head({original:n,loc:cr}),tail:o,loc:Ar}),Er=this.ctx.isLexicalVar(n)?{result:Oe}:this.ctx.resolutionFor(wr,We);if(Er.result==="error")throw ot(`You attempted to invoke a path (\`<${Er.path}>\`) but ${Er.head} was not in scope`,l);return new ts(this.ctx).normalize(wr,Er.result)}if(this.ctx.table.allocateFree(n,Oe),o.length>0)throw ot(`You used ${n}.${o.join(".")} as a tag name, but ${n} is not in scope`,l);return"ElementHead"}get expr(){return new ts(this.ctx)}}class rs{constructor(n,o,l){this.loc=n,this.children=o,this.block=l,this.namedBlocks=o.filter(rr=>rr instanceof Pe),this.hasSemanticContent=!!o.filter(rr=>{if(rr instanceof Pe)return!1;switch(rr.type){case"GlimmerComment":case"HtmlComment":return!1;case"HtmlText":return!/^\s*$/u.test(rr.chars);default:return!0}}).length,this.nonBlockChildren=o.filter(rr=>!(rr instanceof Pe))}}class ns extends rs{assertTemplate(n){if(E(this.namedBlocks))throw ot("Unexpected named block at the top-level of a template",this.loc);return this.block.builder.template(n,this.nonBlockChildren,this.block.loc(this.loc))}}class as extends rs{assertBlock(n){if(E(this.namedBlocks))throw ot("Unexpected named block nested in a normal block",this.loc);return this.block.builder.block(n,this.nonBlockChildren,this.loc)}}class is extends rs{constructor(n,o,l,rr){super(o,l,rr),this.el=n}assertNamedBlock(n,o){if(this.el.base.selfClosing)throw ot(`<:${n.chars}/> is not a valid named block: named blocks cannot be self-closing`,this.loc);if(E(this.namedBlocks))throw ot(`Unexpected named block inside <:${n.chars}> named block: named blocks cannot contain nested named blocks`,this.loc);if((l=n.chars)[0]!==l[0]?.toLowerCase()||l[0]===l[0]?.toUpperCase())throw ot(`<:${n.chars}> is not a valid named block, and named blocks must begin with a lowercase letter`,this.loc);var l;if(this.el.base.attrs.length>0||this.el.base.componentArgs.length>0||this.el.base.modifiers.length>0)throw ot(`named block <:${n.chars}> cannot have attributes, arguments, or modifiers`,this.loc);let rr=st.range(this.nonBlockChildren,this.loc);return this.block.builder.namedBlock(n,this.block.builder.block(o,this.nonBlockChildren,rr),this.loc)}assertElement(n,o){if(o)throw ot(`Unexpected block params in <${n.chars}>: simple elements cannot have block params`,this.loc);if(E(this.namedBlocks)){let l=this.namedBlocks.map(rr=>rr.name);if(l.length===1)throw ot(`Unexpected named block <:foo> inside <${n.chars}> HTML element`,this.loc);{let rr=l.map(ar=>`<:${ar.chars}>`).join(", ");throw ot(`Unexpected named blocks inside <${n.chars}> HTML element (${rr})`,this.loc)}}return this.el.simple(n,this.nonBlockChildren,this.loc)}assertComponent(n,o,l){if(E(this.namedBlocks)&&this.hasSemanticContent)throw ot(`Unexpected content inside <${n}> component invocation: when using named blocks, the tag cannot contain other content`,this.loc);if(E(this.namedBlocks)){if(l)throw ot(`Unexpected block params list on <${n}> component invocation: when passing named blocks, the invocation tag cannot take block params`,this.loc);let rr=new Set;for(let ar of this.namedBlocks){let or=ar.name.chars;if(rr.has(or))throw ot(`Component had two named blocks with the same name, \`<:${or}>\`. Only one block with a given name may be passed`,this.loc);if(or==="inverse"&&rr.has("else")||or==="else"&&rr.has("inverse"))throw ot("Component has both <:else> and <:inverse> block. <:inverse> is an alias for <:else>",this.loc);rr.add(or)}return this.namedBlocks}return[this.block.builder.namedBlock(j.synthetic("default"),this.block.builder.block(o,this.nonBlockChildren,this.loc),this.loc)]}}function os(tr){switch(tr.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return!0;default:return!1}}function ls(tr,n){throw ot(`Unexpected literal \`${tr.type==="StringLiteral"?JSON.stringify(tr.value):String(tr.value)}\``,n)}function cs(tr){return tr.type!=="PathExpression"&&tr.path.type==="PathExpression"?cs(tr.path):new v({entityEncoding:"raw"}).print(tr)}function hs(tr){return tr.type==="PathExpression"?tr.head.original:tr.path.type==="PathExpression"?hs(tr.path):new v({entityEncoding:"raw"}).print(tr)}const prod=Object.freeze(Object.defineProperty({__proto__:null,ASTv2:Ie,BlockSymbolTable:Ue,KEYWORDS_TYPES:P,Path:xt,ProgramSymbolTable:Ve,SourceSlice:j,SpanList:st,SymbolTable:_e,Walker:xt,WalkerPath:dt,builders:Mt,cannotRemoveNode:ht,cannotReplaceNode:ut,generateSyntaxError:ot,getTemplateLocals:Zt,getVoidTags:k,hasSpan:nt,isKeyword:x,isVoidTag:y,loc:rt,maybeLoc:at,node:te,normalize:Xe,preprocess:Qt,print:S,sortByLoc:g,src:it,traverse:St,visitorKeys:lt},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(prod);var publicTypes={};Object.defineProperty(publicTypes,"__esModule",{value:!0});(function(tr){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Sr,Pr,br,xr){xr===void 0&&(xr=br);var yr=Object.getOwnPropertyDescriptor(Pr,br);(!yr||("get"in yr?!Pr.__esModule:yr.writable||yr.configurable))&&(yr={enumerable:!0,get:function(){return Pr[br]}}),Object.defineProperty(Sr,xr,yr)}:function(Sr,Pr,br,xr){xr===void 0&&(xr=br),Sr[xr]=Pr[br]}),o=commonjsGlobal&&commonjsGlobal.__exportStar||function(Sr,Pr){for(var br in Sr)br!=="default"&&!Object.prototype.hasOwnProperty.call(Pr,br)&&n(Pr,Sr,br)};Object.defineProperty(tr,"__esModule",{value:!0}),tr.makePlugin=kr;const l=src,rr=expressionParser,ar=jsUtils,or=scopeLocals,ir=require$$4;o(publicTypes,tr);const cr=[{moduleName:"ember-cli-htmlbars",export:"hbs",allowTemplateLiteral:!0},{moduleName:"ember-cli-htmlbars-inline-precompile",export:"default",allowTemplateLiteral:!0},{moduleName:"htmlbars-inline-precompile",export:"default",allowTemplateLiteral:!0},{moduleName:"@ember/template-compilation",export:"precompileTemplate",enableScope:!0},{moduleName:"@ember/template-compiler",export:"template",enableScope:!0,rfc931Support:"polyfilled"}];function mr(Sr){var Pr;if(((Pr=Sr.targetFormat)!==null&&Pr!==void 0?Pr:"wire")==="wire"){let{compiler:br}=Sr;if(!br)throw new Error('when targetFormat==="wire" you must set the compiler or compilerPath option');return Object.assign(Object.assign({outputModuleOverrides:{},enableLegacyModules:[],transforms:[]},Sr),{targetFormat:"wire",compiler:br})}else return Object.assign(Object.assign({outputModuleOverrides:{},enableLegacyModules:[],transforms:[]},Sr),{targetFormat:"hbs"})}function kr(Sr){return function(br){br.types;const xr={visitor:{Program:{enter(yr,Nr){Nr.normalizedOpts=mr(Sr(Nr.opts)),Nr.templateFactory=mi(Nr.normalizedOpts),Nr.util=new l.ImportUtil(br,yr),Nr.program=yr,Nr.recursionGuard=new Set},exit(yr,Nr){if(Nr.normalizedOpts.targetFormat==="wire")for(let{moduleName:Mr,export:Ur}of Ar(Nr))Nr.util.removeImport(Mr,Ur)}},TaggedTemplateExpression(yr,Nr){let Mr=yr.get("tag");if(!Mr.isIdentifier())return;let Ur=wr(Mr,Nr);if(!Ur)return;if(!Ur.allowTemplateLiteral)throw yr.buildCodeFrameError(`Attempted to use \`${Mr.node.name}\` as a template tag, but it can only be called as a function with a string passed to it: ${Mr.node.name}('content here')`);if(yr.node.quasi.expressions.length)throw yr.buildCodeFrameError("placeholders inside a tagged template string are not supported");let Zr=yr.node.quasi.quasis.map(hn=>hn.value.cooked).join("");Nr.normalizedOpts.targetFormat==="wire"?kn(br,Nr,Nr.normalizedOpts,Zr,yr,{},Ur,void 0):rn(br,Nr,Zr,yr,{},Ur,void 0)},CallExpression(yr,Nr){let Mr=yr.get("callee");if(!Mr.isIdentifier())return;let Ur=wr(Mr,Nr);if(!Ur||Nr.recursionGuard.has(yr.node))return;if(yr.get("arguments").length>2)throw yr.buildCodeFrameError(`${Mr.node.name} can only be invoked with 2 arguments: the template string and any static options`);let[Zr,hn]=yr.get("arguments"),bn;switch(Zr?.node.type){case"StringLiteral":bn=Zr.node.value;break;case"TemplateLiteral":if(Zr.node.expressions.length)throw yr.buildCodeFrameError("placeholders inside a template string are not supported");bn=Zr.node.quasis.map(Rn=>Rn.value.cooked).join("");break;case"TaggedTemplateExpression":throw yr.buildCodeFrameError(`tagged template strings inside ${Mr.node.name} are not supported`);default:throw yr.buildCodeFrameError(`${Mr.node.name} should be invoked with at least a single argument (the template string)`)}let on,Yn;if(!hn)on={};else{if(!hn.isObjectExpression())throw yr.buildCodeFrameError(`${Mr.node.name} can only be invoked with 2 arguments: the template string, and any static options`);on=new rr.ExpressionParser(br).parseObjectExpression(Mr.node.name,hn,Ur.enableScope,!!Ur.rfc931Support),Ur.rfc931Support&&on.component&&(Yn=on.component)}Nr.normalizedOpts.targetFormat==="wire"?kn(br,Nr,Nr.normalizedOpts,bn,yr,on,Ur,Yn):rn(br,Nr,bn,yr,on,Ur,Yn)}}};return{pre(yr){br.traverse(yr.ast,xr.visitor,yr.scope,this)},visitor:{}}}}function*Ar(Sr){for(let Pr of cr)Pr.moduleName!=="@ember/template-compilation"&&Pr.moduleName!=="@ember/template-compiler"&&!Sr.normalizedOpts.enableLegacyModules.includes(Pr.moduleName)||(yield Pr)}function wr(Sr,Pr){for(let br of Ar(Pr))if(Sr.referencesImport(br.moduleName,br.export))return br}function Er(Sr,Pr){return Sr.template(`(function() {
  throw new Error('ERROR_MESSAGE');
})();`)(Pr).expression}function Ir(Sr,Pr,br,xr){return Pr.rfc931Support&&Sr.eval?new or.ScopeLocals({mode:"implicit",jsPath:br,mayUseLexicalThis:xr}):Sr.scope?Sr.scope:new or.ScopeLocals({mode:"explicit"})}function qr(Sr,Pr,br,xr,yr,Nr,Mr){let Ur=new ar.JSUtils(Sr,br,Pr,Mr.add.bind(Mr),br.util),Zr=Object.assign({jsutils:Ur},yr?.meta),hn={contents:xr,meta:Zr,moduleName:br.filename,filename:br.filename,plugins:{ast:[...br.normalizedOpts.transforms,Mr.crawl()]}};for(let[bn,on]of Object.entries(yr))bn!=="scope"&&(hn[bn]=on);return hn.locals=Mr.locals,Nr.rfc931Support&&(hn.strictMode=!0),hn}function Rr(Sr,Pr,br){Sr.traverse({Identifier(xr){var yr;br.has(xr.node.name)&&xr.node.name!==br.get(xr.node.name)&&xr.replaceWith(Pr.types.identifier(br.get(xr.node.name))),(yr=xr.scope.getBinding(xr.node.name))===null||yr===void 0||yr.reference(xr)}})}function kn(Sr,Pr,br,xr,yr,Nr,Mr,Ur){let Zr=Sr.types,hn=Ir(Nr,Mr,yr,!Ur),bn=qr(Sr,yr,Pr,xr,Nr,Mr,hn),on;if(bn.insertRuntimeErrors&&!Mr.rfc931Support)try{on=br.compiler.precompile(xr,bn)}catch(Rn){yr.replaceWith(Er(Sr,{ERROR_MESSAGE:Rn.message}));return}else on=br.compiler.precompile(xr,bn);let Yn=Sr.template.expression.ast(on);Zr.addComment(Yn,"leading",`
  ${xr.replace(/\*\//g,"*\\/")}
`,!1),Pr.util.replaceWith(yr,Rn=>{var Ls;let _a=Rn.import(Pr.templateFactory.moduleName,Pr.templateFactory.exportName),ys=Zr.callExpression(_a,[Yn]);return Mr.rfc931Support&&(ys=Zr.callExpression(Rn.import("@ember/component","setComponentTemplate"),[ys,(Ls=Ur?.node)!==null&&Ls!==void 0?Ls:Zr.callExpression(Rn.import("@ember/component/template-only","default","templateOnly"),[])])),ys}),Rr(yr,Sr,hn)}function rn(Sr,Pr,br,xr,yr,Nr,Mr){let Ur=Sr.types,Zr=Ir(yr,Nr,xr,!Mr),hn=qr(Sr,xr,Pr,br,yr,Nr,Zr),bn=(0,ir.preprocess)(br,Object.assign(Object.assign({},hn),{mode:"codemod"})),on=(0,ir.print)(bn,{entityEncoding:"raw"});xr.isCallExpression()?pi(xr,on,Nr,Zr,Pr,Sr,Mr):ea(Zr,Pr,xr,Ur,on,Sr)}function ea(Sr,Pr,br,xr,yr,Nr){if(Sr.isEmpty()){br.get("quasi").get("quasis.0").replaceWith(xr.templateElement({raw:yr}));return}In(Pr.util,br.get("tag"));let Mr=Pr.util.replaceWith(br,Ur=>xr.callExpression(ra(Ur),[xr.stringLiteral(yr)]));Pa(Nr,Mr,Sr)}function pi(Sr,Pr,br,xr,yr,Nr,Mr){Sr.get("arguments.0").replaceWith(Nr.types.stringLiteral(Pr)),!br.enableScope&&!xr.isEmpty()&&(In(yr.util,Sr.get("callee")),yr.util.replaceWith(Sr.get("callee"),Ur=>ra(Ur))),br.rfc931Support==="polyfilled"&&(In(yr.util,Sr.get("callee")),yr.util.replaceWith(Sr.get("callee"),Ur=>ra(Ur)),ta(Nr,Sr),di(Sr),Sr.node.arguments=Sr.node.arguments.slice(0,2),yr.recursionGuard.add(Sr.node),yr.util.replaceWith(Sr,Ur=>{var Zr;return Nr.types.callExpression(Ur.import("@ember/component","setComponentTemplate"),[Sr.node,(Zr=Mr?.node)!==null&&Zr!==void 0?Zr:Nr.types.callExpression(Ur.import("@ember/component/template-only","default","templateOnly"),[])])}),Sr=Sr.get("arguments.0")),Pa(Nr,Sr,xr)}function mi(Sr){var Pr;let br="@ember/template-factory",xr="createTemplateFactory",yr=(Pr=Sr.outputModuleOverrides[br])===null||Pr===void 0?void 0:Pr[xr];return yr?{exportName:yr[0],moduleName:yr[1]}:{exportName:xr,moduleName:br}}function an(Sr,Pr){let br=Sr.types;return br.arrowFunctionExpression([],br.objectExpression(Pr.entries().map(([xr,yr])=>br.objectProperty(br.identifier(xr),br.identifier(yr),!1,xr!=="this"))))}function Pa(Sr,Pr,br){let xr=Sr.types,yr=Pr.get("arguments.1");if(yr){let Nr=yr.get("properties").find(Mr=>{let Ur=Mr.get("key");return Ur.isIdentifier()&&Ur.node.name==="scope"});Nr?br.isEmpty()?Nr.remove():(Nr.set("value",an(Sr,br)),Nr.scope.crawl()):br.isEmpty()||(yr.pushContainer("properties",xr.objectProperty(xr.identifier("scope"),an(Sr,br))),yr.get(`properties.${yr.node.properties.length-1}`).scope.crawl())}else br.isEmpty()||(Pr.pushContainer("arguments",xr.objectExpression([xr.objectProperty(xr.identifier("scope"),an(Sr,br))])),Pr.get("arguments.1").scope.crawl())}function di(Sr){let Pr=Sr.get("arguments.1");if(Pr){let br=Pr.get("properties").find(yr=>{let Nr=yr.get("key");return Nr.isIdentifier()&&Nr.node.name==="eval"});br&&br.remove();let xr=Pr.get("properties").find(yr=>{let Nr=yr.get("key");return Nr.isIdentifier()&&Nr.node.name==="component"});xr&&xr.remove()}}function ta(Sr,Pr){let br=Sr.types,xr=Pr.get("arguments.1");if(xr){let yr=xr.get("properties").find(Nr=>{let Mr=Nr.get("key");return Mr.isIdentifier()&&Mr.node.name==="strict"});yr?yr.set("key",br.identifier("strictMode")):xr.pushContainer("properties",br.objectProperty(br.identifier("strictMode"),br.booleanLiteral(!0)))}else Pr.pushContainer("arguments",br.objectExpression([br.objectProperty(br.identifier("strictMode"),br.booleanLiteral(!0))]))}function In(Sr,Pr){if(!Pr.isIdentifier())return;let br=Pr.scope.getBinding(Pr.node.name);if(!br)return;let xr=br.referencePaths.find(yr=>yr.node===Pr.node);if(xr&&(br.referencePaths.splice(br.referencePaths.indexOf(xr),1),br.references--,br.references===0)){let yr=br.path;if(yr.isImportSpecifier()){let Nr=yr.parentPath;Sr.removeImport(Nr.node.source.value,Kn(yr.node.imported))}}}function ra(Sr){return Sr.import("@ember/template-compilation","precompileTemplate")}function Kn(Sr){return Sr.type==="StringLiteral"?Sr.value:Sr.name}tr.default=kr(Sr=>Sr)})(plugin);const babelPluginEmberTemplateCompilation=getDefaultExportFromCjs(plugin),modules={"@ember/application":_application,"@ember/array":_array,"@ember/component":_EmberComponent,"@ember/component/helper":_EmberComponentHelper,"@ember/component/template-only":templateOnly,"@ember/debug":_debug,"@ember/destroyable":_destroyable,"@ember/helper":_helpers,"@ember/modifier":_modifier,"@ember/object":_object,"@ember/runloop":_runloop,"@ember/service":_service,"@ember/template-factory":{createTemplateFactory:templateFactory},"@ember/utils":_utils,"@ember/template":_template,"@ember/owner":_owner,"@glimmer/component":GlimmerComponent,"@glimmer/tracking":_tracking};function evalSnippet(compiled,extraModules={}){const exports={};function require(tr){return modules[tr]||extraModules[tr]||window.require(tr)}return eval(compiled),Object.assign(exports,{require})}function commonjsRequire(tr){throw new Error('Could not dynamically require "'+tr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var emberTemplateCompiler$1={exports:{}};/*!
 * @overview  Ember - JavaScript Application Framework
 * @copyright Copyright 2011 Tilde Inc. and contributors
 *            Portions Copyright 2006-2011 Strobe Inc.
 *            Portions Copyright 2008-2011 Apple Inc. All rights reserved.
 * @license   Licensed under MIT license
 *            See https://raw.github.com/emberjs/ember.js/master/LICENSE
 * @version   5.12.0
 */(function(tr){var n,o;(function(){var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:null;if(l===null)throw new Error("unable to locate global object");if(typeof l.define=="function"&&typeof l.require=="function"){n=l.define,o=l.require;return}var rr=Object.create(null),ar=Object.create(null);function or(cr,mr){throw new Error("Could not find module "+cr)}function ir(cr,mr){var kr=cr,Ar=rr[kr];Ar||(kr=kr+"/index",Ar=rr[kr]);var wr=ar[kr];if(wr!==void 0)return wr;wr=ar[kr]={},Ar||or(cr);for(var Er=Ar.deps,Ir=Ar.callback,qr=new Array(Er.length),Rr=0;Rr<Er.length;Rr++)Er[Rr]==="exports"?qr[Rr]=wr:Er[Rr]==="require"?qr[Rr]=o:qr[Rr]=o(Er[Rr],kr);var kn=Ir.apply(this,qr);return(!Er.includes("exports")||kn!==void 0)&&(wr=ar[kr]=kn),wr}o=function(cr){return ir(cr)},n=function(cr,mr,kr){rr[cr]={deps:mr,callback:kr}},o.default=o,o.has=function(mr){return!!rr[mr]||!!rr[mr+"/index"]},o._eak_seen=o.entries=rr})(),function(l,rr,ar,or){function ir(r,e){Object.defineProperty(e,"__esModule",{value:!0}),n(r,[],()=>e)}const cr=typeof self=="object"&&self!==null&&self.Object===Object&&typeof Window<"u"&&self.constructor===Window&&typeof document=="object"&&document!==null&&self.document===document&&typeof location=="object"&&location!==null&&self.location===location&&typeof history=="object"&&history!==null&&self.history===history&&typeof navigator=="object"&&navigator!==null&&self.navigator===navigator&&typeof navigator.userAgent=="string",mr=cr?self:null,kr=cr?self.location:null,Ar=cr?self.history:null,wr=cr?self.navigator.userAgent:"Lynx (textmode)",Er=cr?typeof chrome=="object"&&typeof opera!="object":!1,Ir=cr?/Firefox|FxiOS/.test(wr):!1,qr=Object.defineProperty({__proto__:null,hasDOM:cr,history:Ar,isChrome:Er,isFirefox:Ir,location:kr,userAgent:wr,window:mr},Symbol.toStringTag,{value:"Module"});function Rr(r){return r&&r.Object===Object?r:void 0}function kn(r){return r&&r.nodeType===void 0?r:void 0}const rn=Rr(kn(typeof commonjsGlobal=="object"&&commonjsGlobal))||Rr(typeof self=="object"&&self)||Rr(typeof window=="object"&&window)||typeof mainContext<"u"&&mainContext||new Function("return this")(),ea=function(r,e){return e===void 0?{imports:r,exports:r,lookup:r}:{imports:e.imports||r,exports:e.exports||r,lookup:e.lookup||r}}(rn,rn.Ember);function pi(){return ea.lookup}function mi(r){ea.lookup=r}const an={ENABLE_OPTIONAL_FEATURES:!1,EXTEND_PROTOTYPES:{Array:!0},LOG_STACKTRACE_ON_DEPRECATION:!0,LOG_VERSION:!0,RAISE_ON_DEPRECATION:!1,STRUCTURED_PROFILE:!1,_DEBUG_RENDER_TREE:!0,_ALL_DEPRECATIONS_ENABLED:!1,_OVERRIDE_DEPRECATION_VERSION:null,_DEFAULT_ASYNC_OBSERVERS:!1,_NO_IMPLICIT_ROUTE_MODEL:!1,_RERENDER_LOOP_LIMIT:1e3,EMBER_LOAD_HOOKS:{},FEATURES:{}};(r=>{if(typeof r!="object"||r===null)return;for(let i in r){if(!Object.prototype.hasOwnProperty.call(r,i)||i==="EXTEND_PROTOTYPES"||i==="EMBER_LOAD_HOOKS")continue;let er=an[i];er===!0?an[i]=r[i]!==!1:er===!1?an[i]=r[i]===!0:an[i]=r[i]}let{EXTEND_PROTOTYPES:e}=r;e!==void 0&&(typeof e=="object"&&e!==null?an.EXTEND_PROTOTYPES.Array=e.Array!==!1:an.EXTEND_PROTOTYPES.Array=e!==!1);let{EMBER_LOAD_HOOKS:s}=r;if(typeof s=="object"&&s!==null)for(let i in s){if(!Object.prototype.hasOwnProperty.call(s,i))continue;let er=s[i];Array.isArray(er)&&(an.EMBER_LOAD_HOOKS[i]=er.filter(nr=>typeof nr=="function"))}let{FEATURES:a}=r;if(typeof a=="object"&&a!==null)for(let i in a)Object.prototype.hasOwnProperty.call(a,i)&&(an.FEATURES[i]=a[i]===!0);an._DEBUG_RENDER_TREE=!0})(rn.EmberENV);function Pa(){return an}const di=Object.defineProperty({__proto__:null,ENV:an,context:ea,getENV:Pa,getLookup:pi,global:rn,setLookup:mi},Symbol.toStringTag,{value:"Module"});function ta(r){let e=Object.create(null);e[r]=1;for(let s in e)if(s===r)return s;return r}function In(r){return r!==null&&(typeof r=="object"||typeof r=="function")}let ra=0;function Kn(){return++ra}const Sr="ember",Pr=new WeakMap,br=new Map,xr=ta(`__ember${Date.now()}`);function yr(r,e=Sr){let s=e+Kn().toString();return In(r)&&Pr.set(r,s),s}function Nr(r){let e;if(In(r))e=Pr.get(r),e===void 0&&(e=`${Sr}${Kn()}`,Pr.set(r,e));else if(e=br.get(r),e===void 0){let s=typeof r;s==="string"?e=`st${Kn()}`:s==="number"?e=`nu${Kn()}`:s==="symbol"?e=`sy${Kn()}`:e=`(${r})`,br.set(r,e)}return e}const Mr=[];function Ur(r){return Mr.indexOf(r)!==-1}function Zr(r){let e=xr+Math.floor(Math.random()*Date.now()).toString(),s=ta(`__${r}${e}__`);return Mr.push(s),s}const hn=Symbol;function bn(r){let e=Object.create(r);return e._dict=null,delete e._dict,e}let on;{let r=a=>{let i=a.name;if(i===void 0){let er=Function.prototype.toString.call(a).match(/function (\w+)\s*\(/);i=er&&er[1]||""}return i.replace(/^bound /,"")},e=a=>{let i,er;return a.constructor&&a.constructor!==Object&&(er=r(a.constructor)),"toString"in a&&a.toString!==Object.prototype.toString&&a.toString!==Function.prototype.toString&&(i=a.toString()),i&&i.match(/<.*:ember\d+>/)&&er&&er[0]!=="_"&&er.length>2&&er!=="Class"?i.replace(/<.*:/,`<${er}:`):i||er},s=a=>String(a);on=a=>typeof a=="function"?r(a)||"(unknown function)":typeof a=="object"&&a!==null?e(a)||"(unknown object)":s(a)}const Yn=on,Rn=/\.(_super|call\(this|apply\(this)/,Ls=Function.prototype.toString,_a=Ls.call(function(){return this}).indexOf("return this")>-1?function(s){return Rn.test(Ls.call(s))}:function(){return!0},ys=new WeakMap,fi=Object.freeze(function(){});ys.set(fi,!1);function tl(r){let e=ys.get(r);return e===void 0&&(e=_a(r),ys.set(r,e)),e}class Ku{listeners=void 0;observers=void 0}const na=new WeakMap;function rl(r){let e=na.get(r);return e===void 0&&(e=new Ku,na.set(r,e)),e}function Yu(r){return na.get(r)}function Xu(r,e){let s=rl(r);s.observers=e}function Qu(r,e){let s=rl(r);s.listeners=e}const nl=new WeakSet;function Zu(r,e){return tl(r)?!nl.has(e)&&tl(e)?gi(r,gi(e,fi)):gi(r,e):r}function gi(r,e){function s(){let i=this._super;this._super=e;let er=r.apply(this,arguments);return this._super=i,er}nl.add(s);let a=na.get(r);return a!==void 0&&na.set(s,a),s}function bi(r,e){let s=r;do{let a=Object.getOwnPropertyDescriptor(s,e);if(a!==void 0)return a;s=Object.getPrototypeOf(s)}while(s!==null);return null}function eh(r,e){return r!=null&&typeof r[e]=="function"}const sl=new WeakMap;function th(r,e){In(r)&&sl.set(r,e)}function rh(r){return sl.get(r)}const nh=Object.prototype.toString;function sh(r){return r==null}function al(r){if(typeof r=="string")return r;if(r===null)return"null";if(r===void 0)return"undefined";if(Array.isArray(r)){let e="";for(let s=0;s<r.length;s++)s>0&&(e+=","),sh(r[s])||(e+=al(r[s]));return e}return typeof r.toString=="function"?r.toString():nh.call(r)}const il=new WeakSet;function ah(r){return In(r)?il.has(r):!1}function ih(r){In(r)&&il.add(r)}class ol{size=0;misses=0;hits=0;constructor(e,s,a=new Map){this.limit=e,this.func=s,this.store=a}get(e){return this.store.has(e)?(this.hits++,this.store.get(e)):(this.misses++,this.set(e,this.func(e)))}set(e,s){return this.limit>this.size&&(this.size++,this.store.set(e,s)),s}purge(){this.store.clear(),this.size=0,this.hits=0,this.misses=0}}let Yr=()=>{};function ll(r){return Yr=r,r}ll(function(e,s){if(!s)throw new Error(`Assertion Failed: ${e}`)});let Ta={},xa=function(e,s){},Ca=()=>{};xa=function(e,s){let a=Ta[e]||(()=>{});Ta[e]=(i,er)=>{s(i,er,a)}},Ca=function(e,s,a,i){if(a)return;let er=Ta[e];er&&er(s,i)};const oh=Object.defineProperty({__proto__:null,HANDLERS:Ta,get invoke(){return Ca},get registerHandler(){return xa}},Symbol.toStringTag,{value:"Module"});let Bs=()=>{},yi,Si,sa=()=>"",cl=()=>{};{Bs=function(a){xa("deprecate",a)};let r=function(a,i){let er=a;return i?.id&&(er=er+` [deprecation id: ${i.id}]`),i?.until&&(er=er+` This will be removed in ${i.for} ${i.until}.`),i?.url&&(er+=` See ${i.url} for more details.`),er};Bs(function(a,i){let er=r(a,i);console.warn(`DEPRECATION: ${er}`)});let e;new Error().stack?e=()=>new Error:e=()=>{try{__fail__.fail();return}catch(s){return s}},Bs(function(a,i,er){if(an.LOG_STACKTRACE_ON_DEPRECATION){let nr="",sr=e(),lr;sr instanceof Error&&sr.stack&&(sr.arguments?(lr=sr.stack.replace(/^\s+at\s+/gm,"").replace(/^([^(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^)]+)\)/gm,"{anonymous}($1)").split(`
`),lr.shift()):lr=sr.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split(`
`),nr=`
    ${lr.slice(2).join(`
    `)}`);let hr=r(a,i);console.warn(`DEPRECATION: ${hr}${nr}`)}else er(a,i)}),Bs(function(a,i,er){if(an.RAISE_ON_DEPRECATION){let nr=r(a);throw new Error(nr)}else er(a,i)}),yi="When calling `deprecate` you must provide an `options` hash as the third parameter.  `options` should include `id` and `until` properties.",Si="When calling `deprecate` you must provide `id` in options.",sa=(s,a)=>`When calling \`deprecate\` you must provide \`${a}\` in options. Missing options.${a} in "${s}" deprecation`,cl=function(a,i,er){Yr(yi,!!(er&&(er.id||er.until))),Yr(Si,!!er.id),Yr(sa(er.id,"until"),!!er.until),Yr(sa(er.id,"for"),!!er.for),Yr(sa(er.id,"since"),!!er.since),Ca("deprecate",a,i,er)}}const ul=cl,lh=Object.defineProperty({__proto__:null,default:ul,get missingOptionDeprecation(){return sa},get missingOptionsDeprecation(){return yi},get missingOptionsIdDeprecation(){return Si},get registerHandler(){return Bs}},Symbol.toStringTag,{value:"Module"});let hl=!1;function ki(){return hl}function pl(r){hl=!!r}const ch=Object.defineProperty({__proto__:null,isTesting:ki,setTesting:pl},Symbol.toStringTag,{value:"Module"});let Na=()=>{},ml=()=>{},vi,wi;Na=function(e){xa("warn",e)},Na(function(e){console.warn(`WARNING: ${e}`)}),vi="When calling `warn` you must provide an `options` hash as the third parameter.  `options` should include an `id` property.",wi="When calling `warn` you must provide `id` in options.",ml=function(e,s,a){arguments.length===2&&typeof s=="object"&&(a=s,s=!1),Yr(vi,!!a),Yr(wi,!!(a&&a.id)),Ca("warn",e,s,a)};const dl=ml,uh=Object.defineProperty({__proto__:null,default:dl,get missingOptionsDeprecation(){return vi},get missingOptionsIdDeprecation(){return wi},get registerHandler(){return Na}},Symbol.toStringTag,{value:"Module"}),{toString:hh}=Object.prototype,{toString:ph}=Function.prototype,{isArray:mh}=Array,{keys:dh}=Object,{stringify:fl}=JSON,Oa=100,gl=4,fh=/^[\w$]+$/;function bl(r){return typeof r=="number"&&arguments.length===2?this:Ei(r,0)}function Ei(r,e,s){let a=!1;switch(typeof r){case"undefined":return"undefined";case"object":if(r===null)return"null";if(mh(r)){a=!0;break}if(r.toString===hh||r.toString===void 0)break;return r.toString();case"function":return r.toString===ph?r.name?`[Function:${r.name}]`:"[Function]":r.toString();case"string":return fl(r);case"symbol":case"boolean":case"number":default:return r.toString()}if(s===void 0)s=new WeakSet;else if(s.has(r))return"[Circular]";return s.add(r),a?yh(r,e+1,s):bh(r,e+1,s)}function gh(r){return fh.test(r)?r:fl(r)}function bh(r,e,s){if(e>gl)return"[Object]";let a="{",i=dh(r);for(let er=0;er<i.length;er++){if(a+=er===0?" ":", ",er>=Oa){a+=`... ${i.length-Oa} more keys`;break}let nr=i[er];Yr("has key",nr),a+=`${gh(String(nr))}: ${Ei(r[nr],e,s)}`}return a+=" }",a}function yh(r,e,s){if(e>gl)return"[Array]";let a="[";for(let i=0;i<r.length;i++){if(a+=i===0?" ":", ",i>=Oa){a+=`... ${r.length-Oa} more items`;break}a+=Ei(r[i],e,s)}return a+=" ]",a}const Sh=Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"}),Ai=Object.freeze([]);function Pi(){return Ai}const kh=Pi(),vh=Pi();function wh(r){return r===Ai}function*Eh(r){for(let e=r.length-1;e>=0;e--)yield r[e]}function*yl(r){let e=0;for(const s of r)yield[e++,s]}function Dr(r,e){if(!r)throw new Error(e||"assertion failure")}function En(r){Hl.warn(`DEPRECATION: ${r}`)}function Ah(r){return Object.keys(r)}function Is(r){if(r==null)throw new Error("Expected value to be present");return r}function Ss(r,e){if(r==null)throw new Error(e);return r}function Sl(r="unreachable"){return new Error(r)}function Ds(r){throw new Error(`Exhausted ${String(r)}`)}const Ph=(...r)=>r;function kl(r){return r!=null}function _h(r,e){if(!kl(r))throw new Error(`Expected present, got ${typeof r=="string"?r:e}`)}function en(r){return r.length>0}function Th(r,e,s){return en(r)?e(r):s()}function xh(r){return en(r)?r:null}function ks(r,e="unexpected empty list"){if(!en(r))throw new Error(e)}function vs(r,e="unexpected empty list"){return ks(r,e),r}function $n(r){return r.length===0?void 0:r[r.length-1]}function aa(r){return r.length===0?void 0:r[0]}function _i(r,e){if(r===null)return null;let s=[];for(let a of r)s.push(e(a));return s}function Nn(){return Object.create(null)}function Ch(r){return r!=null}function Nh(r){return typeof r=="function"||typeof r=="object"&&r!==null}class Oh{stack;current=null;constructor(e=[]){this.stack=e}get size(){return this.stack.length}push(e){this.current=e,this.stack.push(e)}pop(){let e=this.stack.pop();return this.current=$n(this.stack)??null,e===void 0?null:e}nth(e){let s=this.stack.length;return s<e?null:Is(this.stack[s-e])}isEmpty(){return this.stack.length===0}toArray(){return this.stack}}let Lh,Bh,Ih,Dh,vl;{let r=a=>{let i=a.name;if(i===void 0){let er=/function (\w+)\s*\(/u.exec(String(a));i=er&&er[1]||""}return i.replace(/^bound /u,"")},e=a=>{let i,er;return a.constructor&&typeof a.constructor=="function"&&(er=r(a.constructor)),"toString"in a&&a.toString!==Object.prototype.toString&&a.toString!==Function.prototype.toString&&(i=a.toString()),i&&/<.*:ember\d+>/u.test(i)&&er&&er[0]!=="_"&&er.length>2&&er!=="Class"?i.replace(/<.*:/u,`<${er}:`):i||er},s=a=>String(a);vl=a=>typeof a=="function"?r(a)||"(unknown function)":typeof a=="object"&&a!==null?e(a)||"(unknown object)":s(a)}var Hh=vl;function Fh(r){let e=r.firstChild;for(;e;){let s=e.nextSibling;r.removeChild(e),e=s}}const Mh=-1,Ti=1,Rh=3,$h=8,wl=9,Vh=10,Uh=11,jh="http://www.w3.org/1999/xhtml",zh="http://www.w3.org/1998/Math/MathML",qh="http://www.w3.org/2000/svg",El="http://www.w3.org/1999/xlink",Al="http://www.w3.org/XML/1998/namespace",xi="http://www.w3.org/2000/xmlns/",Gh="beforebegin",Jh="afterbegin",Wh="beforeend",Kh="afterend";let ws=function(r){return r[r.MAX_SMI=1073741823]="MAX_SMI",r[r.MIN_SMI=-1073741824]="MIN_SMI",r[r.SIGN_BIT=-536870913]="SIGN_BIT",r[r.MAX_INT=536870911]="MAX_INT",r[r.MIN_INT=-536870912]="MIN_INT",r[r.FALSE_HANDLE=0]="FALSE_HANDLE",r[r.TRUE_HANDLE=1]="TRUE_HANDLE",r[r.NULL_HANDLE=2]="NULL_HANDLE",r[r.UNDEFINED_HANDLE=3]="UNDEFINED_HANDLE",r[r.ENCODED_FALSE_HANDLE=0]="ENCODED_FALSE_HANDLE",r[r.ENCODED_TRUE_HANDLE=1]="ENCODED_TRUE_HANDLE",r[r.ENCODED_NULL_HANDLE=2]="ENCODED_NULL_HANDLE",r[r.ENCODED_UNDEFINED_HANDLE=3]="ENCODED_UNDEFINED_HANDLE",r}({});function Yh(r){return r>=0}function Xh(r){return r>ws.ENCODED_UNDEFINED_HANDLE}function Qh(...r){return[!1,!0,null,void 0,...r]}function Zh(r){return r%1==0&&r<=ws.MAX_INT&&r>=ws.MIN_INT}function Pl(r){return r&ws.SIGN_BIT}function _l(r){return r|~ws.SIGN_BIT}function Tl(r){return~r}function xl(r){return~r}function ep(r){return r}function tp(r){return r}function Cl(r){return(r|=0)<0?Pl(r):Tl(r)}function Nl(r){return(r|=0)>ws.SIGN_BIT?xl(r):_l(r)}function rp(r){let e={};e[r]=1;for(let s in e)if(s===r)return s;return r}[1,-1].forEach(r=>Nl(Cl(r)));const np="%+b:0%";function sp(r){return r.nodeValue==="%+b:0%"}let On=Object.assign;function Ol(r){return Object.values(r)}function ap(r){return Object.entries(r)}function ip(r){return Ll(r)||Bl(r),r}function op(r,e){if(r==null)return null;if(typeof document===void 0)throw new Error("Attempted to cast to a browser node in a non-browser context");if(Ll(r))return r;if(r.ownerDocument!==document)throw new Error("Attempted to cast to a browser node with a node that was not created from this document");return Il(r,e)}function Ll(r){return r.nodeType===wl}function Bl(r){return r?.nodeType===Ti}function lp(r){return r?.nodeType===Ti&&r instanceof Element}function Il(r,e){let s=!1;if(r!==null)if(typeof e=="string")s=Dl(r,e);else{if(!Array.isArray(e))throw Sl();s=e.some(a=>Dl(r,a))}if(s&&r instanceof Node)return r;throw function(a,i){return new Error(`cannot cast a ${a} into ${String(i)}`)}(`SimpleElement(${r?.constructor?.name??"null"})`,e)}function Dl(r,e){switch(e){case"NODE":return!0;case"HTML":return r instanceof HTMLElement;case"SVG":return r instanceof SVGElement;case"ELEMENT":return r instanceof Element;default:if(e.toUpperCase()===e)throw new Error("BUG: this code is missing handling for a generic node type");return r instanceof Element&&r.tagName.toLowerCase()===e}}function cp(r,...e){let s="";for(const[nr,sr]of yl(r))s+=`${sr}${e[nr]!==void 0?String(e[nr]):""}`;let a=s.split(`
`);for(;en(a)&&/^\s*$/u.test(aa(a));)a.shift();for(;en(a)&&/^\s*$/u.test($n(a));)a.pop();let i=1/0;for(let nr of a){let sr=/^\s*/u.exec(nr)[0].length;i=Math.min(i,sr)}let er=[];for(let nr of a)er.push(nr.slice(i));return er.join(`
`)}function up(r){if(typeof r=="number")return r;{let e=r.errors[0];throw new Error(`Compile Error: ${e.problem} @ ${e.span.start}..${e.span.end}`)}}function hp(r){if(r.result==="error")throw new Error(`Compile Error: ${r.problem} @ ${r.span.start}..${r.span.end}`);return r}function pp(r){return typeof r=="number"?r:r.handle}function mp(r){return typeof r=="number"}function dp(r){return typeof r=="number"}function fp(r){let e=null;{let s=a=>{let i=typeof a=="symbol"||typeof a=="number"?`[${String(a)}]`:`.${a}`;throw new Error(`You accessed \`this${i}\` from a function passed to the ${r}, but the function itself was not bound to a valid \`this\` context. Consider updating to use a bound function (for instance, use an arrow function, \`() => {}\`).`)};e=new Proxy({},{get(a,i){s(i)},set:(a,i)=>(s(i),!1),has:(a,i)=>(s(i),!1)})}return e}const Hl=console,Ci=console;function Dn(r,e="unexpected unreachable branch"){throw Ci.log("unreachable",r),Ci.log(`${e} :: ${JSON.stringify(r)} (${r})`),new Error("code reached unreachable")}const gp=Object.defineProperty({__proto__:null,COMMENT_NODE:$h,DOCUMENT_FRAGMENT_NODE:Uh,DOCUMENT_NODE:wl,DOCUMENT_TYPE_NODE:Vh,ELEMENT_NODE:Ti,EMPTY_ARRAY:Ai,EMPTY_NUMBER_ARRAY:vh,EMPTY_STRING_ARRAY:kh,INSERT_AFTER_BEGIN:Jh,INSERT_AFTER_END:Kh,INSERT_BEFORE_BEGIN:Gh,INSERT_BEFORE_END:Wh,ImmediateConstants:ws,LOCAL_LOGGER:Hl,LOGGER:Ci,NS_HTML:jh,NS_MATHML:zh,NS_SVG:qh,NS_XLINK:El,NS_XML:Al,NS_XMLNS:xi,RAW_NODE:Mh,SERIALIZATION_FIRST_NODE_STRING:np,Stack:Oh,TEXT_NODE:Rh,arrayToOption:xh,asPresentArray:vs,assert:Dr,assertNever:Dn,assertPresent:_h,assertPresentArray:ks,assign:On,beginTestSteps:Lh,buildUntouchableThis:fp,castToBrowser:op,castToSimple:ip,checkNode:Il,clearElement:Fh,constants:Qh,debugToString:Hh,decodeHandle:tp,decodeImmediate:Nl,decodeNegative:_l,decodePositive:xl,deprecate:En,dict:Nn,emptyArray:Pi,encodeHandle:ep,encodeImmediate:Cl,encodeNegative:Pl,encodePositive:Tl,endTestSteps:Bh,entries:ap,enumerate:yl,exhausted:Ds,expect:Ss,extractHandle:pp,getFirst:aa,getLast:$n,ifPresent:Th,intern:rp,isDict:Ch,isElement:lp,isEmptyArray:wh,isErrHandle:dp,isHandle:Yh,isNonPrimitiveHandle:Xh,isObject:Nh,isOkHandle:mp,isPresent:kl,isPresentArray:en,isSerializationFirstNode:sp,isSimpleElement:Bl,isSmallInt:Zh,keys:Ah,logStep:Dh,mapPresentArray:_i,reverse:Eh,strip:cp,tuple:Ph,unreachable:Sl,unwrap:Is,unwrapHandle:up,unwrapTemplate:hp,values:Ol,verifySteps:Ih},Symbol.toStringTag,{value:"Module"});function Fl(r){return Ss(r.lookup("renderer:-dom"),"BUG: owner is missing renderer").debugRenderTree.capture()}const bp=Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"}),Xn=()=>{};let Ni=Xn,Oi=Xn,La=Xn,Ml,Li=Xn,Bi=Xn,Ii=Xn,Vn=Xn,Rl=Xn,Di=function(){return arguments[arguments.length-1]};function ia(...r){return(Ml??ul)(...r)}Vn=function(r,e){switch(r){case"assert":return ll(e);case"info":return Ni=e;case"warn":return Oi=e;case"debug":return La=e;case"deprecate":return Ml=e;case"debugSeal":return Li=e;case"debugFreeze":return Bi=e;case"runInDebug":return Ii=e;case"deprecateFunc":return Di=e}},Rl=function(r){switch(r){case"assert":return Yr;case"info":return Ni;case"warn":return Oi;case"debug":return La;case"deprecate":return ia;case"debugSeal":return Li;case"debugFreeze":return Bi;case"runInDebug":return Ii;case"deprecateFunc":return Di}},Vn("debug",function(e){console.debug(`DEBUG: ${e}`)}),Vn("info",function(){console.info(...arguments)}),Vn("deprecateFunc",function(...e){if(e.length===3){let[s,a,i]=e;return function(...er){return ia(s,!1,a),i.apply(this,er)}}else{let[s,a]=e;return function(){return ia(s),a.apply(this,arguments)}}}),Vn("runInDebug",function(e){e()}),Vn("debugSeal",function(e){Object.seal(e)}),Vn("debugFreeze",function(e){Object.isFrozen(e)||Object.freeze(e)}),Vn("warn",dl);let yp;ki()||typeof window<"u"&&(Ir||Er)&&window.addEventListener&&window.addEventListener("load",()=>{if(document.documentElement&&document.documentElement.dataset&&!document.documentElement.dataset.emberExtension){let r;Er?r="https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi":Ir&&(r="https://addons.mozilla.org/en-US/firefox/addon/ember-inspector/"),La(`For more advanced debugging, install the Ember Inspector from ${r}`)}},!1);const Sp=Object.defineProperty({__proto__:null,_warnIfUsingStrippedFeatureFlags:yp,get assert(){return Yr},captureRenderTree:Fl,get debug(){return La},get debugFreeze(){return Bi},get debugSeal(){return Li},deprecate:ia,get deprecateFunc(){return Di},get getDebugFunction(){return Rl},get info(){return Ni},inspect:bl,isTesting:ki,get registerDeprecationHandler(){return Bs},get registerWarnHandler(){return Na},get runInDebug(){return Ii},get setDebugFunction(){return Vn},setTesting:pl,get warn(){return Oi}},Symbol.toStringTag,{value:"Module"});let $l,Vl,Ul;function kp(r){return typeof r=="number"?jl(r):vp(r)}function vp(r){let e=parseInt(r,10);return jl(e)&&r===String(e)}function jl(r){return r>=0&&r%1===0}{let r=new WeakSet,e=new WeakMap,s=function(a,i){return Object.prototype.propertyIsEnumerable.call(a,i)};$l=function(a,i,er){if(r.has(a)||(r.add(a),Array.isArray(i)&&kp(er)))return;let nr=bi(i,er)||{};if(nr.get||nr.set||nr&&(!nr.configurable||!nr.writable))return;let sr=e.get(i);sr===void 0&&(sr={},e.set(i,sr)),nr.hadOwnProperty=Object.hasOwnProperty.call(i,er),sr[er]=nr,Object.defineProperty(i,er,{configurable:!0,enumerable:s(i,er),get(){return nr.get?nr.get.call(this):nr.value},set(lr){Yr(`You attempted to update ${this}.${String(er)} to "${String(lr)}", but it is being tracked by a tracking context, such as a template, computed property, or observer. In order to make sure the context updates properly, you must invalidate the property when updating it. You can mark the property as \`@tracked\`, or use \`@ember/object#set\` to do this.`)}})},Vl=function(a,i){let er=e.get(a);er!==void 0&&er[i]!==void 0&&(Object.defineProperty(a,i,er[i]),delete er[i])},Ul=function(a,i,er){let nr=e.get(a);if(nr!==void 0&&nr[i]!==void 0){let sr=nr[i];if(sr.set)sr.set.call(a,er);else if(sr.value=er,!sr.hadOwnProperty){let lr=bi(a,i);lr.enumerable=!0,Object.defineProperty(a,i,lr)}}else a[i]=er}}const wp=Object.defineProperty({__proto__:null,Cache:ol,GUID_KEY:xr,ROOT:fi,canInvoke:eh,checkHasSuper:_a,dictionary:bn,enumerableSymbol:Zr,generateGuid:yr,getDebugName:Yn,getName:rh,guidFor:Nr,intern:ta,isInternalSymbol:Ur,isObject:In,isProxy:ah,lookupDescriptor:bi,observerListenerMetaFor:Yu,setListeners:Qu,setName:th,setObservers:Xu,setProxy:ih,get setWithMandatorySetter(){return Ul},get setupMandatorySetter(){return $l},symbol:hn,get teardownMandatorySetter(){return Vl},toString:al,uuid:Kn,wrap:Zu},Symbol.toStringTag,{value:"Module"}),zl={},ql=Object.assign(zl,an.FEATURES);function Ep(r){let e=ql[r];return e===!0||e===!1?e:!!an.ENABLE_OPTIONAL_FEATURES}const Ap=Object.defineProperty({__proto__:null,DEFAULT_FEATURES:zl,FEATURES:ql,isEnabled:Ep},Symbol.toStringTag,{value:"Module"}),Pp=Object.defineProperty({__proto__:null,ASSIGN:!0},Symbol.toStringTag,{value:"Module"}),ur={Append:1,TrustingAppend:2,Comment:3,Modifier:4,StrictModifier:5,Block:6,StrictBlock:7,Component:8,OpenElement:10,OpenElementWithSplat:11,FlushElement:12,CloseElement:13,StaticAttr:14,DynamicAttr:15,ComponentAttr:16,AttrSplat:17,Yield:18,DynamicArg:20,StaticArg:21,TrustingDynamicAttr:22,TrustingComponentAttr:23,StaticComponentAttr:24,Debugger:26,Undefined:27,Call:28,Concat:29,GetSymbol:30,GetLexicalSymbol:32,GetStrictKeyword:31,GetFreeAsComponentOrHelperHead:35,GetFreeAsHelperHead:37,GetFreeAsModifierHead:38,GetFreeAsComponentHead:39,InElement:40,If:41,Each:42,Let:44,WithDynamicVars:45,InvokeComponent:46,HasBlock:48,HasBlockParams:49,Curry:50,Not:51,IfInline:52,GetDynamicVar:53,Log:54},Tn={Strict:0,ResolveAsComponentOrHelperHead:1,ResolveAsHelperHead:5,ResolveAsModifierHead:6,ResolveAsComponentHead:7},Qn={class:0,id:1,value:2,name:3,type:4,style:5,href:6},oa={div:0,span:1,p:2,a:3};function Hi(r){return function(e){return Array.isArray(e)&&e[0]===r}}const _p=Hi(ur.FlushElement);function Tp(r){return r[0]===ur.StaticAttr||r[0]===ur.DynamicAttr||r[0]===ur.TrustingDynamicAttr||r[0]===ur.ComponentAttr||r[0]===ur.StaticComponentAttr||r[0]===ur.TrustingComponentAttr||r[0]===ur.AttrSplat||r[0]===ur.Modifier}function xp(r){return typeof r=="string"}function Cp(r){return r}function Np(r){return r[0]===ur.StaticArg||r[0]===ur.DynamicArg}function Op(r){return Array.isArray(r)&&r[0]===ur.Call}const Lp=Hi(ur.GetSymbol),Bp=Object.defineProperty({__proto__:null,SexpOpcodes:ur,VariableResolutionContext:Tn,WellKnownAttrNames:Qn,WellKnownTagNames:oa,getStringFromValue:Cp,is:Hi,isArgument:Np,isAttribute:Tp,isFlushElement:_p,isGet:Lp,isHelper:Op,isStringLiteral:xp},Symbol.toStringTag,{value:"Module"});var Fi=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Un(r,e){var s=e&&e.loc,a,i,er,nr;s&&(a=s.start.line,i=s.end.line,er=s.start.column,nr=s.end.column,r+=" - "+a+":"+er);for(var sr=Error.prototype.constructor.call(this,r),lr=0;lr<Fi.length;lr++)this[Fi[lr]]=sr[Fi[lr]];Error.captureStackTrace&&Error.captureStackTrace(this,Un);try{s&&(this.lineNumber=a,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:er,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:nr,enumerable:!0})):(this.column=er,this.endColumn=nr))}catch{}}Un.prototype=new Error;function Hs(){this.parents=[]}Hs.prototype={constructor:Hs,mutating:!1,acceptKey:function(r,e){var s=this.accept(r[e]);if(this.mutating){if(s&&!Hs.prototype[s.type])throw new Un('Unexpected node type "'+s.type+'" found when accepting '+e+" on "+r.type);r[e]=s}},acceptRequired:function(r,e){if(this.acceptKey(r,e),!r[e])throw new Un(r.type+" requires "+e)},acceptArray:function(r){for(var e=0,s=r.length;e<s;e++)this.acceptKey(r,e),r[e]||(r.splice(e,1),e--,s--)},accept:function(r){if(r){if(!this[r.type])throw new Un("Unknown type: "+r.type,r);this.current&&this.parents.unshift(this.current),this.current=r;var e=this[r.type](r);if(this.current=this.parents.shift(),!this.mutating||e)return e;if(e!==!1)return r}},Program:function(r){this.acceptArray(r.body)},MustacheStatement:Ba,Decorator:Ba,BlockStatement:Gl,DecoratorBlock:Gl,PartialStatement:Jl,PartialBlockStatement:function(r){Jl.call(this,r),this.acceptKey(r,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:Ba,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(r){this.acceptArray(r.pairs)},HashPair:function(r){this.acceptRequired(r,"value")}};function Ba(r){this.acceptRequired(r,"path"),this.acceptArray(r.params),this.acceptKey(r,"hash")}function Gl(r){Ba.call(this,r),this.acceptKey(r,"program"),this.acceptKey(r,"inverse")}function Jl(r){this.acceptRequired(r,"name"),this.acceptArray(r.params),this.acceptKey(r,"hash")}function Ln(r){r===void 0&&(r={}),this.options=r}Ln.prototype=new Hs,Ln.prototype.Program=function(r){var e=!this.options.ignoreStandalone,s=!this.isRootSeen;this.isRootSeen=!0;for(var a=r.body,i=0,er=a.length;i<er;i++){var nr=a[i],sr=this.accept(nr);if(sr){var lr=Mi(a,i,s),hr=Ri(a,i,s),gr=sr.openStandalone&&lr,vr=sr.closeStandalone&&hr,Or=sr.inlineStandalone&&lr&&hr;sr.close&&Es(a,i,!0),sr.open&&Zn(a,i,!0),e&&Or&&(Es(a,i),Zn(a,i)&&nr.type==="PartialStatement"&&(nr.indent=/([ \t]+$)/.exec(a[i-1].original)[1])),e&&gr&&(Es((nr.program||nr.inverse).body),Zn(a,i)),e&&vr&&(Es(a,i),Zn((nr.inverse||nr.program).body))}}return r},Ln.prototype.BlockStatement=Ln.prototype.DecoratorBlock=Ln.prototype.PartialBlockStatement=function(r){this.accept(r.program),this.accept(r.inverse);var e=r.program||r.inverse,s=r.program&&r.inverse,a=s,i=s;if(s&&s.chained)for(a=s.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var er={open:r.openStrip.open,close:r.closeStrip.close,openStandalone:Ri(e.body),closeStandalone:Mi((a||e).body)};if(r.openStrip.close&&Es(e.body,null,!0),s){var nr=r.inverseStrip;nr.open&&Zn(e.body,null,!0),nr.close&&Es(a.body,null,!0),r.closeStrip.open&&Zn(i.body,null,!0),!this.options.ignoreStandalone&&Mi(e.body)&&Ri(a.body)&&(Zn(e.body),Es(a.body))}else r.closeStrip.open&&Zn(e.body,null,!0);return er},Ln.prototype.Decorator=Ln.prototype.MustacheStatement=function(r){return r.strip},Ln.prototype.PartialStatement=Ln.prototype.CommentStatement=function(r){var e=r.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}};function Mi(r,e,s){e===void 0&&(e=r.length);var a=r[e-1],i=r[e-2];if(!a)return s;if(a.type==="ContentStatement")return(i||!s?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(a.original)}function Ri(r,e,s){e===void 0&&(e=-1);var a=r[e+1],i=r[e+2];if(!a)return s;if(a.type==="ContentStatement")return(i||!s?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(a.original)}function Es(r,e,s){var a=r[e==null?0:e+1];if(!(!a||a.type!=="ContentStatement"||!s&&a.rightStripped)){var i=a.value;a.value=a.value.replace(s?/^\s+/:/^[ \t]*\r?\n?/,""),a.rightStripped=a.value!==i}}function Zn(r,e,s){var a=r[e==null?r.length-1:e-1];if(!(!a||a.type!=="ContentStatement"||!s&&a.leftStripped)){var i=a.value;return a.value=a.value.replace(s?/\s+$/:/[ \t]+$/,""),a.leftStripped=a.value!==i,a.leftStripped}}var Ia=function(){var r=function(bs,Lr,Fr,Br){for(Fr=Fr||{},Br=bs.length;Br--;Fr[bs[Br]]=Lr);return Fr},e=[2,44],s=[1,20],a=[5,14,15,19,29,34,39,44,47,48,52,56,60],i=[1,35],er=[1,38],nr=[1,30],sr=[1,31],lr=[1,32],hr=[1,33],gr=[1,34],vr=[1,37],Or=[14,15,19,29,34,39,44,47,48,52,56,60],Gr=[14,15,19,29,34,44,47,48,52,56,60],Qr=[15,18],gn=[14,15,19,29,34,47,48,52,56,60],vn=[33,64,71,79,80,81,82,83,84],Sn=[23,33,55,64,67,71,74,79,80,81,82,83,84],cn=[1,51],jo=[23,33,55,64,67,71,74,79,80,81,82,83,84,86],Ru=[2,43],$u=[55,64,71,79,80,81,82,83,84],Vu=[1,58],zo=[1,59],qo=[1,66],Ks=[33,64,71,74,79,80,81,82,83,84],Uu=[23,64,71,79,80,81,82,83,84],Jn=[1,76],ju=[64,67,71,79,80,81,82,83,84],Ys=[33,74],Go=[23,33,55,67,71,74],zu=[1,106],Jo=[1,118],qu=[71,76],Wo={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,expr:49,mustache_repetition0:50,mustache_option0:51,OPEN_UNESCAPED:52,mustache_repetition1:53,mustache_option1:54,CLOSE_UNESCAPED:55,OPEN_PARTIAL:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,sexpr:63,OPEN_SEXPR:64,sexpr_repetition0:65,sexpr_option0:66,CLOSE_SEXPR:67,hash:68,hash_repetition_plus0:69,hashSegment:70,ID:71,EQUALS:72,blockParams:73,OPEN_BLOCK_PARAMS:74,blockParams_repetition_plus0:75,CLOSE_BLOCK_PARAMS:76,path:77,dataName:78,STRING:79,NUMBER:80,BOOLEAN:81,UNDEFINED:82,NULL:83,DATA:84,pathSegments:85,SEP:86,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",52:"OPEN_UNESCAPED",55:"CLOSE_UNESCAPED",56:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",64:"OPEN_SEXPR",67:"CLOSE_SEXPR",71:"ID",72:"EQUALS",74:"OPEN_BLOCK_PARAMS",76:"CLOSE_BLOCK_PARAMS",79:"STRING",80:"NUMBER",81:"BOOLEAN",82:"UNDEFINED",83:"NULL",84:"DATA",86:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[49,1],[49,1],[63,5],[68,1],[70,3],[73,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[78,2],[77,1],[85,3],[85,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[50,0],[50,2],[51,0],[51,1],[53,0],[53,2],[54,0],[54,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[65,0],[65,2],[66,0],[66,1],[69,1],[69,2],[75,1],[75,2]],performAction:function(Lr,Fr,Br,Cr,Jr,pr,Xs){var fr=pr.length-1;switch(Jr){case 1:return pr[fr-1];case 2:this.$=Cr.prepareProgram(pr[fr]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:this.$=pr[fr];break;case 9:this.$={type:"CommentStatement",value:Cr.stripComment(pr[fr]),strip:Cr.stripFlags(pr[fr],pr[fr]),loc:Cr.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:pr[fr],value:pr[fr],loc:Cr.locInfo(this._$)};break;case 11:this.$=Cr.prepareRawBlock(pr[fr-2],pr[fr-1],pr[fr],this._$);break;case 12:this.$={path:pr[fr-3],params:pr[fr-2],hash:pr[fr-1]};break;case 13:this.$=Cr.prepareBlock(pr[fr-3],pr[fr-2],pr[fr-1],pr[fr],!1,this._$);break;case 14:this.$=Cr.prepareBlock(pr[fr-3],pr[fr-2],pr[fr-1],pr[fr],!0,this._$);break;case 15:this.$={open:pr[fr-5],path:pr[fr-4],params:pr[fr-3],hash:pr[fr-2],blockParams:pr[fr-1],strip:Cr.stripFlags(pr[fr-5],pr[fr])};break;case 16:case 17:this.$={path:pr[fr-4],params:pr[fr-3],hash:pr[fr-2],blockParams:pr[fr-1],strip:Cr.stripFlags(pr[fr-5],pr[fr])};break;case 18:this.$={strip:Cr.stripFlags(pr[fr-1],pr[fr-1]),program:pr[fr]};break;case 19:var li=Cr.prepareBlock(pr[fr-2],pr[fr-1],pr[fr],pr[fr],!1,this._$),ci=Cr.prepareProgram([li],pr[fr-1].loc);ci.chained=!0,this.$={strip:pr[fr-2].strip,program:ci,chain:!0};break;case 21:this.$={path:pr[fr-1],strip:Cr.stripFlags(pr[fr-2],pr[fr])};break;case 22:case 23:this.$=Cr.prepareMustache(pr[fr-3],pr[fr-2],pr[fr-1],pr[fr-4],Cr.stripFlags(pr[fr-4],pr[fr]),this._$);break;case 24:this.$={type:"PartialStatement",name:pr[fr-3],params:pr[fr-2],hash:pr[fr-1],indent:"",strip:Cr.stripFlags(pr[fr-4],pr[fr]),loc:Cr.locInfo(this._$)};break;case 25:this.$=Cr.preparePartialBlock(pr[fr-2],pr[fr-1],pr[fr],this._$);break;case 26:this.$={path:pr[fr-3],params:pr[fr-2],hash:pr[fr-1],strip:Cr.stripFlags(pr[fr-4],pr[fr])};break;case 29:this.$={type:"SubExpression",path:pr[fr-3],params:pr[fr-2],hash:pr[fr-1],loc:Cr.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:pr[fr],loc:Cr.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:Cr.id(pr[fr-2]),value:pr[fr],loc:Cr.locInfo(this._$)};break;case 32:this.$=Cr.id(pr[fr-1]);break;case 35:this.$={type:"StringLiteral",value:pr[fr],original:pr[fr],loc:Cr.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(pr[fr]),original:Number(pr[fr]),loc:Cr.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:pr[fr]==="true",original:pr[fr]==="true",loc:Cr.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:Cr.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:Cr.locInfo(this._$)};break;case 40:this.$=Cr.preparePath(!0,pr[fr],this._$);break;case 41:this.$=Cr.preparePath(!1,pr[fr],this._$);break;case 42:pr[fr-2].push({part:Cr.id(pr[fr]),original:pr[fr],separator:pr[fr-1]}),this.$=pr[fr-2];break;case 43:this.$=[{part:Cr.id(pr[fr]),original:pr[fr]}];break;case 44:case 46:case 48:case 56:case 62:case 68:case 76:case 80:case 84:case 88:case 92:this.$=[];break;case 45:case 47:case 49:case 57:case 63:case 69:case 77:case 81:case 85:case 89:case 93:case 97:case 99:pr[fr-1].push(pr[fr]);break;case 96:case 98:this.$=[pr[fr]];break}},table:[r([5,14,15,19,29,34,48,52,56,60],e,{3:1,4:2,6:3}),{1:[3]},{5:[1,4]},r([5,39,44,47],[2,2],{7:5,8:6,9:7,10:8,11:9,12:10,13:11,24:15,27:16,16:17,59:19,14:[1,12],15:s,19:[1,23],29:[1,21],34:[1,22],48:[1,13],52:[1,14],56:[1,18],60:[1,24]}),{1:[2,1]},r(a,[2,45]),r(a,[2,3]),r(a,[2,4]),r(a,[2,5]),r(a,[2,6]),r(a,[2,7]),r(a,[2,8]),r(a,[2,9]),{20:26,49:25,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{20:26,49:39,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(Or,e,{6:3,4:40}),r(Gr,e,{6:3,4:41}),r(Qr,[2,46],{17:42}),{20:26,49:43,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(gn,e,{6:3,4:44}),r([5,14,15,18,19,29,34,39,44,47,48,52,56,60],[2,10]),{20:45,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{20:46,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{20:47,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{20:26,49:48,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(vn,[2,76],{50:49}),r(Sn,[2,27]),r(Sn,[2,28]),r(Sn,[2,33]),r(Sn,[2,34]),r(Sn,[2,35]),r(Sn,[2,36]),r(Sn,[2,37]),r(Sn,[2,38]),r(Sn,[2,39]),{20:26,49:50,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(Sn,[2,41],{86:cn}),{71:er,85:52},r(jo,Ru),r($u,[2,80],{53:53}),{25:54,38:56,39:Vu,43:57,44:zo,45:55,47:[2,52]},{28:60,43:61,44:zo,47:[2,54]},{13:63,15:s,18:[1,62]},r(vn,[2,84],{57:64}),{26:65,47:qo},r(Ks,[2,56],{30:67}),r(Ks,[2,62],{35:68}),r(Uu,[2,48],{21:69}),r(vn,[2,88],{61:70}),{20:26,33:[2,78],49:72,51:71,63:27,64:i,68:73,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(ju,[2,92],{65:77}),{71:[1,78]},r(Sn,[2,40],{86:cn}),{20:26,49:80,54:79,55:[2,82],63:27,64:i,68:81,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{26:82,47:qo},{47:[2,53]},r(Or,e,{6:3,4:83}),{47:[2,20]},{20:84,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(gn,e,{6:3,4:85}),{26:86,47:qo},{47:[2,55]},r(a,[2,11]),r(Qr,[2,47]),{20:26,33:[2,86],49:88,58:87,63:27,64:i,68:89,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(a,[2,25]),{20:90,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(Ys,[2,58],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,31:91,49:92,68:93,64:i,71:Jn,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr}),r(Ys,[2,64],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,36:94,49:95,68:96,64:i,71:Jn,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr}),{20:26,22:97,23:[2,50],49:98,63:27,64:i,68:99,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{20:26,33:[2,90],49:101,62:100,63:27,64:i,68:102,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{33:[1,103]},r(vn,[2,77]),{33:[2,79]},r([23,33,55,67,74],[2,30],{70:104,71:[1,105]}),r(Go,[2,96]),r(jo,Ru,{72:zu}),{20:26,49:108,63:27,64:i,66:107,67:[2,94],68:109,69:74,70:75,71:Jn,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},r(jo,[2,42]),{55:[1,110]},r($u,[2,81]),{55:[2,83]},r(a,[2,13]),{38:56,39:Vu,43:57,44:zo,45:112,46:111,47:[2,74]},r(Ks,[2,68],{40:113}),{47:[2,18]},r(a,[2,14]),{33:[1,114]},r(vn,[2,85]),{33:[2,87]},{33:[1,115]},{32:116,33:[2,60],73:117,74:Jo},r(Ks,[2,57]),r(Ys,[2,59]),{33:[2,66],37:119,73:120,74:Jo},r(Ks,[2,63]),r(Ys,[2,65]),{23:[1,121]},r(Uu,[2,49]),{23:[2,51]},{33:[1,122]},r(vn,[2,89]),{33:[2,91]},r(a,[2,22]),r(Go,[2,97]),{72:zu},{20:26,49:123,63:27,64:i,71:er,77:28,78:29,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr,85:36},{67:[1,124]},r(ju,[2,93]),{67:[2,95]},r(a,[2,23]),{47:[2,19]},{47:[2,75]},r(Ys,[2,70],{20:26,63:27,77:28,78:29,85:36,69:74,70:75,41:125,49:126,68:127,64:i,71:Jn,79:nr,80:sr,81:lr,82:hr,83:gr,84:vr}),r(a,[2,24]),r(a,[2,21]),{33:[1,128]},{33:[2,61]},{71:[1,130],75:129},{33:[1,131]},{33:[2,67]},r(Qr,[2,12]),r(gn,[2,26]),r(Go,[2,31]),r(Sn,[2,29]),{33:[2,72],42:132,73:133,74:Jo},r(Ks,[2,69]),r(Ys,[2,71]),r(Or,[2,15]),{71:[1,135],76:[1,134]},r(qu,[2,98]),r(Gr,[2,16]),{33:[1,136]},{33:[2,73]},{33:[2,32]},r(qu,[2,99]),r(Or,[2,17])],defaultActions:{4:[2,1],55:[2,53],57:[2,20],61:[2,55],73:[2,79],81:[2,83],85:[2,18],89:[2,87],99:[2,51],102:[2,91],109:[2,95],111:[2,19],112:[2,75],117:[2,61],120:[2,67],133:[2,73],134:[2,32]},parseError:function(Lr,Fr){if(Fr.recoverable)this.trace(Lr);else{var Br=new Error(Lr);throw Br.hash=Fr,Br}},parse:function(Lr){var Fr=this,Br=[0],Cr=[null],Jr=[],pr=this.table,Xs="",fr=0,li=0,ci=2,Gu=1,rg=Jr.slice.call(arguments,1),un=Object.create(this.lexer),Ns={yy:{}};for(var Yo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Yo)&&(Ns.yy[Yo]=this.yy[Yo]);un.setInput(Lr,Ns.yy),Ns.yy.lexer=un,Ns.yy.parser=this,typeof un.yylloc>"u"&&(un.yylloc={});var Xo=un.yylloc;Jr.push(Xo);var ng=un.options&&un.options.ranges;typeof Ns.yy.parseError=="function"?this.parseError=Ns.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var sg=function(){var Zs;return Zs=un.lex()||Gu,typeof Zs!="number"&&(Zs=Fr.symbols_[Zs]||Zs),Zs},wn,Os,Cn,Qo,Qs={},ui,Wn,Ju,hi;;){if(Os=Br[Br.length-1],this.defaultActions[Os]?Cn=this.defaultActions[Os]:((wn===null||typeof wn>"u")&&(wn=sg()),Cn=pr[Os]&&pr[Os][wn]),typeof Cn>"u"||!Cn.length||!Cn[0]){var Zo="";hi=[];for(ui in pr[Os])this.terminals_[ui]&&ui>ci&&hi.push("'"+this.terminals_[ui]+"'");un.showPosition?Zo="Parse error on line "+(fr+1)+`:
`+un.showPosition()+`
Expecting `+hi.join(", ")+", got '"+(this.terminals_[wn]||wn)+"'":Zo="Parse error on line "+(fr+1)+": Unexpected "+(wn==Gu?"end of input":"'"+(this.terminals_[wn]||wn)+"'"),this.parseError(Zo,{text:un.match,token:this.terminals_[wn]||wn,line:un.yylineno,loc:Xo,expected:hi})}if(Cn[0]instanceof Array&&Cn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Os+", token: "+wn);switch(Cn[0]){case 1:Br.push(wn),Cr.push(un.yytext),Jr.push(un.yylloc),Br.push(Cn[1]),wn=null,li=un.yyleng,Xs=un.yytext,fr=un.yylineno,Xo=un.yylloc;break;case 2:if(Wn=this.productions_[Cn[1]][1],Qs.$=Cr[Cr.length-Wn],Qs._$={first_line:Jr[Jr.length-(Wn||1)].first_line,last_line:Jr[Jr.length-1].last_line,first_column:Jr[Jr.length-(Wn||1)].first_column,last_column:Jr[Jr.length-1].last_column},ng&&(Qs._$.range=[Jr[Jr.length-(Wn||1)].range[0],Jr[Jr.length-1].range[1]]),Qo=this.performAction.apply(Qs,[Xs,li,fr,Ns.yy,Cn[1],Cr,Jr].concat(rg)),typeof Qo<"u")return Qo;Wn&&(Br=Br.slice(0,-1*Wn*2),Cr=Cr.slice(0,-1*Wn),Jr=Jr.slice(0,-1*Wn)),Br.push(this.productions_[Cn[1]][0]),Cr.push(Qs.$),Jr.push(Qs._$),Ju=pr[Br[Br.length-2]][Br[Br.length-1]],Br.push(Ju);break;case 3:return!0}}return!0}},tg=function(){var bs={EOF:1,parseError:function(Fr,Br){if(this.yy.parser)this.yy.parser.parseError(Fr,Br);else throw new Error(Fr)},setInput:function(Lr,Fr){return this.yy=Fr||this.yy||{},this._input=Lr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Lr=this._input[0];this.yytext+=Lr,this.yyleng++,this.offset++,this.match+=Lr,this.matched+=Lr;var Fr=Lr.match(/(?:\r\n?|\n).*/g);return Fr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Lr},unput:function(Lr){var Fr=Lr.length,Br=Lr.split(/(?:\r\n?|\n)/g);this._input=Lr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Fr),this.offset-=Fr;var Cr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Br.length-1&&(this.yylineno-=Br.length-1);var Jr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Br?(Br.length===Cr.length?this.yylloc.first_column:0)+Cr[Cr.length-Br.length].length-Br[0].length:this.yylloc.first_column-Fr},this.options.ranges&&(this.yylloc.range=[Jr[0],Jr[0]+this.yyleng-Fr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Lr){this.unput(this.match.slice(Lr))},pastInput:function(){var Lr=this.matched.substr(0,this.matched.length-this.match.length);return(Lr.length>20?"...":"")+Lr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Lr=this.match;return Lr.length<20&&(Lr+=this._input.substr(0,20-Lr.length)),(Lr.substr(0,20)+(Lr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Lr=this.pastInput(),Fr=new Array(Lr.length+1).join("-");return Lr+this.upcomingInput()+`
`+Fr+"^"},test_match:function(Lr,Fr){var Br,Cr,Jr;if(this.options.backtrack_lexer&&(Jr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Jr.yylloc.range=this.yylloc.range.slice(0))),Cr=Lr[0].match(/(?:\r\n?|\n).*/g),Cr&&(this.yylineno+=Cr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Cr?Cr[Cr.length-1].length-Cr[Cr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Lr[0].length},this.yytext+=Lr[0],this.match+=Lr[0],this.matches=Lr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Lr[0].length),this.matched+=Lr[0],Br=this.performAction.call(this,this.yy,this,Fr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Br)return Br;if(this._backtrack){for(var pr in Jr)this[pr]=Jr[pr];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Lr,Fr,Br,Cr;this._more||(this.yytext="",this.match="");for(var Jr=this._currentRules(),pr=0;pr<Jr.length;pr++)if(Br=this._input.match(this.rules[Jr[pr]]),Br&&(!Fr||Br[0].length>Fr[0].length)){if(Fr=Br,Cr=pr,this.options.backtrack_lexer){if(Lr=this.test_match(Br,Jr[pr]),Lr!==!1)return Lr;if(this._backtrack){Fr=!1;continue}else return!1}else if(!this.options.flex)break}return Fr?(Lr=this.test_match(Fr,Jr[Cr]),Lr!==!1?Lr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Fr=this.next();return Fr||this.lex()},begin:function(Fr){this.conditionStack.push(Fr)},popState:function(){var Fr=this.conditionStack.length-1;return Fr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Fr){return Fr=this.conditionStack.length-1-Math.abs(Fr||0),Fr>=0?this.conditionStack[Fr]:"INITIAL"},pushState:function(Fr){this.begin(Fr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Fr,Br,Cr,Jr){function pr(Xs,fr){return Br.yytext=Br.yytext.substring(Xs,Br.yyleng-fr+Xs)}switch(Cr){case 0:if(Br.yytext.slice(-2)==="\\\\"?(pr(0,1),this.begin("mu")):Br.yytext.slice(-1)==="\\"?(pr(0,1),this.begin("emu")):this.begin("mu"),Br.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(pr(5,9),18);case 5:return 15;case 6:return this.popState(),14;case 7:return 64;case 8:return 67;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 56;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 52;case 20:return 48;case 21:this.unput(Br.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 72;case 25:return 71;case 26:return 71;case 27:return 86;case 28:break;case 29:return this.popState(),55;case 30:return this.popState(),33;case 31:return Br.yytext=pr(1,2).replace(/\\"/g,'"'),79;case 32:return Br.yytext=pr(1,2).replace(/\\'/g,"'"),79;case 33:return 84;case 34:return 81;case 35:return 81;case 36:return 82;case 37:return 83;case 38:return 80;case 39:return 74;case 40:return 76;case 41:return 71;case 42:return Br.yytext=Br.yytext.replace(/\\([\\\]])/g,"$1"),71;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return bs}();Wo.lexer=tg;function Ko(){this.yy={}}return Ko.prototype=Wo,Wo.Parser=Ko,new Ko}();function Ip(r){return new sn().accept(r)}function sn(){this.padding=0}sn.prototype=new Hs,sn.prototype.pad=function(r){for(var e="",s=0,a=this.padding;s<a;s++)e+="  ";return e+=r+`
`,e},sn.prototype.Program=function(r){var e="",s=r.body,a,i;if(r.blockParams){var er="BLOCK PARAMS: [";for(a=0,i=r.blockParams.length;a<i;a++)er+=" "+r.blockParams[a];er+=" ]",e+=this.pad(er)}for(a=0,i=s.length;a<i;a++)e+=this.accept(s[a]);return this.padding--,e},sn.prototype.MustacheStatement=function(r){return this.pad("{{ "+this.SubExpression(r)+" }}")},sn.prototype.Decorator=function(r){return this.pad("{{ DIRECTIVE "+this.SubExpression(r)+" }}")},sn.prototype.BlockStatement=sn.prototype.DecoratorBlock=function(r){var e="";return e+=this.pad((r.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,e+=this.pad(this.SubExpression(r)),r.program&&(e+=this.pad("PROGRAM:"),this.padding++,e+=this.accept(r.program),this.padding--),r.inverse&&(r.program&&this.padding++,e+=this.pad("{{^}}"),this.padding++,e+=this.accept(r.inverse),this.padding--,r.program&&this.padding--),this.padding--,e},sn.prototype.PartialStatement=function(r){var e="PARTIAL:"+r.name.original;return r.params[0]&&(e+=" "+this.accept(r.params[0])),r.hash&&(e+=" "+this.accept(r.hash)),this.pad("{{> "+e+" }}")},sn.prototype.PartialBlockStatement=function(r){var e="PARTIAL BLOCK:"+r.name.original;return r.params[0]&&(e+=" "+this.accept(r.params[0])),r.hash&&(e+=" "+this.accept(r.hash)),e+=" "+this.pad("PROGRAM:"),this.padding++,e+=this.accept(r.program),this.padding--,this.pad("{{> "+e+" }}")},sn.prototype.ContentStatement=function(r){return this.pad("CONTENT[ '"+r.value+"' ]")},sn.prototype.CommentStatement=function(r){return this.pad("{{! '"+r.value+"' }}")},sn.prototype.SubExpression=function(r){for(var e=r.params,s=[],a,i=0,er=e.length;i<er;i++)s.push(this.accept(e[i]));return e="["+s.join(", ")+"]",a=r.hash?" "+this.accept(r.hash):"",this.accept(r.path)+" "+e+a},sn.prototype.PathExpression=function(r){var e=r.parts.join("/");return(r.data?"@":"")+"PATH:"+e},sn.prototype.StringLiteral=function(r){return'"'+r.value+'"'},sn.prototype.NumberLiteral=function(r){return"NUMBER{"+r.value+"}"},sn.prototype.BooleanLiteral=function(r){return"BOOLEAN{"+r.value+"}"},sn.prototype.UndefinedLiteral=function(){return"UNDEFINED"},sn.prototype.NullLiteral=function(){return"NULL"},sn.prototype.Hash=function(r){for(var e=r.pairs,s=[],a=0,i=e.length;a<i;a++)s.push(this.accept(e[a]));return"HASH{"+s.join(", ")+"}"},sn.prototype.HashPair=function(r){return r.key+"="+this.accept(r.value)};function $i(r,e){if(e=e.path?e.path.original:e,r.path.original!==e){var s={loc:r.path.loc};throw new Un(r.path.original+" doesn't match "+e,s)}}function Wl(r,e){this.source=r,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Dp(r){return/^\[.*\]$/.test(r)?r.substring(1,r.length-1):r}function Hp(r,e){return{open:r.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function Fp(r){return r.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Mp(r,e,s){s=this.locInfo(s);for(var a=r?"@":"",i=[],er=0,nr=0,sr=e.length;nr<sr;nr++){var lr=e[nr].part,hr=e[nr].original!==lr;if(a+=(e[nr].separator||"")+lr,!hr&&(lr===".."||lr==="."||lr==="this")){if(i.length>0)throw new Un("Invalid path: "+a,{loc:s});lr===".."&&er++}else i.push(lr)}return{type:"PathExpression",data:r,depth:er,parts:i,original:a,loc:s}}function Rp(r,e,s,a,i,er){var nr=a.charAt(3)||a.charAt(2),sr=nr!=="{"&&nr!=="&",lr=/\*/.test(a);return{type:lr?"Decorator":"MustacheStatement",path:r,params:e,hash:s,escaped:sr,strip:i,loc:this.locInfo(er)}}function $p(r,e,s,a){$i(r,s),a=this.locInfo(a);var i={type:"Program",body:e,strip:{},loc:a};return{type:"BlockStatement",path:r.path,params:r.params,hash:r.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:a}}function Vp(r,e,s,a,i,er){a&&a.path&&$i(r,a);var nr=/\*/.test(r.open);e.blockParams=r.blockParams;var sr,lr;if(s){if(nr)throw new Un("Unexpected inverse block on decorator",s);s.chain&&(s.program.body[0].closeStrip=a.strip),lr=s.strip,sr=s.program}return i&&(i=sr,sr=e,e=i),{type:nr?"DecoratorBlock":"BlockStatement",path:r.path,params:r.params,hash:r.hash,program:e,inverse:sr,openStrip:r.strip,inverseStrip:lr,closeStrip:a&&a.strip,loc:this.locInfo(er)}}function Up(r,e){if(!e&&r.length){var s=r[0].loc,a=r[r.length-1].loc;s&&a&&(e={source:s.source,start:{line:s.start.line,column:s.start.column},end:{line:a.end.line,column:a.end.column}})}return{type:"Program",body:r,strip:{},loc:e}}function jp(r,e,s,a){return $i(r,s),{type:"PartialBlockStatement",name:r.path,params:r.params,hash:r.hash,program:e,openStrip:r.strip,closeStrip:s&&s.strip,loc:this.locInfo(a)}}const Vi=Object.defineProperty({__proto__:null,SourceLocation:Wl,id:Dp,prepareBlock:Vp,prepareMustache:Rp,preparePartialBlock:jp,preparePath:Mp,prepareProgram:Up,prepareRawBlock:$p,stripComment:Fp,stripFlags:Hp},Symbol.toStringTag,{value:"Module"});var Kl={};for(var Ui in Vi)Object.prototype.hasOwnProperty.call(Vi,Ui)&&(Kl[Ui]=Vi[Ui]);function Da(r,e){if(r.type==="Program")return r;Ia.yy=Kl,Ia.yy.locInfo=function(a){return new Wl(e&&e.srcName,a)};var s=Ia.parse(r);return s}function ji(r,e){var s=Da(r,e),a=new Ln(e);return a.accept(s)}const zp=Object.defineProperty({__proto__:null,Exception:Un,PrintVisitor:sn,Visitor:Hs,WhitespaceControl:Ln,parse:ji,parseWithoutProcessing:Da,parser:Ia,print:Ip},Symbol.toStringTag,{value:"Module"});var zi={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},qp=/^#[xX]([A-Fa-f0-9]+)$/,Gp=/^#([0-9]+)$/,Jp=/^([A-Za-z0-9]+)$/,Ha=function(){function r(e){this.named=e}return r.prototype.parse=function(e){if(e){var s=e.match(qp);if(s)return String.fromCharCode(parseInt(s[1],16));if(s=e.match(Gp),s)return String.fromCharCode(parseInt(s[1],10));if(s=e.match(Jp),s)return this.named[s[1]]}},r}(),Wp=/[\t\n\f ]/,Kp=/[A-Za-z]/,Yp=/\r\n?/g;function dn(r){return Wp.test(r)}function Yl(r){return Kp.test(r)}function Xp(r){return r.replace(Yp,`
`)}var qi=function(){function r(e,s,a){a===void 0&&(a="precompile"),this.delegate=e,this.entityParser=s,this.mode=a,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var i=this.peek();if(i==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&i===`
`){var er=this.tagNameBuffer.toLowerCase();(er==="pre"||er==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var i=this.peek(),er=this.tagNameBuffer;i==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):i==="&"&&er!=="script"&&er!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(i))},tagOpen:function(){var i=this.consume();i==="!"?this.transitionTo("markupDeclarationOpen"):i==="/"?this.transitionTo("endTagOpen"):(i==="@"||i===":"||Yl(i))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(i))},markupDeclarationOpen:function(){var i=this.consume();if(i==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var er=i.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();er==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var i=this.consume();dn(i)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var i=this.consume();dn(i)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase()))},doctypeName:function(){var i=this.consume();dn(i)?this.transitionTo("afterDoctypeName"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase())},afterDoctypeName:function(){var i=this.consume();if(!dn(i))if(i===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var er=i.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),nr=er.toUpperCase()==="PUBLIC",sr=er.toUpperCase()==="SYSTEM";(nr||sr)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),nr?this.transitionTo("afterDoctypePublicKeyword"):sr&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var i=this.peek();dn(i)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):i==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):i==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):i===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},doctypePublicIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},afterDoctypePublicIdentifier:function(){var i=this.consume();dn(i)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var i=this.consume();dn(i)||(i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},doctypeSystemIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},afterDoctypeSystemIdentifier:function(){var i=this.consume();dn(i)||i===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var i=this.consume();i==="-"?this.transitionTo("commentStartDash"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(i),this.transitionTo("comment"))},commentStartDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var i=this.consume();i==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(i)},commentEndDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+i),this.transitionTo("comment"))},commentEnd:function(){var i=this.consume();i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+i),this.transitionTo("comment"))},tagName:function(){var i=this.consume();dn(i)?this.transitionTo("beforeAttributeName"):i==="/"?this.transitionTo("selfClosingStartTag"):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(i)},endTagName:function(){var i=this.consume();dn(i)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):i==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(i)},beforeAttributeName:function(){var i=this.peek();if(dn(i)){this.consume();return}else i==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var i=this.peek();dn(i)?(this.transitionTo("afterAttributeName"),this.consume()):i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==='"'||i==="'"||i==="<"?(this.delegate.reportSyntaxError(i+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(i)):(this.consume(),this.delegate.appendToAttributeName(i))},afterAttributeName:function(){var i=this.peek();if(dn(i)){this.consume();return}else i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i))},beforeAttributeValue:function(){var i=this.peek();dn(i)?this.consume():i==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(i))},attributeValueDoubleQuoted:function(){var i=this.consume();i==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueSingleQuoted:function(){var i=this.consume();i==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueUnquoted:function(){var i=this.peek();dn(i)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):i===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(i))},afterAttributeValueQuoted:function(){var i=this.peek();dn(i)?(this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var i=this.peek();i===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var i=this.consume();(i==="@"||i===":"||Yl(i))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(i))}},this.reset()}return r.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},r.prototype.transitionTo=function(e){this.state=e},r.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},r.prototype.tokenizePart=function(e){for(this.input+=Xp(e);this.index<this.input.length;){var s=this.states[this.state];if(s!==void 0)s.call(this);else throw new Error("unhandled state "+this.state)}},r.prototype.tokenizeEOF=function(){this.flushData()},r.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},r.prototype.peek=function(){return this.input.charAt(this.index)},r.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},r.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var s=this.input.slice(this.index,e),a=this.entityParser.parse(s);if(a){for(var i=s.length;i;)this.consume(),i--;return this.consume(),a}}},r.prototype.markTagStart=function(){this.delegate.tagOpen()},r.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},r.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},r}(),Xl=function(){function r(e,s){s===void 0&&(s={}),this.options=s,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new qi(this,e,s.mode),this._currentAttribute=void 0}return r.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},r.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},r.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},r.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},r.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var s=0;s<arguments.length;s++)if(e.type===arguments[s])return e;throw new Error("token type was unexpectedly "+e.type)},r.prototype.push=function(e){this.token=e,this.tokens.push(e)},r.prototype.currentAttribute=function(){return this._currentAttribute},r.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},r.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},r.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},r.prototype.appendToDoctypePublicIdentifier=function(e){var s=this.current("Doctype");s.publicIdentifier===void 0?s.publicIdentifier=e:s.publicIdentifier+=e},r.prototype.appendToDoctypeSystemIdentifier=function(e){var s=this.current("Doctype");s.systemIdentifier===void 0?s.systemIdentifier=e:s.systemIdentifier+=e},r.prototype.endDoctype=function(){this.addLocInfo()},r.prototype.beginData=function(){this.push({type:"Chars",chars:""})},r.prototype.appendToData=function(e){this.current("Chars").chars+=e},r.prototype.finishData=function(){this.addLocInfo()},r.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},r.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},r.prototype.finishComment=function(){this.addLocInfo()},r.prototype.tagOpen=function(){},r.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},r.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},r.prototype.finishTag=function(){this.addLocInfo()},r.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},r.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},r.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},r.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},r.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},r.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},r.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},r.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},r}();function Qp(r,e){var s=new Xl(new Ha(zi),e);return s.tokenize(r)}const Zp=Object.defineProperty({__proto__:null,EntityParser:Ha,EventedTokenizer:qi,HTML5NamedCharRefs:zi,Tokenizer:Xl,tokenize:Qp},Symbol.toStringTag,{value:"Module"});var us=function(r){return r[r.NBSP=160]="NBSP",r[r.QUOT=34]="QUOT",r[r.LT=60]="LT",r[r.GT=62]="GT",r[r.AMP=38]="AMP",r}(us||{});const Ql=/["&\xA0]/u,em=new RegExp(Ql.source,"gu"),Zl=/[&<>\xA0]/u,tm=new RegExp(Zl.source,"gu");function rm(r){switch(r.charCodeAt(0)){case us.NBSP:return"&nbsp;";case us.QUOT:return"&quot;";case us.AMP:return"&amp;";default:return r}}function nm(r){switch(r.charCodeAt(0)){case us.NBSP:return"&nbsp;";case us.AMP:return"&amp;";case us.LT:return"&lt;";case us.GT:return"&gt;";default:return r}}function ec(r,e){return r.loc.isInvisible||e.loc.isInvisible?0:r.loc.startPosition.line<e.loc.startPosition.line||r.loc.startPosition.line===e.loc.startPosition.line&&r.loc.startPosition.column<e.loc.startPosition.column?-1:r.loc.startPosition.line===e.loc.startPosition.line&&r.loc.startPosition.column===e.loc.startPosition.column?0:1}const Fa=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);function sm(){return[...Fa]}const am=/^\S/u;function Gi(r){return Fa.has(r.toLowerCase())&&r[0]?.toLowerCase()===r[0]}class Ji{buffer="";options;constructor(e){this.options=e}handledByOverride(e,s=!1){if(this.options.override!==void 0){let a=this.options.override(e,this.options);if(typeof a=="string")return s&&am.test(a)&&(a=` ${a}`),this.buffer+=a,!0}return!1}Node(e){switch(e.type){case"MustacheStatement":case"BlockStatement":case"MustacheCommentStatement":case"CommentStatement":case"TextNode":case"ElementNode":case"AttrNode":case"Block":case"Template":return this.TopLevelStatement(e);case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":case"PathExpression":case"SubExpression":return this.Expression(e);case"ConcatStatement":return this.ConcatStatement(e);case"Hash":return this.Hash(e);case"HashPair":return this.HashPair(e);case"ElementModifierStatement":return this.ElementModifierStatement(e)}}Expression(e){switch(e.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return this.Literal(e);case"PathExpression":return this.PathExpression(e);case"SubExpression":return this.SubExpression(e)}}Literal(e){switch(e.type){case"StringLiteral":return this.StringLiteral(e);case"BooleanLiteral":return this.BooleanLiteral(e);case"NumberLiteral":return this.NumberLiteral(e);case"UndefinedLiteral":return this.UndefinedLiteral(e);case"NullLiteral":return this.NullLiteral(e)}}TopLevelStatement(e){switch(e.type){case"MustacheStatement":return this.MustacheStatement(e);case"BlockStatement":return this.BlockStatement(e);case"MustacheCommentStatement":return this.MustacheCommentStatement(e);case"CommentStatement":return this.CommentStatement(e);case"TextNode":return this.TextNode(e);case"ElementNode":return this.ElementNode(e);case"Block":return this.Block(e);case"Template":return this.Template(e);case"AttrNode":return this.AttrNode(e)}}Template(e){this.TopLevelStatements(e.body)}Block(e){e.chained&&(e.body[0].chained=!0),this.handledByOverride(e)||this.TopLevelStatements(e.body)}TopLevelStatements(e){e.forEach(s=>this.TopLevelStatement(s))}ElementNode(e){this.handledByOverride(e)||(this.OpenElementNode(e),this.TopLevelStatements(e.children),this.CloseElementNode(e))}OpenElementNode(e){this.buffer+=`<${e.tag}`;const s=[...e.attributes,...e.modifiers,...e.comments].sort(ec);for(const a of s)switch(this.buffer+=" ",a.type){case"AttrNode":this.AttrNode(a);break;case"ElementModifierStatement":this.ElementModifierStatement(a);break;case"MustacheCommentStatement":this.MustacheCommentStatement(a)}e.blockParams.length&&this.BlockParams(e.blockParams),e.selfClosing&&(this.buffer+=" /"),this.buffer+=">"}CloseElementNode(e){e.selfClosing||Gi(e.tag)||(this.buffer+=`</${e.tag}>`)}AttrNode(e){if(this.handledByOverride(e))return;let{name:s,value:a}=e;this.buffer+=s,(a.type!=="TextNode"||a.chars.length>0)&&(this.buffer+="=",this.AttrNodeValue(a))}AttrNodeValue(e){e.type==="TextNode"?(this.buffer+='"',this.TextNode(e,!0),this.buffer+='"'):this.Node(e)}TextNode(e,s){var a;this.handledByOverride(e)||(this.options.entityEncoding==="raw"?this.buffer+=e.chars:this.buffer+=s?(a=e.chars,Ql.test(a)?a.replace(em,rm):a):function(i){return Zl.test(i)?i.replace(tm,nm):i}(e.chars))}MustacheStatement(e){this.handledByOverride(e)||(this.buffer+=e.trusting?"{{{":"{{",e.strip.open&&(this.buffer+="~"),this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),e.strip.close&&(this.buffer+="~"),this.buffer+=e.trusting?"}}}":"}}")}BlockStatement(e){this.handledByOverride(e)||(e.chained?(this.buffer+=e.inverseStrip.open?"{{~":"{{",this.buffer+="else "):this.buffer+=e.openStrip.open?"{{~#":"{{#",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),e.program.blockParams.length&&this.BlockParams(e.program.blockParams),e.chained?this.buffer+=e.inverseStrip.close?"~}}":"}}":this.buffer+=e.openStrip.close?"~}}":"}}",this.Block(e.program),e.inverse&&(e.inverse.chained||(this.buffer+=e.inverseStrip.open?"{{~":"{{",this.buffer+="else",this.buffer+=e.inverseStrip.close?"~}}":"}}"),this.Block(e.inverse)),e.chained||(this.buffer+=e.closeStrip.open?"{{~/":"{{/",this.Expression(e.path),this.buffer+=e.closeStrip.close?"~}}":"}}"))}BlockParams(e){this.buffer+=` as |${e.join(" ")}|`}ConcatStatement(e){this.handledByOverride(e)||(this.buffer+='"',e.parts.forEach(s=>{s.type==="TextNode"?this.TextNode(s,!0):this.Node(s)}),this.buffer+='"')}MustacheCommentStatement(e){this.handledByOverride(e)||(this.buffer+=`{{!--${e.value}--}}`)}ElementModifierStatement(e){this.handledByOverride(e)||(this.buffer+="{{",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),this.buffer+="}}")}CommentStatement(e){this.handledByOverride(e)||(this.buffer+=`<!--${e.value}-->`)}PathExpression(e){this.handledByOverride(e)||(this.buffer+=e.original)}SubExpression(e){this.handledByOverride(e)||(this.buffer+="(",this.Expression(e.path),this.Params(e.params),this.Hash(e.hash),this.buffer+=")")}Params(e){e.length&&e.forEach(s=>{this.buffer+=" ",this.Expression(s)})}Hash(e){this.handledByOverride(e,!0)||e.pairs.forEach(s=>{this.buffer+=" ",this.HashPair(s)})}HashPair(e){this.handledByOverride(e)||(this.buffer+=e.key,this.buffer+="=",this.Node(e.value))}StringLiteral(e){this.handledByOverride(e)||(this.buffer+=JSON.stringify(e.value))}BooleanLiteral(e){this.handledByOverride(e)||(this.buffer+=e.value)}NumberLiteral(e){this.handledByOverride(e)||(this.buffer+=e.value)}UndefinedLiteral(e){this.handledByOverride(e)||(this.buffer+="undefined")}NullLiteral(e){this.handledByOverride(e)||(this.buffer+="null")}print(e){let{options:s}=this;if(s.override){let a=s.override(e,s);if(a!==void 0)return a}return this.buffer="",this.Node(e),this.buffer}}function Fs(r,e={entityEncoding:"transformed"}){return r?new Ji(e).print(r):""}function Wi(r,e){return r in la&&(e===void 0||la[r].includes(e))}const la={action:["Call","Modifier"],component:["Call","Append","Block"],debugger:["Append"],"each-in":["Block"],each:["Block"],"has-block-params":["Call","Append"],"has-block":["Call","Append"],helper:["Call","Append"],if:["Call","Append","Block"],"in-element":["Block"],let:["Block"],log:["Call","Append"],modifier:["Call","Modifier"],mount:["Append"],mut:["Call","Append"],outlet:["Append"],readonly:["Call","Append"],unbound:["Call","Append"],unless:["Call","Append","Block"],yield:["Append"]},jn=Object.freeze({line:1,column:0}),tc=Object.freeze({source:"(synthetic)",start:jn,end:jn}),Ms=Object.freeze({source:"(nonexistent)",start:jn,end:jn}),ps=Object.freeze({source:"(broken)",start:jn,end:jn});let $r=function(r){return r.CharPosition="CharPosition",r.HbsPosition="HbsPosition",r.InternalsSynthetic="InternalsSynthetic",r.NonExistent="NonExistent",r.Broken="Broken",r}({});class im{_whens;constructor(e){this._whens=e}first(e){for(const s of this._whens){const a=s.match(e);if(en(a))return a[0]}return null}}class rc{_map=new Map;get(e,s){let a=this._map.get(e);return a||(a=s(),this._map.set(e,a),a)}add(e,s){this._map.set(e,s)}match(e){const s=function(nr){switch(nr){case $r.Broken:case $r.InternalsSynthetic:case $r.NonExistent:return"IS_INVISIBLE";default:return nr}}(e),a=[],i=this._map.get(s),er=this._map.get("MATCH_ANY");return i&&a.push(i),er&&a.push(er),a}}function nc(r){return r(new om).check()}class om{_whens=new rc;check(){return(e,s)=>this.matchFor(e.kind,s.kind)(e,s)}matchFor(e,s){const a=this._whens.match(e);Dr(en(a),`no match defined for (${e}, ${s}) and no AnyMatch defined either`);const i=new im(a).first(s);return Dr(i!==null,`no match defined for (${e}, ${s}) and no AnyMatch defined either`),i}when(e,s,a){return this._whens.get(e,()=>new rc).add(s,a),this}}class fn{static synthetic(e){let s=tn.synthetic(e);return new fn({loc:s,chars:e})}static load(e,s){return new fn({loc:tn.load(e,s[1]),chars:s[0]})}chars;loc;constructor(e){this.loc=e.loc,this.chars=e.chars}getString(){return this.chars}serialize(){return[this.chars,this.loc.serialize()]}}class tn{static get NON_EXISTENT(){return new As($r.NonExistent,Ms).wrap()}static load(e,s){return typeof s=="number"?tn.forCharPositions(e,s,s):typeof s=="string"?tn.synthetic(s):Array.isArray(s)?tn.forCharPositions(e,s[0],s[1]):s===$r.NonExistent?tn.NON_EXISTENT:s===$r.Broken?tn.broken(ps):void Dn(s)}static forHbsLoc(e,s){const a=new Rs(e,s.start),i=new Rs(e,s.end);return new Yi(e,{start:a,end:i},s).wrap()}static forCharPositions(e,s,a){const i=new ca(e,s),er=new ca(e,a);return new Ki(e,{start:i,end:er}).wrap()}static synthetic(e){return new As($r.InternalsSynthetic,Ms,e).wrap()}static broken(e=ps){return new As($r.Broken,e).wrap()}isInvisible;constructor(e){this.data=e,this.isInvisible=e.kind!==$r.CharPosition&&e.kind!==$r.HbsPosition}getStart(){return this.data.getStart().wrap()}getEnd(){return this.data.getEnd().wrap()}get loc(){const e=this.data.toHbsSpan();return e===null?ps:e.toHbsLoc()}get module(){return this.data.getModule()}get startPosition(){return this.loc.start}get endPosition(){return this.loc.end}toJSON(){return this.loc}withStart(e){return Hn(e.data,this.data.getEnd())}withEnd(e){return Hn(this.data.getStart(),e.data)}asString(){return this.data.asString()}toSlice(e){const s=this.data.asString();return e!==void 0&&s!==e&&console.warn(`unexpectedly found ${JSON.stringify(s)} when slicing source, but expected ${JSON.stringify(e)}`),new fn({loc:this,chars:e||s})}get start(){return this.loc.start}set start(e){this.data.locDidUpdate({start:e})}get end(){return this.loc.end}set end(e){this.data.locDidUpdate({end:e})}get source(){return this.module}collapse(e){switch(e){case"start":return this.getStart().collapsed();case"end":return this.getEnd().collapsed()}}extend(e){return Hn(this.data.getStart(),e.data.getEnd())}serialize(){return this.data.serialize()}slice({skipStart:e=0,skipEnd:s=0}){return Hn(this.getStart().move(e).data,this.getEnd().move(-s).data)}sliceStartChars({skipStart:e=0,chars:s}){return Hn(this.getStart().move(e).data,this.getStart().move(e+s).data)}sliceEndChars({skipEnd:e=0,chars:s}){return Hn(this.getEnd().move(e-s).data,this.getStart().move(-e).data)}}class Ki{kind=$r.CharPosition;_locPosSpan=null;constructor(e,s){this.source=e,this.charPositions=s}wrap(){return new tn(this)}asString(){return this.source.slice(this.charPositions.start.charPos,this.charPositions.end.charPos)}getModule(){return this.source.module}getStart(){return this.charPositions.start}getEnd(){return this.charPositions.end}locDidUpdate(){}toHbsSpan(){let e=this._locPosSpan;if(e===null){const s=this.charPositions.start.toHbsPos(),a=this.charPositions.end.toHbsPos();e=this._locPosSpan=s===null||a===null?ms:new Yi(this.source,{start:s,end:a})}return e===ms?null:e}serialize(){const{start:{charPos:e},end:{charPos:s}}=this.charPositions;return e===s?e:[e,s]}toCharPosSpan(){return this}}class Yi{kind=$r.HbsPosition;_charPosSpan=null;_providedHbsLoc;constructor(e,s,a=null){this.source=e,this.hbsPositions=s,this._providedHbsLoc=a}serialize(){const e=this.toCharPosSpan();return e===null?$r.Broken:e.wrap().serialize()}wrap(){return new tn(this)}updateProvided(e,s){this._providedHbsLoc&&(this._providedHbsLoc[s]=e),this._charPosSpan=null,this._providedHbsLoc={start:e,end:e}}locDidUpdate({start:e,end:s}){e!==void 0&&(this.updateProvided(e,"start"),this.hbsPositions.start=new Rs(this.source,e,null)),s!==void 0&&(this.updateProvided(s,"end"),this.hbsPositions.end=new Rs(this.source,s,null))}asString(){const e=this.toCharPosSpan();return e===null?"":e.asString()}getModule(){return this.source.module}getStart(){return this.hbsPositions.start}getEnd(){return this.hbsPositions.end}toHbsLoc(){return{start:this.hbsPositions.start.hbsPos,end:this.hbsPositions.end.hbsPos}}toHbsSpan(){return this}toCharPosSpan(){let e=this._charPosSpan;if(e===null){const s=this.hbsPositions.start.toCharPos(),a=this.hbsPositions.end.toCharPos();if(!s||!a)return e=this._charPosSpan=ms,null;e=this._charPosSpan=new Ki(this.source,{start:s,end:a})}return e===ms?null:e}}class As{constructor(e,s,a=null){this.kind=e,this.loc=s,this.string=a}serialize(){switch(this.kind){case $r.Broken:case $r.NonExistent:return this.kind;case $r.InternalsSynthetic:return this.string||""}}wrap(){return new tn(this)}asString(){return this.string||""}locDidUpdate({start:e,end:s}){e!==void 0&&(this.loc.start=e),s!==void 0&&(this.loc.end=s)}getModule(){return"an unknown module"}getStart(){return new Xi(this.kind,this.loc.start)}getEnd(){return new Xi(this.kind,this.loc.end)}toCharPosSpan(){return this}toHbsSpan(){return null}toHbsLoc(){return ps}}const Hn=nc(r=>r.when($r.HbsPosition,$r.HbsPosition,(e,s)=>new Yi(e.source,{start:e,end:s}).wrap()).when($r.CharPosition,$r.CharPosition,(e,s)=>new Ki(e.source,{start:e,end:s}).wrap()).when($r.CharPosition,$r.HbsPosition,(e,s)=>{const a=s.toCharPos();return a===null?new As($r.Broken,ps).wrap():Hn(e,a)}).when($r.HbsPosition,$r.CharPosition,(e,s)=>{const a=e.toCharPos();return a===null?new As($r.Broken,ps).wrap():Hn(a,s)}).when("IS_INVISIBLE","MATCH_ANY",e=>new As(e.kind,ps).wrap()).when("MATCH_ANY","IS_INVISIBLE",(e,s)=>new As(s.kind,ps).wrap())),ms="BROKEN";class ds{static forHbsPos(e,s){return new Rs(e,s,null).wrap()}static broken(e=jn){return new Xi($r.Broken,e).wrap()}constructor(e){this.data=e}get offset(){const e=this.data.toCharPos();return e===null?null:e.offset}eql(e){return lm(this.data,e.data)}until(e){return Hn(this.data,e.data)}move(e){const s=this.data.toCharPos();if(s===null)return ds.broken();{const a=s.offset+e;return s.source.check(a)?new ca(s.source,a).wrap():ds.broken()}}collapsed(){return Hn(this.data,this.data)}toJSON(){return this.data.toJSON()}}class ca{kind=$r.CharPosition;_locPos=null;constructor(e,s){this.source=e,this.charPos=s}toCharPos(){return this}toJSON(){const e=this.toHbsPos();return e===null?jn:e.toJSON()}wrap(){return new ds(this)}get offset(){return this.charPos}toHbsPos(){let e=this._locPos;if(e===null){const s=this.source.hbsPosFor(this.charPos);this._locPos=e=s===null?ms:new Rs(this.source,s,this.charPos)}return e===ms?null:e}}class Rs{kind=$r.HbsPosition;_charPos;constructor(e,s,a=null){this.source=e,this.hbsPos=s,this._charPos=a===null?null:new ca(e,a)}toCharPos(){let e=this._charPos;if(e===null){const s=this.source.charPosFor(this.hbsPos);this._charPos=e=s===null?ms:new ca(this.source,s)}return e===ms?null:e}toJSON(){return this.hbsPos}wrap(){return new ds(this)}toHbsPos(){return this}}class Xi{constructor(e,s){this.kind=e,this.pos=s}toCharPos(){return null}toJSON(){return this.pos}wrap(){return new ds(this)}get offset(){return null}}const lm=nc(r=>r.when($r.HbsPosition,$r.HbsPosition,({hbsPos:e},{hbsPos:s})=>e.column===s.column&&e.line===s.line).when($r.CharPosition,$r.CharPosition,({charPos:e},{charPos:s})=>e===s).when($r.CharPosition,$r.HbsPosition,({offset:e},s)=>e===s.toCharPos()?.offset).when($r.HbsPosition,$r.CharPosition,(e,{offset:s})=>e.toCharPos()?.offset===s).when("MATCH_ANY","MATCH_ANY",()=>!1));class fs{static from(e,s={}){return new fs(e,s.meta?.moduleName)}constructor(e,s="an unknown module"){this.source=e,this.module=s}check(e){return e>=0&&e<=this.source.length}slice(e,s){return this.source.slice(e,s)}offsetFor(e,s){return ds.forHbsPos(this,{line:e,column:s})}spanFor({start:e,end:s}){return tn.forHbsLoc(this,{start:{line:e.line,column:e.column},end:{line:s.line,column:s.column}})}hbsPosFor(e){let s=0,a=0;if(e>this.source.length)return null;for(;;){let i=this.source.indexOf(`
`,a);if(e<=i||i===-1)return{line:s+1,column:e-a};s+=1,a=i+1}}charPosFor(e){let{line:s,column:a}=e,i=this.source.length,er=0,nr=0;for(;nr<i;){let sr=this.source.indexOf(`
`,nr);if(sr===-1&&(sr=this.source.length),er===s-1){if(nr+a>sr)return sr;{let lr=this.hbsPosFor(nr+a);Dr(lr!==null,"the returned offset failed to round-trip"),Dr(lr.line===s,"the round-tripped line didn't match the original line"),Dr(lr.column===a,"the round-tripped column didn't match the original column")}return nr+a}if(sr===-1)return 0;er+=1,nr=sr+1}return i}}class Bn{static range(e,s=tn.NON_EXISTENT){return new Bn(e.map(Ps)).getRangeOffset(s)}_span;constructor(e=[]){this._span=e}add(e){this._span.push(e)}getRangeOffset(e){if(en(this._span)){let s=aa(this._span),a=$n(this._span);return s.extend(a)}return e}}function Ps(r){if(Array.isArray(r)){let e=aa(r),s=$n(r);return Ps(e).extend(Ps(s))}return r instanceof tn?r:r.loc}function Qi(r){return!Array.isArray(r)||r.length!==0}function Ma(r,e){return Qi(r)?Ps(r):e}var ua=Object.freeze({__proto__:null,NON_EXISTENT_LOCATION:Ms,SYNTHETIC_LOCATION:tc,Source:fs,SourceOffset:ds,SourceSlice:fn,SourceSpan:tn,SpanList:Bn,UNKNOWN_POSITION:jn,hasSpan:Qi,loc:Ps,maybeLoc:Ma});function dr(r,e){let{module:s,loc:a}=e,{line:i,column:er}=a.start,nr=e.asString(),sr=nr?`

|
|  ${nr.split(`
`).join(`
|  `)}
|

`:"",lr=new Error(`${r}: ${sr}(error occurred in '${s}' @ line ${i} : column ${er})`);return lr.name="SyntaxError",lr.location=e,lr.code=nr,lr}const sc={Template:["body"],Block:["body"],MustacheStatement:["path","params","hash"],BlockStatement:["path","params","hash","program","inverse"],ElementModifierStatement:["path","params","hash"],CommentStatement:[],MustacheCommentStatement:[],ElementNode:["attributes","modifiers","children","comments"],AttrNode:["value"],TextNode:[],ConcatStatement:["parts"],SubExpression:["path","params","hash"],PathExpression:[],StringLiteral:[],BooleanLiteral:[],NumberLiteral:[],NullLiteral:[],UndefinedLiteral:[],Hash:["pairs"],HashPair:["value"]},Zi=function(){function r(e,s,a,i){let er=Error.call(this,e);this.key=i,this.message=e,this.node=s,this.parent=a,er.stack&&(this.stack=er.stack)}return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}();function eo(r,e,s){return new Zi("Cannot remove a node unless it is part of an array",r,e,s)}function ac(r,e,s){return new Zi("Cannot replace a node with multiple nodes unless it is part of an array",r,e,s)}function ic(r,e){return new Zi("Replacing and removing in key handlers is not yet supported.",r,null,e)}class ha{node;parent;parentKey;constructor(e,s=null,a=null){this.node=e,this.parent=s,this.parentKey=a}get parentNode(){return this.parent?this.parent.node:null}parents(){return{[Symbol.iterator]:()=>new cm(this)}}}class cm{path;constructor(e){this.path=e}next(){return this.path.parent?(this.path=this.path.parent,{done:!1,value:this.path}):{done:!0,value:null}}}function oc(r){return typeof r=="function"?r:r.enter}function lc(r){return typeof r=="function"?void 0:r.exit}function Ra(r,e){let s,a,i,{node:er,parent:nr,parentKey:sr}=e,lr=function(hr,gr){if(hr.Program&&(gr==="Template"&&!hr.Template||gr==="Block"&&!hr.Block))return En(`The 'Program' visitor node is deprecated. Use 'Template' or 'Block' instead (node was '${gr}') `),hr.Program;let vr=hr[gr];return vr!==void 0?vr:hr.All}(r,er.type);if(lr!==void 0&&(s=oc(lr),a=lc(lr)),s!==void 0&&(i=s(er,e)),i!=null){if(JSON.stringify(er)!==JSON.stringify(i))return Array.isArray(i)?(uc(r,i,nr,sr),i):Ra(r,new ha(i,nr,sr))||i;i=void 0}if(i===void 0){let hr=sc[er.type];for(let gr=0;gr<hr.length;gr++)um(r,lr,e,hr[gr]);a!==void 0&&(i=a(er,e))}return i}function cc(r,e,s){r[e]=s}function um(r,e,s,a){let i,er,{node:nr}=s,sr=function(lr,hr){return lr[hr]}(nr,a);if(sr){if(e!==void 0){let lr=function(hr,gr){let vr=typeof hr!="function"?hr.keys:void 0;if(vr===void 0)return;let Or=vr[gr];return Or!==void 0?Or:vr.All}(e,a);lr!==void 0&&(i=oc(lr),er=lc(lr))}if(i!==void 0&&i(nr,a)!==void 0)throw ic(nr,a);if(Array.isArray(sr))uc(r,sr,s,a);else{let lr=Ra(r,new ha(sr,s,a));lr!==void 0&&function(hr,gr,vr,Or){if(Or===null)throw eo(vr,hr,gr);if(Array.isArray(Or)){if(Or.length!==1)throw Or.length===0?eo(vr,hr,gr):ac(vr,hr,gr);cc(hr,gr,Or[0])}else cc(hr,gr,Or)}(nr,a,sr,lr)}if(er!==void 0&&er(nr,a)!==void 0)throw ic(nr,a)}}function uc(r,e,s,a){for(let i=0;i<e.length;i++){let er=Is(e[i]),nr=Ra(r,new ha(er,s,a));nr!==void 0&&(i+=hm(e,i,nr)-1)}}function hm(r,e,s){return s===null?(r.splice(e,1),0):Array.isArray(s)?(r.splice(e,1,...s),s.length):(r.splice(e,1,s),1)}function $a(r,e){Ra(e,new ha(r))}class to{stack=[];constructor(e){this.order=e}visit(e,s){e&&(this.stack.push(e),this.order==="post"?(this.children(e,s),s(e,this)):(s(e,this),this.children(e,s)),this.stack.pop())}children(e,s){switch(e.type){case"Block":case"Template":return void hc(this,e.body,s);case"ElementNode":return void hc(this,e.children,s);case"BlockStatement":return this.visit(e.program,s),void this.visit(e.inverse||null,s);default:return}}}function hc(r,e,s){for(const a of e)r.visit(a,s)}function $s(r,e){(function(s){switch(s.type){case"Block":case"Template":return s.body;case"ElementNode":return s.children}})(r).push(e)}function pc(r){return r.type==="StringLiteral"||r.type==="BooleanLiteral"||r.type==="NumberLiteral"||r.type==="NullLiteral"||r.type==="UndefinedLiteral"}let ro;function no(){return ro||(ro=new fs("","(synthetic)")),ro}function mc(r,e){return Tr.var({name:r,loc:Xr(e||null)})}function gs(r,e){let s=Xr(e||null);if(typeof r!="string"){if("type"in r)return r;{Dr(r.head.indexOf(".")===-1,"builder.path({ head, tail }) should not be called with a head with dots in it");let{head:er,tail:nr}=r;return Tr.path({head:Tr.head({original:er,loc:s.sliceStartChars({chars:er.length})}),tail:nr,loc:Xr(e||null)})}}let{head:a,tail:i}=function(er,nr){let[sr,...lr]=vs(er.split(".")),hr=Tr.head({original:sr,loc:Xr(nr||null)});return Tr.path({head:hr,tail:lr,loc:Xr(nr||null)})}(r,s);return Tr.path({head:a,tail:i,loc:s})}function Va(r,e,s){return Tr.literal({type:r,value:e,loc:Xr(s||null)})}function pa(r=[],e){return Tr.hash({pairs:r,loc:Xr(e||null)})}function dc(r){return r.map(e=>typeof e=="string"?Tr.var({name:e,loc:tn.synthetic(e)}):e)}function fc(r=[],e=[],s=!1,a){return Tr.blockItself({body:r,params:dc(e),chained:s,loc:Xr(a||null)})}function gc(r=[],e=[],s){return Tr.template({body:r,blockParams:e,loc:Xr(s||null)})}function Xr(...r){if(r.length===1){let e=r[0];return e&&typeof e=="object"?tn.forHbsLoc(no(),e):tn.forHbsLoc(no(),tc)}{let[e,s,a,i,er]=r,nr=er?new fs("",er):no();return tn.forHbsLoc(nr,{start:{line:e,column:s},end:{line:a||e,column:i||s}})}}var so={mustache:function(r,e=[],s=pa([]),a=!1,i,er){return Tr.mustache({path:gs(r),params:e,hash:s,trusting:a,strip:er,loc:Xr(i||null)})},block:function(r,e,s,a,i=null,er,nr,sr,lr){let hr,gr=null;return a.type==="Template"?(En("b.program is deprecated. Use b.blockItself instead."),hr=Tr.blockItself({params:dc(a.blockParams),body:a.body,loc:a.loc})):hr=a,i?.type==="Template"?(En("b.program is deprecated. Use b.blockItself instead."),Dr(i.blockParams.length===0,"{{else}} block cannot have block params"),gr=Tr.blockItself({params:[],body:i.body,loc:i.loc})):gr=i,Tr.block({path:gs(r),params:e||[],hash:s||pa([]),defaultBlock:hr,elseBlock:gr,loc:Xr(er||null),openStrip:nr,inverseStrip:sr,closeStrip:lr})},comment:function(r,e){return Tr.comment({value:r,loc:Xr(e||null)})},mustacheComment:function(r,e){return Tr.mustacheComment({value:r,loc:Xr(e||null)})},element:function(r,e={}){let s,a,{attrs:i,blockParams:er,modifiers:nr,comments:sr,children:lr,openTag:hr,closeTag:gr,loc:vr}=e;typeof r=="string"?r.endsWith("/")?(s=gs(r.slice(0,-1)),a=!0):s=gs(r):"type"in r?(Dr(r.type==="PathExpression",`Invalid tag type ${r.type}`),s=r):"path"in r?(Dr(r.path.type==="PathExpression",`Invalid tag type ${r.path.type}`),s=r.path,a=r.selfClosing):(s=gs(r.name),a=r.selfClosing),a&&Dr(gr==null,"Cannot build a self-closing tag with a closeTag source location");let Or=er?.map(Qr=>typeof Qr=="string"?mc(Qr):Qr),Gr=null;return gr?Gr=Xr(gr||null):gr===void 0&&(Gr=a||Gi(s.original)?null:Xr(null)),Tr.element({path:s,selfClosing:a||!1,attributes:i||[],params:Or||[],modifiers:nr||[],comments:sr||[],children:lr||[],openTag:Xr(hr||null),closeTag:Gr,loc:Xr(vr||null)})},elementModifier:function(r,e,s,a){return Tr.elementModifier({path:gs(r),params:e||[],hash:s||pa([]),loc:Xr(a||null)})},attr:function(r,e,s){return Tr.attr({name:r,value:e,loc:Xr(s||null)})},text:function(r="",e){return Tr.text({chars:r,loc:Xr(e||null)})},sexpr:function(r,e=[],s=pa([]),a){return Tr.sexpr({path:gs(r),params:e,hash:s,loc:Xr(a||null)})},concat:function(r,e){if(!en(r))throw new Error("b.concat requires at least one part");return Tr.concat({parts:r,loc:Xr(e||null)})},hash:pa,pair:function(r,e,s){return Tr.pair({key:r,value:e,loc:Xr(s||null)})},literal:Va,program:function(r,e,s){return En("b.program is deprecated. Use b.template or b.blockItself instead."),e&&e.length?fc(r,e,!1,s):gc(r,[],s)},blockItself:fc,template:gc,loc:Xr,pos:function(r,e){return Tr.pos({line:r,column:e})},path:gs,fullPath:function(r,e=[],s){return Tr.path({head:r,tail:e,loc:Xr(s||null)})},head:function(r,e){return Tr.head({original:r,loc:Xr(e||null)})},at:function(r,e){return Tr.atName({name:r,loc:Xr(e||null)})},var:mc,this:function(r){return Tr.this({loc:Xr(r||null)})},string:ao("StringLiteral"),boolean:ao("BooleanLiteral"),number:ao("NumberLiteral"),undefined:()=>Va("UndefinedLiteral",void 0),null:()=>Va("NullLiteral",null)};function ao(r){return function(e,s){return Va(r,e,s)}}const Ua={close:!1,open:!1},Tr=new class{pos({line:r,column:e}){return{line:r,column:e}}blockItself({body:r,params:e,chained:s=!1,loc:a}){return{type:"Block",body:r,params:e,get blockParams(){return this.params.map(i=>i.name)},set blockParams(i){this.params=i.map(er=>Tr.var({name:er,loc:tn.synthetic(er)}))},chained:s,loc:a}}template({body:r,blockParams:e,loc:s}){return{type:"Template",body:r,blockParams:e,loc:s}}mustache({path:r,params:e,hash:s,trusting:a,loc:i,strip:er=Ua}){return function({path:nr,params:sr,hash:lr,trusting:hr,strip:gr,loc:vr}){const Or={type:"MustacheStatement",path:nr,params:sr,hash:lr,trusting:hr,strip:gr,loc:vr};return Object.defineProperty(Or,"escaped",{enumerable:!1,get(){return En("The escaped property on mustache nodes is deprecated, use trusting instead"),!this.trusting},set(Gr){En("The escaped property on mustache nodes is deprecated, use trusting instead"),this.trusting=!Gr}}),Or}({path:r,params:e,hash:s,trusting:a,strip:er,loc:i})}block({path:r,params:e,hash:s,defaultBlock:a,elseBlock:i=null,loc:er,openStrip:nr=Ua,inverseStrip:sr=Ua,closeStrip:lr=Ua}){return{type:"BlockStatement",path:r,params:e,hash:s,program:a,inverse:i,loc:er,openStrip:nr,inverseStrip:sr,closeStrip:lr}}comment({value:r,loc:e}){return{type:"CommentStatement",value:r,loc:e}}mustacheComment({value:r,loc:e}){return{type:"MustacheCommentStatement",value:r,loc:e}}concat({parts:r,loc:e}){return{type:"ConcatStatement",parts:r,loc:e}}element({path:r,selfClosing:e,attributes:s,modifiers:a,params:i,comments:er,children:nr,openTag:sr,closeTag:lr,loc:hr}){let gr=e;return{type:"ElementNode",path:r,attributes:s,modifiers:a,params:i,comments:er,children:nr,openTag:sr,closeTag:lr,loc:hr,get tag(){return this.path.original},set tag(vr){this.path.original=vr},get blockParams(){return this.params.map(vr=>vr.name)},set blockParams(vr){this.params=vr.map(Or=>Tr.var({name:Or,loc:tn.synthetic(Or)}))},get selfClosing(){return gr},set selfClosing(vr){gr=vr,this.closeTag=vr?null:tn.synthetic(`</${this.tag}>`)}}}elementModifier({path:r,params:e,hash:s,loc:a}){return{type:"ElementModifierStatement",path:r,params:e,hash:s,loc:a}}attr({name:r,value:e,loc:s}){return{type:"AttrNode",name:r,value:e,loc:s}}text({chars:r,loc:e}){return{type:"TextNode",chars:r,loc:e}}sexpr({path:r,params:e,hash:s,loc:a}){return{type:"SubExpression",path:r,params:e,hash:s,loc:a}}path({head:r,tail:e,loc:s}){return function({head:a,tail:i,loc:er}){const nr={type:"PathExpression",head:a,tail:i,get original(){return[this.head.original,...this.tail].join(".")},set original(sr){let[lr,...hr]=vs(sr.split("."));this.head=so.head(lr,this.head.loc),this.tail=hr},loc:er};return Object.defineProperty(nr,"parts",{enumerable:!1,get(){En("The parts property on path nodes is deprecated, use head and tail instead");let sr=vs(this.original.split("."));return sr[0]==="this"?sr.shift():sr[0].startsWith("@")&&(sr[0]=sr[0].slice(1)),Object.freeze(sr)},set(sr){En("The parts property on mustache nodes is deprecated, use head and tail instead");let lr=[...sr];lr[0]==="this"||lr[0]?.startsWith("@")||(this.head.type==="ThisHead"?lr.unshift("this"):this.head.type==="AtHead"&&(lr[0]=`@${lr[0]}`)),this.original=lr.join(".")}}),Object.defineProperty(nr,"this",{enumerable:!1,get(){return En("The this property on path nodes is deprecated, use head.type instead"),this.head.type==="ThisHead"}}),Object.defineProperty(nr,"data",{enumerable:!1,get(){return En("The data property on path nodes is deprecated, use head.type instead"),this.head.type==="AtHead"}}),nr}({head:r,tail:e,loc:s})}head({original:r,loc:e}){return r==="this"?this.this({loc:e}):r[0]==="@"?this.atName({name:r,loc:e}):this.var({name:r,loc:e})}this({loc:r}){return{type:"ThisHead",get original(){return"this"},loc:r}}atName({name:r,loc:e}){let s="";const a={type:"AtHead",get name(){return s},set name(i){Dr(i[0]==="@","call builders.at() with a string that starts with '@'"),Dr(i.indexOf(".")===-1,"builder.at() should not be called with a name with dots in it"),s=i},get original(){return this.name},set original(i){this.name=i},loc:e};return a.name=r,a}var({name:r,loc:e}){let s="";const a={type:"VarHead",get name(){return s},set name(i){Dr(i!=="this","You called builders.var() with 'this'. Call builders.this instead"),Dr(i[0]!=="@",`You called builders.var() with '${r}'. Call builders.at('${r}') instead`),Dr(i.indexOf(".")===-1,"builder.var() should not be called with a name with dots in it"),s=i},get original(){return this.name},set original(i){this.name=i},loc:e};return a.name=r,a}hash({pairs:r,loc:e}){return{type:"Hash",pairs:r,loc:e}}pair({key:r,value:e,loc:s}){return{type:"HashPair",key:r,value:e,loc:s}}literal({type:r,value:e,loc:s}){return function({type:a,value:i,loc:er}){const nr={type:a,value:i,loc:er};return Object.defineProperty(nr,"original",{enumerable:!1,get(){return En("The original property on literal nodes is deprecated, use value instead"),this.value},set(sr){En("The original property on literal nodes is deprecated, use value instead"),this.value=sr}}),nr}({type:r,value:e,loc:s})}};class pm{elementStack=[];lines;source;currentAttribute=null;currentNode=null;tokenizer;constructor(e,s=new Ha(zi),a="precompile"){this.source=e,this.lines=e.source.split(/\r\n?|\n/u),this.tokenizer=new qi(this,s,a)}offset(){let{line:e,column:s}=this.tokenizer;return this.source.offsetFor(e,s)}pos({line:e,column:s}){return this.source.offsetFor(e,s)}finish(e){return On({},e,{loc:e.start.until(this.offset())})}get currentAttr(){return Ss(this.currentAttribute,"expected attribute")}get currentTag(){let e=this.currentNode;return Dr(e&&(e.type==="StartTag"||e.type==="EndTag"),"expected tag"),e}get currentStartTag(){let e=this.currentNode;return Dr(e&&e.type==="StartTag","expected start tag"),e}get currentEndTag(){let e=this.currentNode;return Dr(e&&e.type==="EndTag","expected end tag"),e}get currentComment(){let e=this.currentNode;return Dr(e&&e.type==="CommentStatement","expected a comment"),e}get currentData(){let e=this.currentNode;return Dr(e&&e.type==="TextNode","expected a text node"),e}acceptNode(e){return this[e.type](e)}currentElement(){return $n(vs(this.elementStack))}sourceForNode(e,s){let a,i,er,nr=e.loc.start.line-1,sr=nr-1,lr=e.loc.start.column,hr=[];for(s?(i=s.loc.end.line-1,er=s.loc.end.column):(i=e.loc.end.line-1,er=e.loc.end.column);sr<i;)sr++,a=Is(this.lines[sr]),sr===nr?nr===i?hr.push(a.slice(lr,er)):hr.push(a.slice(lr)):sr===i?hr.push(a.slice(0,er)):hr.push(a);return hr.join(`
`)}}class mm extends pm{pendingError=null;parse(e,s){let a=Tr.template({body:[],blockParams:s,loc:this.source.spanFor(e.loc)}),i=this.parseProgram(a,e);return this.pendingError?.eof(i.loc.getEnd()),i}Program(e,s){Dr(Array.isArray(s),"[BUG] Program in parser unexpectedly called without block params");let a=Tr.blockItself({body:[],params:s,chained:e.chained,loc:this.source.spanFor(e.loc)});return this.parseProgram(a,e)}parseProgram(e,s){if(s.body.length===0)return e;let a;try{this.elementStack.push(e);for(let i of s.body)this.acceptNode(i)}finally{a=this.elementStack.pop()}if(e!==a){if(a?.type==="ElementNode")throw dr(`Unclosed element \`${a.tag}\``,a.loc);Dr(a!==void 0,"[BUG] empty parser elementStack"),Dr(!1,`[BUG] mismatched parser elementStack node: ${e.type}`)}return e}BlockStatement(e){if(this.tokenizer.state==="comment")return void this.appendToCommentData(this.sourceForNode(e));if(this.tokenizer.state!=="data"&&this.tokenizer.state!=="beforeData")throw dr("A block may only be used inside an HTML element or another block.",this.source.spanFor(e.loc));const{path:s,params:a,hash:i}=io(this,e),er=this.source.spanFor(e.loc);let nr=[];if(e.program.blockParams?.length){let gr=i.loc.collapse("end");gr=e.program.loc?gr.withEnd(this.source.spanFor(e.program.loc).getStart()):e.program.body[0]?gr.withEnd(this.source.spanFor(e.program.body[0].loc).getStart()):gr.withEnd(er.getEnd());const vr=gr.asString();let Or=vr.indexOf("|")+1;const Gr=vr.indexOf("|",Or);for(const Qr of e.program.blockParams){let gn,vn;gn=Or>=Gr?-1:vr.indexOf(Qr,Or),gn===-1||gn+Qr.length>Gr?(Or=Gr,vn=this.source.spanFor(Ms)):(Or=gn,vn=gr.sliceStartChars({skipStart:Or,chars:Qr.length}),Or+=Qr.length),nr.push(Tr.var({name:Qr,loc:vn}))}}e.program.loc||(e.program.loc=Ms),e.inverse&&!e.inverse.loc&&(e.inverse.loc=Ms);const sr=this.Program(e.program,nr),lr=e.inverse?this.Program(e.inverse,[]):null,hr=Tr.block({path:s,params:a,hash:i,defaultBlock:sr,elseBlock:lr,loc:this.source.spanFor(e.loc),openStrip:e.openStrip,inverseStrip:e.inverseStrip,closeStrip:e.closeStrip});$s(this.currentElement(),hr)}MustacheStatement(e){this.pendingError?.mustache(this.source.spanFor(e.loc));const{tokenizer:s}=this;if(s.state==="comment")return void this.appendToCommentData(this.sourceForNode(e));let a;const{escaped:i,loc:er,strip:nr}=e;if("original"in e.path&&e.path.original==="...attributes")throw dr("Illegal use of ...attributes",this.source.spanFor(e.loc));if(pc(e.path))a=Tr.mustache({path:this.acceptNode(e.path),params:[],hash:Tr.hash({pairs:[],loc:this.source.spanFor(e.path.loc).collapse("end")}),trusting:!i,loc:this.source.spanFor(er),strip:nr});else{const{path:sr,params:lr,hash:hr}=io(this,e);a=Tr.mustache({path:sr,params:lr,hash:hr,trusting:!i,loc:this.source.spanFor(er),strip:nr})}switch(s.state){case"tagOpen":case"tagName":throw dr("Cannot use mustaches in an elements tagname",a.loc);case"beforeAttributeName":oo(this.currentStartTag,a);break;case"attributeName":case"afterAttributeName":this.beginAttributeValue(!1),this.finishAttributeValue(),oo(this.currentStartTag,a),s.transitionTo("beforeAttributeName");break;case"afterAttributeValueQuoted":oo(this.currentStartTag,a),s.transitionTo("beforeAttributeName");break;case"beforeAttributeValue":this.beginAttributeValue(!1),this.appendDynamicAttributeValuePart(a),s.transitionTo("attributeValueUnquoted");break;case"attributeValueDoubleQuoted":case"attributeValueSingleQuoted":case"attributeValueUnquoted":this.appendDynamicAttributeValuePart(a);break;default:$s(this.currentElement(),a)}return a}appendDynamicAttributeValuePart(e){this.finalizeTextPart();const s=this.currentAttr;s.isDynamic=!0,s.parts.push(e)}finalizeTextPart(){const e=this.currentAttr.currentPart;e!==null&&(this.currentAttr.parts.push(e),this.startTextPart())}startTextPart(){this.currentAttr.currentPart=null}ContentStatement(e){(function(s,a){let i=a.loc.start.line,er=a.loc.start.column;const nr=function(sr,lr){if(lr==="")return{lines:sr.split(`
`).length-1,columns:0};const[hr]=sr.split(lr),gr=hr.split(/\n/u),vr=gr.length-1;return{lines:vr,columns:Is(gr[vr]).length}}(a.original,a.value);i+=nr.lines,nr.lines?er=nr.columns:er+=nr.columns,s.line=i,s.column=er})(this.tokenizer,e),this.tokenizer.tokenizePart(e.value),this.tokenizer.flushData()}CommentStatement(e){const{tokenizer:s}=this;if(s.state==="comment")return this.appendToCommentData(this.sourceForNode(e)),null;const{value:a,loc:i}=e,er=Tr.mustacheComment({value:a,loc:this.source.spanFor(i)});switch(s.state){case"beforeAttributeName":case"afterAttributeName":this.currentStartTag.comments.push(er);break;case"beforeData":case"data":$s(this.currentElement(),er);break;default:throw dr(`Using a Handlebars comment when in the \`${s.state}\` state is not supported`,this.source.spanFor(e.loc))}return er}PartialStatement(e){throw dr("Handlebars partials are not supported",this.source.spanFor(e.loc))}PartialBlockStatement(e){throw dr("Handlebars partial blocks are not supported",this.source.spanFor(e.loc))}Decorator(e){throw dr("Handlebars decorators are not supported",this.source.spanFor(e.loc))}DecoratorBlock(e){throw dr("Handlebars decorator blocks are not supported",this.source.spanFor(e.loc))}SubExpression(e){const{path:s,params:a,hash:i}=io(this,e);return Tr.sexpr({path:s,params:a,hash:i,loc:this.source.spanFor(e.loc)})}PathExpression(e){const{original:s}=e;let a;if(s.indexOf("/")!==-1){if(s.slice(0,2)==="./")throw dr('Using "./" is not supported in Glimmer and unnecessary',this.source.spanFor(e.loc));if(s.slice(0,3)==="../")throw dr('Changing context using "../" is not supported in Glimmer',this.source.spanFor(e.loc));if(s.indexOf(".")!==-1)throw dr("Mixing '.' and '/' in paths is not supported in Glimmer; use only '.' to separate property paths",this.source.spanFor(e.loc));a=[e.parts.join("/")]}else{if(s===".")throw dr("'.' is not a supported path in Glimmer; check for a path with a trailing '.'",this.source.spanFor(e.loc));a=e.parts}let i,er=!1;if(/^this(?:\..+)?$/u.test(s)&&(er=!0),er)i=Tr.this({loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+4}})});else if(e.data){const nr=a.shift();if(nr===void 0)throw dr("Attempted to parse a path expression, but it was not valid. Paths beginning with @ must start with a-z.",this.source.spanFor(e.loc));i=Tr.atName({name:`@${nr}`,loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+nr.length+1}})})}else{const nr=a.shift();if(nr===void 0)throw dr("Attempted to parse a path expression, but it was not valid. Paths must start with a-z or A-Z.",this.source.spanFor(e.loc));i=Tr.var({name:nr,loc:this.source.spanFor({start:e.loc.start,end:{line:e.loc.start.line,column:e.loc.start.column+nr.length}})})}return Tr.path({head:i,tail:a,loc:this.source.spanFor(e.loc)})}Hash(e){const s=e.pairs.map(a=>Tr.pair({key:a.key,value:this.acceptNode(a.value),loc:this.source.spanFor(a.loc)}));return Tr.hash({pairs:s,loc:this.source.spanFor(e.loc)})}StringLiteral(e){return Tr.literal({type:"StringLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}BooleanLiteral(e){return Tr.literal({type:"BooleanLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}NumberLiteral(e){return Tr.literal({type:"NumberLiteral",value:e.value,loc:this.source.spanFor(e.loc)})}UndefinedLiteral(e){return Tr.literal({type:"UndefinedLiteral",value:void 0,loc:this.source.spanFor(e.loc)})}NullLiteral(e){return Tr.literal({type:"NullLiteral",value:null,loc:this.source.spanFor(e.loc)})}}function io(r,e){let s;switch(e.path.type){case"PathExpression":s=r.PathExpression(e.path);break;case"SubExpression":s=r.SubExpression(e.path);break;case"StringLiteral":case"UndefinedLiteral":case"NullLiteral":case"NumberLiteral":case"BooleanLiteral":{let er;throw er=e.path.type==="BooleanLiteral"?e.path.original.toString():e.path.type==="StringLiteral"?`"${e.path.original}"`:e.path.type==="NullLiteral"?"null":e.path.type==="NumberLiteral"?e.path.value.toString():"undefined",dr(`${e.path.type} "${e.path.type==="StringLiteral"?e.path.original:er}" cannot be called as a sub-expression, replace (${er}) with ${er}`,r.source.spanFor(e.path.loc))}}const a=e.params?e.params.map(er=>r.acceptNode(er)):[],i=en(a)?$n(a).loc:s.loc;return{path:s,params:a,hash:e.hash?r.Hash(e.hash):Tr.hash({pairs:[],loc:r.source.spanFor(i).collapse("end")})}}function oo(r,e){const{path:s,params:a,hash:i,loc:er}=e;if(pc(s)){const sr=`{{${function(lr){return lr.type==="UndefinedLiteral"?"undefined":JSON.stringify(lr.value)}(s)}}}`;throw dr(`In <${r.name} ... ${sr} ..., ${sr} is not a valid modifier`,e.loc)}const nr=Tr.elementModifier({path:s,params:a,hash:i,loc:er});r.modifiers.push(nr)}function Vs(r){return/[\t\n\f ]/u.test(r)}class dm extends mm{tagOpenLine=0;tagOpenColumn=0;reset(){this.currentNode=null}beginComment(){this.currentNode={type:"CommentStatement",value:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}appendToCommentData(e){this.currentComment.value+=e}finishComment(){$s(this.currentElement(),Tr.comment(this.finish(this.currentComment)))}beginData(){this.currentNode={type:"TextNode",chars:"",start:this.offset()}}appendToData(e){this.currentData.chars+=e}finishData(){$s(this.currentElement(),Tr.text(this.finish(this.currentData)))}tagOpen(){this.tagOpenLine=this.tokenizer.line,this.tagOpenColumn=this.tokenizer.column}beginStartTag(){this.currentNode={type:"StartTag",name:"",nameStart:null,nameEnd:null,attributes:[],modifiers:[],comments:[],params:[],selfClosing:!1,start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}beginEndTag(){this.currentNode={type:"EndTag",name:"",start:this.source.offsetFor(this.tagOpenLine,this.tagOpenColumn)}}finishTag(){let e=this.finish(this.currentTag);if(e.type==="StartTag"){if(this.finishStartTag(),e.name===":")throw dr("Invalid named block named detected, you may have created a named block without a name, or you may have began your name with a number. Named blocks must have names that are at least one character long, and begin with a lower case letter",this.source.spanFor({start:this.currentTag.start.toJSON(),end:this.offset().toJSON()}));(Fa.has(e.name)||e.selfClosing)&&this.finishEndTag(!0)}else e.type==="EndTag"&&this.finishEndTag(!1)}finishStartTag(){let{name:e,nameStart:s,nameEnd:a}=this.currentStartTag;Dr(e!=="","tag name cannot be empty"),Dr(s!==null,"nameStart unexpectedly null"),Dr(a!==null,"nameEnd unexpectedly null");let i=s.until(a),[er,...nr]=vs(e.split(".")),sr=Tr.path({head:Tr.head({original:er,loc:i.sliceStartChars({chars:er.length})}),tail:nr,loc:i}),{attributes:lr,modifiers:hr,comments:gr,params:vr,selfClosing:Or,loc:Gr}=this.finish(this.currentStartTag),Qr=Tr.element({path:sr,selfClosing:Or,attributes:lr,modifiers:hr,comments:gr,params:vr,children:[],openTag:Gr,closeTag:Or?null:tn.broken(),loc:Gr});this.elementStack.push(Qr)}finishEndTag(e){let{start:s}=this.currentTag,a=this.finish(this.currentTag),i=this.elementStack.pop();this.validateEndTag(a,i,e);let er=this.currentElement();e?i.closeTag=null:i.selfClosing?Dr(i.closeTag===null,"element.closeTag unexpectedly present"):i.closeTag=s.until(this.offset()),i.loc=i.loc.withEnd(this.offset()),$s(er,Tr.element(i))}markTagAsSelfClosing(){let e=this.currentTag;if(e.type!=="StartTag")throw dr("Invalid end tag: closing tag must not be self-closing",this.source.spanFor({start:e.start.toJSON(),end:this.offset().toJSON()}));e.selfClosing=!0}appendToTagName(e){let s=this.currentTag;if(s.name+=e,s.type==="StartTag"){let a=this.offset();s.nameStart===null&&(Dr(s.nameEnd===null,"nameStart and nameEnd must both be null"),s.nameStart=a.move(-1)),s.nameEnd=a}}beginAttribute(){let e=this.offset();this.currentAttribute={name:"",parts:[],currentPart:null,isQuoted:!1,isDynamic:!1,start:e,valueSpan:e.collapsed()}}appendToAttributeName(e){this.currentAttr.name+=e,this.currentAttr.name==="as"&&this.parsePossibleBlockParams()}beginAttributeValue(e){this.currentAttr.isQuoted=e,this.startTextPart(),this.currentAttr.valueSpan=this.offset().collapsed()}appendToAttributeValue(e){let s=this.currentAttr.parts,a=s[s.length-1],i=this.currentAttr.currentPart;if(i)i.chars+=e,i.loc=i.loc.withEnd(this.offset());else{let er=this.offset();er=e===`
`?a?a.loc.getEnd():this.currentAttr.valueSpan.getStart():er.move(-1),this.currentAttr.currentPart=Tr.text({chars:e,loc:er.collapsed()})}}finishAttributeValue(){this.finalizeTextPart();let e=this.currentTag,s=this.offset();if(e.type==="EndTag")throw dr("Invalid end tag: closing tag must not have attributes",this.source.spanFor({start:e.start.toJSON(),end:s.toJSON()}));let{name:a,parts:i,start:er,isQuoted:nr,isDynamic:sr,valueSpan:lr}=this.currentAttr;if(a.startsWith("|")&&i.length===0&&!nr&&!sr)throw dr("Invalid block parameters syntax: block parameters must be preceded by the `as` keyword",er.until(er.move(a.length)));let hr=this.assembleAttributeValue(i,nr,sr,er.until(s));hr.loc=lr.withEnd(s);let gr=Tr.attr({name:a,value:hr,loc:er.until(s)});this.currentStartTag.attributes.push(gr)}parsePossibleBlockParams(){const e=/[!"#%&'()*+./;<=>@[\\\]^`{|}~]/u;Dr(this.tokenizer.state==="attributeName","must be in TokenizerState.attributeName");const s=this.currentStartTag,a=this.currentAttr;let i={state:"PossibleAs"};const er={PossibleAs:sr=>{if(Dr(i.state==="PossibleAs","bug in block params parser"),Vs(sr))i={state:"BeforeStartPipe"},this.tokenizer.transitionTo("afterAttributeName"),this.tokenizer.consume();else{if(sr==="|")throw dr('Invalid block parameters syntax: expecting at least one space character between "as" and "|"',a.start.until(this.offset().move(1)));i={state:"Done"}}},BeforeStartPipe:sr=>{Dr(i.state==="BeforeStartPipe","bug in block params parser"),Vs(sr)?this.tokenizer.consume():sr==="|"?(i={state:"BeforeBlockParamName"},this.tokenizer.transitionTo("beforeAttributeName"),this.tokenizer.consume()):i={state:"Done"}},BeforeBlockParamName:sr=>{if(Dr(i.state==="BeforeBlockParamName","bug in block params parser"),Vs(sr))this.tokenizer.consume();else if(sr==="")i={state:"Done"},this.pendingError={mustache(lr){throw dr("Invalid block parameters syntax: mustaches cannot be used inside parameters list",lr)},eof(lr){throw dr('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',a.start.until(lr))}};else if(sr==="|"){if(s.params.length===0)throw dr("Invalid block parameters syntax: empty parameters list, expecting at least one identifier",a.start.until(this.offset().move(1)));i={state:"AfterEndPipe"},this.tokenizer.consume()}else{if(sr===">"||sr==="/")throw dr('Invalid block parameters syntax: incomplete parameters list, expecting "|" but the tag was closed prematurely',a.start.until(this.offset().move(1)));i={state:"BlockParamName",name:sr,start:this.offset()},this.tokenizer.consume()}},BlockParamName:sr=>{if(Dr(i.state==="BlockParamName","bug in block params parser"),sr==="")i={state:"Done"},this.pendingError={mustache(lr){throw dr("Invalid block parameters syntax: mustaches cannot be used inside parameters list",lr)},eof(lr){throw dr('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',a.start.until(lr))}};else if(sr==="|"||Vs(sr)){let lr=i.start.until(this.offset());if(i.name==="this"||e.test(i.name))throw dr(`Invalid block parameters syntax: invalid identifier name \`${i.name}\``,lr);s.params.push(Tr.var({name:i.name,loc:lr})),i=sr==="|"?{state:"AfterEndPipe"}:{state:"BeforeBlockParamName"},this.tokenizer.consume()}else{if(sr===">"||sr==="/")throw dr('Invalid block parameters syntax: expecting "|" but the tag was closed prematurely',a.start.until(this.offset().move(1)));i.name+=sr,this.tokenizer.consume()}},AfterEndPipe:sr=>{Dr(i.state==="AfterEndPipe","bug in block params parser"),Vs(sr)?this.tokenizer.consume():sr===""?(i={state:"Done"},this.pendingError={mustache(lr){throw dr("Invalid block parameters syntax: modifiers cannot follow parameters list",lr)},eof(lr){throw dr('Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',a.start.until(lr))}}):sr===">"||sr==="/"?i={state:"Done"}:(i={state:"Error",message:'Invalid block parameters syntax: expecting the tag to be closed with ">" or "/>" after parameters list',start:this.offset()},this.tokenizer.consume())},Error:sr=>{if(Dr(i.state==="Error","bug in block params parser"),sr===""||sr==="/"||sr===">"||Vs(sr))throw dr(i.message,i.start.until(this.offset()));this.tokenizer.consume()},Done:()=>{Dr(!1,"This should never be called")}};let nr;do nr=this.tokenizer.peek(),er[i.state](nr);while(i.state!=="Done"&&nr!=="");Dr(i.state==="Done","bug in block params parser")}reportSyntaxError(e){throw dr(e,this.offset().collapsed())}assembleConcatenatedValue(e){for(const i of e)if(i.type!=="MustacheStatement"&&i.type!=="TextNode")throw dr(`Unsupported node in quoted attribute value: ${i.type}`,i.loc);ks(e,"the concatenation parts of an element should not be empty");let s=aa(e),a=$n(e);return Tr.concat({parts:e,loc:this.source.spanFor(s.loc).extend(this.source.spanFor(a.loc))})}validateEndTag(e,s,a){if(Fa.has(e.name)&&!a)throw dr(`<${e.name}> elements do not need end tags. You should remove it`,e.loc);if(s.tag===void 0)throw dr(`Closing tag </${e.name}> without an open tag`,e.loc);if(s.tag!==e.name)throw dr(`Closing tag </${e.name}> did not match last open tag <${s.tag}> (on line ${s.loc.startPosition.line})`,e.loc)}assembleAttributeValue(e,s,a,i){if(a){if(s)return this.assembleConcatenatedValue(e);{ks(e);const[er,nr]=e;if(nr===void 0||nr.type==="TextNode"&&nr.chars==="/")return er;throw dr("An unquoted attribute value must be a string or a mustache, preceded by whitespace or a '=' character, and followed by whitespace, a '>' character, or '/>'",i)}}return en(e)?e[0]:Tr.text({chars:"",loc:i})}}const fm={parse:_s,builders:so,print:Fs,traverse:$a,Walker:to};class gm extends Ha{constructor(){super({})}parse(){}}function _s(r,e={}){let s,a,i,er=e.mode||"precompile";typeof r=="string"?(s=new fs(r,e.meta?.moduleName),a=er==="codemod"?Da(r,e.parseOptions):ji(r,e.parseOptions)):r instanceof fs?(s=r,a=er==="codemod"?Da(r.source,e.parseOptions):ji(r.source,e.parseOptions)):(s=new fs("",e.meta?.moduleName),a=r),er==="codemod"&&(i=new gm);let nr=tn.forCharPositions(s,0,s.source.length);a.loc={source:"(program)",start:nr.startPosition,end:nr.endPosition};let sr=new dm(s,i,er).parse(a,e.locals??[]);if(e?.plugins?.ast)for(const lr of e.plugins.ast)$a(sr,lr(On({},e,{syntax:fm},{plugins:void 0})).visitor);return sr}function bc(r,e,s,a){const i=function(er,nr,sr){if(er.type==="PathExpression"){if(er.head.type==="AtHead"||er.head.type==="ThisHead")return;const lr=er.head.name;if(nr.indexOf(lr)===-1)return lr}else if(er.type==="ElementNode"){const{tag:lr}=er,hr=lr.charAt(0);if(hr===":"||hr==="@"||!sr.includeHtmlElements&&lr.indexOf(".")===-1&&lr.toLowerCase()===lr||lr.substr(0,5)==="this.")return;if(lr.includes(".")){let[gr]=lr.split(".");if(nr.includes(gr))return}return nr.includes(lr)?void 0:lr}}(e,s,a);(Array.isArray(i)?i:[i]).forEach(er=>{if(er!==void 0&&er[0]!=="@"){const nr=er.split(".")[0];s.includes(nr)||r.add(er.split(".")[0])}})}function bm(r,e={includeHtmlElements:!1,includeKeywords:!1}){const s=_s(r),a=new Set,i=[];$a(s,{Block:{enter({blockParams:nr}){nr.forEach(sr=>{i.push(sr)})},exit({blockParams:nr}){nr.forEach(()=>{i.pop()})}},ElementNode:{enter(nr){nr.blockParams.forEach(sr=>{i.push(sr)}),bc(a,nr,i,e)},exit({blockParams:nr}){nr.forEach(()=>{i.pop()})}},PathExpression(nr){bc(a,nr,i,e)}});let er=[];return a.forEach(nr=>er.push(nr)),e?.includeKeywords||(er=er.filter(nr=>!Wi(nr))),er}function _r(r){if(r!==void 0){const e=r;return{fields:()=>class{type;constructor(s){this.type=e,On(this,s)}}}}return{fields:()=>class{constructor(e){On(this,e)}}}}let Us=class el extends _r().fields(){static empty(e){return new el({loc:e,positional:js.empty(e),named:zs.empty(e)})}static named(e){return new el({loc:e.loc,positional:js.empty(e.loc.collapse("end")),named:e})}nth(e){return this.positional.nth(e)}get(e){return this.named.get(e)}isEmpty(){return this.positional.isEmpty()&&this.named.isEmpty()}};class js extends _r().fields(){static empty(e){return new js({loc:e,exprs:[]})}get size(){return this.exprs.length}nth(e){return this.exprs[e]||null}isEmpty(){return this.exprs.length===0}}let zs=class Wu extends _r().fields(){static empty(e){return new Wu({loc:e,entries:[]})}get size(){return this.entries.length}get(e){let s=this.entries.filter(a=>a.name.chars===e)[0];return s?s.value:null}isEmpty(){return this.entries.length===0}},lo=class{loc;name;value;constructor(e){this.loc=e.name.loc.extend(e.value.loc),this.name=e.name,this.value=e.value}};class yc extends _r("HtmlAttr").fields(){}let Sc=class extends _r("SplatAttr").fields(){};class kc extends _r().fields(){toNamedArgument(){return new lo({name:this.name,value:this.value})}}class vc extends _r("ElementModifier").fields(){}class wc extends _r("GlimmerComment").fields(){}class Ec extends _r("HtmlText").fields(){}class Ac extends _r("HtmlComment").fields(){}class Pc extends _r("AppendContent").fields(){get callee(){return this.value.type==="Call"?this.value.callee:this.value}get args(){return this.value.type==="Call"?this.value.args:Us.empty(this.value.loc.collapse("end"))}}let _c=class extends _r("InvokeBlock").fields(){},ja=class extends _r("InvokeComponent").fields(){get args(){let e=this.componentArgs.map(s=>s.toNamedArgument());return Us.named(new zs({loc:Bn.range(e,this.callee.loc.collapse("end")),entries:e}))}},Tc=class extends _r("SimpleElement").fields(){get args(){let e=this.componentArgs.map(s=>s.toNamedArgument());return Us.named(new zs({loc:Bn.range(e,this.tag.loc.collapse("end")),entries:e}))}};class xc extends _r("Literal").fields(){toSlice(){return new fn({loc:this.loc,chars:this.value})}}let Cc=class extends _r("Path").fields(){};class Nc extends _r("Keyword").fields(){}let Oc=class extends _r("Call").fields(){},Lc=class extends _r("Interpolate").fields(){},Bc=class extends _r().fields(){};class Ic extends _r().fields(){}let co=class extends _r().fields(){get(e){return this.blocks.filter(s=>s.name.chars===e)[0]||null}},qs=class extends _r().fields(){get args(){let e=this.componentArgs.map(s=>s.toNamedArgument());return Us.named(new zs({loc:Bn.range(e,this.name.loc.collapse("end")),entries:e}))}};class Dc extends _r("This").fields(){}class Hc extends _r("Arg").fields(){}class Fc extends _r("Local").fields(){}class Mc extends _r("Free").fields(){}const An={resolution:()=>ur.GetStrictKeyword,serialize:()=>"Strict",isAngleBracket:!1},ym={...An,isAngleBracket:!0};class Pn{static namespaced(e,s=!1){return new Pn([e],s)}static append(){return new Pn([Fn.Component,Fn.Helper])}static trustingAppend(){return this.namespaced(Fn.Helper)}constructor(e,s=!1){this.namespaces=e,this.isAngleBracket=s}resolution(){if(this.namespaces.length!==1)return ur.GetFreeAsComponentOrHelperHead;switch(this.namespaces[0]){case Fn.Helper:return ur.GetFreeAsHelperHead;case Fn.Modifier:return ur.GetFreeAsModifierHead;case Fn.Component:return ur.GetFreeAsComponentHead}}serialize(){return this.namespaces.length===1?this.namespaces[0]:"ComponentOrHelper"}}let Fn=function(r){return r.Helper="Helper",r.Modifier="Modifier",r.Component="Component",r}({});const uo=Fn.Helper,Rc=Fn.Modifier,ho=Fn.Component;var zn=Object.freeze({__proto__:null,AppendContent:Pc,ArgReference:Hc,Args:Us,Block:Ic,COMPONENT_NAMESPACE:ho,CallExpression:Oc,ComponentArg:kc,ElementModifier:vc,FreeVarNamespace:Fn,FreeVarReference:Mc,GlimmerComment:wc,HELPER_NAMESPACE:uo,HTML_RESOLUTION:ym,HtmlAttr:yc,HtmlComment:Ac,HtmlText:Ec,InterpolateExpression:Lc,InvokeBlock:_c,InvokeComponent:ja,KeywordExpression:Nc,LiteralExpression:xc,LocalVarReference:Fc,LooseModeResolution:Pn,MODIFIER_NAMESPACE:Rc,NamedArgument:lo,NamedArguments:zs,NamedBlock:qs,NamedBlocks:co,PathExpression:Cc,PositionalArguments:js,STRICT_RESOLUTION:An,SimpleElement:Tc,SplatAttr:Sc,Template:Bc,ThisReference:Dc,isLiteral:function(r,e){return r.type==="Literal"&&(e===void 0||(e==="null"?r.value===null:typeof r.value===e))},isStrictResolution:function(r){return r===An},loadResolution:function(r){return r==="Strict"?An:r==="ComponentOrHelper"?Pn.append():Pn.namespaced(r)},node:_r});class za{static top(e,s,a){return new $c(e,s,a)}child(e){let s=e.map(a=>this.allocate(a));return new Vc(this,e,s)}}class $c extends za{constructor(e,s,a){super(),this.templateLocals=e,this.keywords=s,this.options=a}symbols=[];upvars=[];size=1;named=Nn();blocks=Nn();usedTemplateLocals=[];#e=!1;hasLexical(e){return this.options.lexicalScope(e)}hasKeyword(e){return this.keywords.includes(e)}getKeyword(e){return this.allocateFree(e,An)}getUsedTemplateLocals(){return this.usedTemplateLocals}setHasDebugger(){this.#e=!0}get hasEval(){return this.#e}has(e){return this.templateLocals.includes(e)}get(e){let s=this.usedTemplateLocals.indexOf(e);return s!==-1||(s=this.usedTemplateLocals.length,this.usedTemplateLocals.push(e)),[s,!0]}getLocalsMap(){return Nn()}getDebugInfo(){return Object.values(this.getLocalsMap())}allocateFree(e,s){s.resolution()===ur.GetFreeAsComponentHead&&s.isAngleBracket&&(e=this.options.customizeComponentName(e));let a=this.upvars.indexOf(e);return a!==-1||(a=this.upvars.length,this.upvars.push(e)),a}allocateNamed(e){let s=this.named[e];return s||(s=this.named[e]=this.allocate(e)),s}allocateBlock(e){e==="inverse"&&(e="else");let s=this.blocks[e];return s||(s=this.blocks[e]=this.allocate(`&${e}`)),s}allocate(e){return this.symbols.push(e),this.size++}}class Vc extends za{constructor(e,s,a){super(),this.parent=e,this.symbols=s,this.slots=a}get locals(){return this.symbols}hasLexical(e){return this.parent.hasLexical(e)}getKeyword(e){return this.parent.getKeyword(e)}hasKeyword(e){return this.parent.hasKeyword(e)}has(e){return this.symbols.indexOf(e)!==-1||this.parent.has(e)}get(e){let s=this.#e(e);return s?[s,!1]:this.parent.get(e)}#e(e){let s=this.symbols.indexOf(e);return s===-1?null:Is(this.slots[s])}getLocalsMap(){let e=this.parent.getLocalsMap();return this.symbols.forEach(s=>e[s]=this.get(s)[0]),e}getDebugInfo(){return Object.values(this.getLocalsMap())}setHasDebugger(){this.parent.setHasDebugger()}allocateFree(e,s){return this.parent.allocateFree(e,s)}allocateNamed(e){return this.parent.allocateNamed(e)}allocateBlock(e){return this.parent.allocateBlock(e)}allocate(e){return this.parent.allocate(e)}}var Uc=Object.freeze({__proto__:null});let jc=class{template(e,s,a){return new Bc({table:e,body:s,loc:a})}block(e,s,a){return new Ic({scope:e,body:s,loc:a})}namedBlock(e,s,a){return new qs({name:e,block:s,attrs:[],componentArgs:[],modifiers:[],loc:a})}simpleNamedBlock(e,s,a){return new zc({selfClosing:!1,attrs:[],componentArgs:[],modifiers:[],comments:[]}).named(e,s,a)}slice(e,s){return new fn({loc:s,chars:e})}args(e,s,a){return new Us({loc:a,positional:e,named:s})}positional(e,s){return new js({loc:s,exprs:e})}namedArgument(e,s){return new lo({name:e,value:s})}named(e,s){return new zs({loc:s,entries:e})}attr({name:e,value:s,trusting:a},i){return new yc({loc:i,name:e,value:s,trusting:a})}splatAttr(e,s){return new Sc({symbol:e,loc:s})}arg({name:e,value:s,trusting:a},i){return new kc({name:e,value:s,trusting:a,loc:i})}path(e,s,a){return new Cc({loc:a,ref:e,tail:s})}keyword(e,s,a){return new Nc({loc:a,name:e,symbol:s})}self(e){return new Dc({loc:e})}at(e,s,a){return Dr(e[0]==="@","call builders.at() with a string that starts with '@'"),new Hc({loc:a,name:new fn({loc:a,chars:e}),symbol:s})}freeVar({name:e,context:s,symbol:a,loc:i}){return Dr(e!=="this","You called builders.freeVar() with 'this'. Call builders.this instead"),Dr(e[0]!=="@",`You called builders.freeVar() with '${e}'. Call builders.at('${e}') instead`),new Mc({name:e,resolution:s,symbol:a,loc:i})}localVar(e,s,a,i){return Dr(e!=="this","You called builders.var() with 'this'. Call builders.this instead"),Dr(e[0]!=="@",`You called builders.var() with '${e}'. Call builders.at('${e}') instead`),new Fc({loc:i,name:e,isTemplateLocal:a,symbol:s})}sexp(e,s){return new Oc({loc:s,callee:e.callee,args:e.args})}interpolate(e,s){return ks(e),new Lc({loc:s,parts:e})}literal(e,s){return new xc({loc:s,value:e})}append({table:e,trusting:s,value:a},i){return new Pc({table:e,trusting:s,value:a,loc:i})}modifier({callee:e,args:s},a){return new vc({loc:a,callee:e,args:s})}namedBlocks(e,s){return new co({loc:s,blocks:e})}blockStatement({program:e,inverse:s=null,...a},i){let er=e.loc,nr=[this.namedBlock(fn.synthetic("default"),e,e.loc)];return s&&(er=er.extend(s.loc),nr.push(this.namedBlock(fn.synthetic("else"),s,s.loc))),new _c({loc:i,blocks:this.namedBlocks(nr,er),callee:a.callee,args:a.args})}element(e){return new zc(e)}};class zc{builder;constructor(e){this.base=e,this.builder=new jc}simple(e,s,a){return new Tc(On({tag:e,body:s,componentArgs:[],loc:a},this.base))}named(e,s,a){return new qs(On({name:e,block:s,componentArgs:[],loc:a},this.base))}selfClosingComponent(e,s){return new ja(On({loc:s,callee:e,blocks:new co({blocks:[],loc:s.sliceEndChars({skipEnd:1,chars:1})})},this.base))}componentWithDefaultBlock(e,s,a,i){let er=this.builder.block(a,s,i),nr=this.builder.namedBlock(fn.synthetic("default"),er,i);return new ja(On({loc:i,callee:e,blocks:this.builder.namedBlocks([nr],nr.loc)},this.base))}componentWithNamedBlocks(e,s,a){return new ja(On({loc:a,callee:e,blocks:this.builder.namedBlocks(s,Bn.range(s))},this.base))}}function Sm(r){return ma(r)?Pn.namespaced(uo):null}function km(r){return ma(r)?Pn.namespaced(Rc):null}function vm(r){return ma(r)?Pn.namespaced(ho):null}function wm(r){return qc(r)?Pn.namespaced(ho,!0):null}function Em(r){return ma(r)?Pn.namespaced(uo):null}function Am(r){let e=ma(r),s=r.trusting;return e?s?Pn.trustingAppend():Pn.append():null}function ma(r){return qc(r.path)}function qc(r){return r.type==="PathExpression"&&r.head.type==="VarHead"&&r.tail.length===0}function Gc(r,e={lexicalScope:()=>!1}){let s=_s(r,e),a={strictMode:!1,...e,locals:s.blockParams,keywords:e.keywords??[]},i=za.top(a.locals,a.keywords,{customizeComponentName:e.customizeComponentName??(lr=>lr),lexicalScope:e.lexicalScope}),er=new po(r,a,i),nr=new da(er);return[new _m(er.loc(s.loc),s.body.map(lr=>nr.normalize(lr)),er).assertTemplate(i),i.getUsedTemplateLocals()]}class po{builder;constructor(e,s,a){this.source=e,this.options=s,this.table=a,this.builder=new jc}get strict(){return this.options.strictMode||!1}loc(e){return this.source.spanFor(e)}resolutionFor(e,s){if(this.strict)return{result:An};if(this.isFreeVar(e)){let a=s(e);return a===null?{result:"error",path:Jc(e),head:Wc(e)}:{result:a}}return{result:An}}isLexicalVar(e){return this.table.hasLexical(e)}isKeyword(e){return this.strict&&!this.table.hasLexical(e)&&this.table.hasKeyword(e)}isFreeVar(e){return e.type==="PathExpression"?e.head.type==="VarHead"&&!this.table.has(e.head.name):e.path.type==="PathExpression"&&this.isFreeVar(e.path)}hasBinding(e){return this.table.has(e)||this.table.hasLexical(e)}child(e){return new po(this.source,this.options,this.table.child(e))}customizeComponentName(e){return this.options.customizeComponentName?this.options.customizeComponentName(e):e}}class mo{constructor(e){this.block=e}normalize(e,s){switch(e.type){case"NullLiteral":case"BooleanLiteral":case"NumberLiteral":case"StringLiteral":case"UndefinedLiteral":return this.block.builder.literal(e.value,this.block.loc(e.loc));case"PathExpression":return Dr(s,"[BUG] resolution is required"),this.path(e,s);case"SubExpression":{fa(e.path)&&ga(e.path,e.loc);let a=this.block.resolutionFor(e,Sm);if(a.result==="error")throw dr(`You attempted to invoke a path (\`${a.path}\`) but ${a.head} was not in scope`,e.loc);return this.block.builder.sexp(this.callParts(e,a.result),this.block.loc(e.loc))}}}path(e,s){let a=this.block.loc(e.loc);if(e.head.type==="VarHead"&&e.tail.length===0&&this.block.isKeyword(e.head.name))return this.block.builder.keyword(e.head.name,this.block.table.getKeyword(e.head.name),a);let i=[],er=this.block.loc(e.head.loc);for(let nr of e.tail)er=er.sliceStartChars({chars:nr.length,skipStart:1}),i.push(new fn({loc:er,chars:nr}));return this.block.builder.path(this.ref(e.head,s),i,a)}callParts(e,s){let{path:a,params:i,hash:er,loc:nr}=e,sr=this.normalize(a,s),lr=i.map(Qr=>this.normalize(Qr,An)),hr=Bn.range(lr,sr.loc.collapse("end")),gr=this.block.loc(er.loc),vr=Bn.range([hr,gr]),Or=this.block.builder.positional(i.map(Qr=>this.normalize(Qr,An)),hr),Gr=this.block.builder.named(er.pairs.map(Qr=>this.namedArgument(Qr)),this.block.loc(er.loc));switch(sr.type){case"Literal":throw dr(`Invalid invocation of a literal value (\`${sr.value}\`)`,nr);case"Interpolate":throw dr("Invalid invocation of a interpolated string",nr)}return{callee:sr,args:this.block.builder.args(Or,Gr,vr)}}namedArgument(e){let s=this.block.loc(e.loc).sliceStartChars({chars:e.key.length});return this.block.builder.namedArgument(new fn({chars:e.key,loc:s}),this.normalize(e.value,An))}ref(e,s){let{block:a}=this,{builder:i,table:er}=a,nr=a.loc(e.loc);switch(e.type){case"ThisHead":return i.self(nr);case"AtHead":{let sr=er.allocateNamed(e.name);return i.at(e.name,sr,nr)}case"VarHead":if(a.hasBinding(e.name)){let[sr,lr]=er.get(e.name);return a.builder.localVar(e.name,sr,lr,nr)}{let sr=a.strict?An:s,lr=a.table.allocateFree(e.name,sr);return a.builder.freeVar({name:e.name,context:sr,symbol:lr,loc:nr})}}}}class da{constructor(e){this.block=e}normalize(e){switch(e.type){case"BlockStatement":return this.BlockStatement(e);case"ElementNode":return new Pm(this.block).ElementNode(e);case"MustacheStatement":return this.MustacheStatement(e);case"MustacheCommentStatement":return this.MustacheCommentStatement(e);case"CommentStatement":{let s=this.block.loc(e.loc);return new Ac({loc:s,text:s.slice({skipStart:4,skipEnd:3}).toSlice(e.value)})}case"TextNode":return new Ec({loc:this.block.loc(e.loc),chars:e.chars})}}MustacheCommentStatement(e){let s,a=this.block.loc(e.loc);return s=a.asString().slice(0,5)==="{{!--"?a.slice({skipStart:5,skipEnd:4}):a.slice({skipStart:3,skipEnd:2}),new wc({loc:a,text:s.toSlice(e.value)})}MustacheStatement(e){let s,{path:a,params:i,hash:er,trusting:nr}=e,sr=this.block.loc(e.loc);if(fa(a))i.length===0&&er.pairs.length===0?s=this.expr.normalize(a):ga(a,sr);else{let lr=this.block.resolutionFor(e,Am);if(lr.result==="error")throw dr(`You attempted to render a path (\`{{${lr.path}}}\`), but ${lr.head} was not in scope`,sr);let hr=this.expr.callParts({path:a,params:i,hash:er,loc:sr},lr.result);s=hr.args.isEmpty()?hr.callee:this.block.builder.sexp(hr,sr)}return this.block.builder.append({table:this.block.table,trusting:nr,value:s},sr)}BlockStatement(e){let{program:s,inverse:a}=e,i=this.block.loc(e.loc);fa(e.path)&&ga(e.path,i);let er=this.block.resolutionFor(e,vm);if(er.result==="error")throw dr(`You attempted to invoke a path (\`{{#${er.path}}}\`) but ${er.head} was not in scope`,i);let nr=this.expr.callParts(e,er.result);return this.block.builder.blockStatement(On({symbols:this.block.table,program:this.Block(s),inverse:a?this.Block(a):null},nr),i)}Block({body:e,loc:s,blockParams:a}){let i=this.block.child(a),er=new da(i);return new Tm(this.block.loc(s),e.map(nr=>er.normalize(nr)),this.block).assertBlock(i.table)}get expr(){return new mo(this.block)}}class Pm{constructor(e){this.ctx=e}ElementNode(e){let{tag:s,selfClosing:a,comments:i}=e,er=this.ctx.loc(e.loc),[nr,...sr]=vs(s.split(".")),lr=this.classifyTag(nr,sr,e.loc),hr=e.attributes.filter(cn=>cn.name[0]!=="@").map(cn=>this.attr(cn)),gr=e.attributes.filter(cn=>cn.name[0]==="@").map(cn=>this.arg(cn)),vr=e.modifiers.map(cn=>this.modifier(cn)),Or=this.ctx.child(e.blockParams),Gr=new da(Or),Qr=e.children.map(cn=>Gr.normalize(cn)),gn=this.ctx.builder.element({selfClosing:a,attrs:hr,componentArgs:gr,modifiers:vr,comments:i.map(cn=>new da(this.ctx).MustacheCommentStatement(cn))}),vn=new xm(gn,er,Qr,this.ctx),Sn=this.ctx.loc(e.loc).sliceStartChars({chars:s.length,skipStart:1});if(lr==="ElementHead")return s[0]===":"?vn.assertNamedBlock(Sn.slice({skipStart:1}).toSlice(s.slice(1)),Or.table):vn.assertElement(Sn.toSlice(s),e.blockParams.length>0);if(e.selfClosing)return gn.selfClosingComponent(lr,er);{let cn=vn.assertComponent(s,Or.table,e.blockParams.length>0);return gn.componentWithNamedBlocks(lr,cn,er)}}modifier(e){fa(e.path)&&ga(e.path,e.loc);let s=this.ctx.resolutionFor(e,km);if(s.result==="error")throw dr(`You attempted to invoke a path (\`{{${s.path}}}\`) as a modifier, but ${s.head} was not in scope`,e.loc);let a=this.expr.callParts(e,s.result);return this.ctx.builder.modifier(a,this.ctx.loc(e.loc))}mustacheAttr(e){let{path:s,params:a,hash:i,loc:er}=e;if(fa(s)){if(a.length===0&&i.pairs.length===0)return this.expr.normalize(s);ga(s,er)}let nr=this.ctx.resolutionFor(e,Em);if(nr.result==="error")throw dr(`You attempted to render a path (\`{{${nr.path}}}\`), but ${nr.head} was not in scope`,e.loc);let sr=this.ctx.builder.sexp(this.expr.callParts(e,nr.result),this.ctx.loc(e.loc));return sr.args.isEmpty()?sr.callee:sr}attrPart(e){switch(e.type){case"MustacheStatement":return{expr:this.mustacheAttr(e),trusting:e.trusting};case"TextNode":return{expr:this.ctx.builder.literal(e.chars,this.ctx.loc(e.loc)),trusting:!0}}}attrValue(e){if(e.type==="ConcatStatement"){let s=e.parts.map(a=>this.attrPart(a).expr);return{expr:this.ctx.builder.interpolate(s,this.ctx.loc(e.loc)),trusting:!1}}return this.attrPart(e)}attr(e){if(Dr(e.name[0]!=="@","An attr name must not start with `@`"),e.name==="...attributes")return this.ctx.builder.splatAttr(this.ctx.table.allocateBlock("attrs"),this.ctx.loc(e.loc));let s=this.ctx.loc(e.loc),a=s.sliceStartChars({chars:e.name.length}).toSlice(e.name),i=this.attrValue(e.value);return this.ctx.builder.attr({name:a,value:i.expr,trusting:i.trusting},s)}checkArgCall(e){let{value:s}=e;if(s.type!=="MustacheStatement"||s.params.length!==0||s.hash.pairs.length!==0)return;let{path:a}=s;if(a.type!=="PathExpression"||a.tail.length>0)return;let i=this.ctx.resolutionFor(a,()=>null);if(i.result==="error"&&i.path!=="has-block")throw dr(`You attempted to pass a path as argument (\`${e.name}={{${i.path}}}\`) but ${i.head} was not in scope. Try:
* \`${e.name}={{this.${i.path}}}\` if this is meant to be a property lookup, or
* \`${e.name}={{(${i.path})}}\` if this is meant to invoke the resolved helper, or
* \`${e.name}={{helper "${i.path}"}}\` if this is meant to pass the resolved helper by value`,e.loc)}arg(e){Dr(e.name[0]==="@","An arg name must start with `@`"),this.checkArgCall(e);let s=this.ctx.loc(e.loc),a=s.sliceStartChars({chars:e.name.length}).toSlice(e.name),i=this.attrValue(e.value);return this.ctx.builder.arg({name:a,value:i.expr,trusting:i.trusting},s)}classifyTag(e,s,a){let i=(er=e)[0]===er[0]?.toUpperCase()&&er[0]!==er[0]?.toLowerCase();var er;let nr=e[0]==="@"||e==="this"||this.ctx.hasBinding(e);if(this.ctx.strict&&!nr){if(i)throw dr(`Attempted to invoke a component that was not in scope in a strict mode template, \`<${e}>\`. If you wanted to create an element with that name, convert it to lowercase - \`<${e.toLowerCase()}>\``,a);return"ElementHead"}let sr=nr||i,lr=a.sliceStartChars({skipStart:1,chars:e.length}),hr=s.reduce((Or,Gr)=>Or+1+Gr.length,0),gr=lr.getEnd().move(hr),vr=lr.withEnd(gr);if(sr){let Or=Tr.path({head:Tr.head({original:e,loc:lr}),tail:s,loc:vr}),Gr=this.ctx.isLexicalVar(e)?{result:An}:this.ctx.resolutionFor(Or,wm);if(Gr.result==="error")throw dr(`You attempted to invoke a path (\`<${Gr.path}>\`) but ${Gr.head} was not in scope`,a);return new mo(this.ctx).normalize(Or,Gr.result)}if(this.ctx.table.allocateFree(e,An),s.length>0)throw dr(`You used ${e}.${s.join(".")} as a tag name, but ${e} is not in scope`,a);return"ElementHead"}get expr(){return new mo(this.ctx)}}class fo{namedBlocks;hasSemanticContent;nonBlockChildren;constructor(e,s,a){this.loc=e,this.children=s,this.block=a,this.namedBlocks=s.filter(i=>i instanceof qs),this.hasSemanticContent=!!s.filter(i=>{if(i instanceof qs)return!1;switch(i.type){case"GlimmerComment":case"HtmlComment":return!1;case"HtmlText":return!/^\s*$/u.test(i.chars);default:return!0}}).length,this.nonBlockChildren=s.filter(i=>!(i instanceof qs))}}class _m extends fo{assertTemplate(e){if(en(this.namedBlocks))throw dr("Unexpected named block at the top-level of a template",this.loc);return this.block.builder.template(e,this.nonBlockChildren,this.block.loc(this.loc))}}class Tm extends fo{assertBlock(e){if(en(this.namedBlocks))throw dr("Unexpected named block nested in a normal block",this.loc);return this.block.builder.block(e,this.nonBlockChildren,this.loc)}}class xm extends fo{constructor(e,s,a,i){super(s,a,i),this.el=e}assertNamedBlock(e,s){if(this.el.base.selfClosing)throw dr(`<:${e.chars}/> is not a valid named block: named blocks cannot be self-closing`,this.loc);if(en(this.namedBlocks))throw dr(`Unexpected named block inside <:${e.chars}> named block: named blocks cannot contain nested named blocks`,this.loc);if((a=e.chars)[0]!==a[0]?.toLowerCase()||a[0]===a[0]?.toUpperCase())throw dr(`<:${e.chars}> is not a valid named block, and named blocks must begin with a lowercase letter`,this.loc);var a;if(this.el.base.attrs.length>0||this.el.base.componentArgs.length>0||this.el.base.modifiers.length>0)throw dr(`named block <:${e.chars}> cannot have attributes, arguments, or modifiers`,this.loc);let i=Bn.range(this.nonBlockChildren,this.loc);return this.block.builder.namedBlock(e,this.block.builder.block(s,this.nonBlockChildren,i),this.loc)}assertElement(e,s){if(s)throw dr(`Unexpected block params in <${e.chars}>: simple elements cannot have block params`,this.loc);if(en(this.namedBlocks)){let a=this.namedBlocks.map(i=>i.name);if(a.length===1)throw dr(`Unexpected named block <:foo> inside <${e.chars}> HTML element`,this.loc);{let i=a.map(er=>`<:${er.chars}>`).join(", ");throw dr(`Unexpected named blocks inside <${e.chars}> HTML element (${i})`,this.loc)}}return this.el.simple(e,this.nonBlockChildren,this.loc)}assertComponent(e,s,a){if(en(this.namedBlocks)&&this.hasSemanticContent)throw dr(`Unexpected content inside <${e}> component invocation: when using named blocks, the tag cannot contain other content`,this.loc);if(en(this.namedBlocks)){if(a)throw dr(`Unexpected block params list on <${e}> component invocation: when passing named blocks, the invocation tag cannot take block params`,this.loc);let i=new Set;for(let er of this.namedBlocks){let nr=er.name.chars;if(i.has(nr))throw dr(`Component had two named blocks with the same name, \`<:${nr}>\`. Only one block with a given name may be passed`,this.loc);if(nr==="inverse"&&i.has("else")||nr==="else"&&i.has("inverse"))throw dr("Component has both <:else> and <:inverse> block. <:inverse> is an alias for <:else>",this.loc);i.add(nr)}return this.namedBlocks}return[this.block.builder.namedBlock(fn.synthetic("default"),this.block.builder.block(s,this.nonBlockChildren,this.loc),this.loc)]}}function fa(r){switch(r.type){case"StringLiteral":case"BooleanLiteral":case"NumberLiteral":case"UndefinedLiteral":case"NullLiteral":return!0;default:return!1}}function ga(r,e){throw dr(`Unexpected literal \`${r.type==="StringLiteral"?JSON.stringify(r.value):String(r.value)}\``,e)}function Jc(r){return r.type!=="PathExpression"&&r.path.type==="PathExpression"?Jc(r.path):new Ji({entityEncoding:"raw"}).print(r)}function Wc(r){return r.type==="PathExpression"?r.head.original:r.path.type==="PathExpression"?Wc(r.path):new Ji({entityEncoding:"raw"}).print(r)}const go=Object.defineProperty({__proto__:null,AST:Uc,ASTv1:Uc,ASTv2:zn,BlockSymbolTable:Vc,KEYWORDS_TYPES:la,Path:to,ProgramSymbolTable:$c,SourceSlice:fn,SpanList:Bn,SymbolTable:za,Walker:to,WalkerPath:ha,builders:so,cannotRemoveNode:eo,cannotReplaceNode:ac,generateSyntaxError:dr,getTemplateLocals:bm,getVoidTags:sm,hasSpan:Qi,isKeyword:Wi,isVoidTag:Gi,loc:Ps,maybeLoc:Ma,node:_r,normalize:Gc,preprocess:_s,print:Fs,sortByLoc:ec,src:ua,traverse:$a,visitorKeys:sc},Symbol.toStringTag,{value:"Module"}),Cm={Component:0,Helper:1,String:2,Empty:3,SafeString:4,Fragment:5,Node:6,Other:8},pn={Component:0,Helper:1,Modifier:2},Kc={Empty:0,dynamicLayout:1,dynamicTag:2,prepareArgs:4,createArgs:8,attributeHook:16,elementHook:32,dynamicScope:64,createCaller:128,updateHook:256,createInstance:512,wrapped:1024,willDestroy:2048,hasSubOwner:4096},Nm=8,Om=2147483647,Lm=255,Bm=255,Im=768,Dm=1024,Hm={PushFrame:0,PopFrame:1,InvokeVirtual:2,InvokeStatic:3,Jump:4,Return:5,ReturnTo:6,Size:7},Fm={Helper:16,SetNamedVariables:17,SetBlocks:18,SetVariable:19,SetBlock:20,GetVariable:21,GetProperty:22,GetBlock:23,SpreadBlock:24,HasBlock:25,HasBlockParams:26,Concat:27,Constant:28,ConstantReference:29,Primitive:30,PrimitiveReference:31,ReifyU32:32,Dup:33,Pop:34,Load:35,Fetch:36,RootScope:37,VirtualRootScope:38,ChildScope:39,PopScope:40,Text:41,Comment:42,AppendHTML:43,AppendSafeHTML:44,AppendDocumentFragment:45,AppendNode:46,AppendText:47,OpenElement:48,OpenDynamicElement:49,PushRemoteElement:50,StaticAttr:51,DynamicAttr:52,ComponentAttr:53,FlushElement:54,CloseElement:55,PopRemoteElement:56,Modifier:57,BindDynamicScope:58,PushDynamicScope:59,PopDynamicScope:60,CompileBlock:61,PushBlockScope:62,PushSymbolTable:63,InvokeYield:64,JumpIf:65,JumpUnless:66,JumpEq:67,AssertSame:68,Enter:69,Exit:70,ToBoolean:71,EnterList:72,ExitList:73,Iterate:74,Main:75,ContentType:76,Curry:77,PushComponentDefinition:78,PushDynamicComponentInstance:79,ResolveDynamicComponent:80,ResolveCurriedComponent:81,PushArgs:82,PushEmptyArgs:83,PopArgs:84,PrepareArgs:85,CaptureArgs:86,CreateComponent:87,RegisterComponentDestructor:88,PutComponentOperations:89,GetComponentSelf:90,GetComponentTagName:91,GetComponentLayout:92,BindEvalScope:93,SetupForEval:94,PopulateLayout:95,InvokeComponentLayout:96,BeginComponentTransaction:97,CommitComponentTransaction:98,DidCreateElement:99,DidRenderLayout:100,ResolveMaybeLocal:102,Debugger:103,Size:104,StaticComponentAttr:105,DynamicContentType:106,DynamicHelper:107,DynamicModifier:108,IfInline:109,Not:110,GetDynamicVar:111,Log:112};function Mm(r){return r>=0&&r<=15}function Rm(r){return r>=16}const $m=0,Vm=1,Um=2,jm=3,zm=4,qm=5,Gm=6,Jm=7,Wm=8;let Km=function(r){return r[r.pc=0]="pc",r[r.ra=1]="ra",r[r.fp=2]="fp",r[r.sp=3]="sp",r}({});function Ym(r){return r<=3}let Xm=function(r){return r[r.s0=4]="s0",r[r.s1=5]="s1",r}({}),Qm=function(r){return r[r.t0=6]="t0",r[r.t1=7]="t1",r}({});const Zm=Object.defineProperty({__proto__:null,$fp:Um,$pc:$m,$ra:Vm,$s0:zm,$s1:qm,$sp:jm,$t0:Gm,$t1:Jm,$v0:Wm,ARG_SHIFT:Nm,ContentType:Cm,CurriedType:pn,CurriedTypes:pn,InternalComponentCapabilities:Kc,InternalComponentCapability:Kc,MACHINE_MASK:Dm,MAX_SIZE:Om,MachineOp:Hm,MachineRegister:Km,OPERAND_LEN_MASK:Im,Op:Fm,SavedRegister:Xm,TYPE_MASK:Bm,TYPE_SIZE:Lm,TemporaryRegister:Qm,isLowLevelRegister:Ym,isMachineOp:Mm,isOp:Rm},Symbol.toStringTag,{value:"Module"});let Wr=function(r){return r.Block="Block",r.Call="Call",r.Element="Element",r.AppendPath="AppendPath",r.AppendExpr="AppendExpr",r.Literal="Literal",r.Modifier="Modifier",r.DynamicComponent="DynamicComponent",r.Comment="Comment",r.Splat="Splat",r.Keyword="Keyword",r}({}),xn=function(r){return r.Local="Local",r.Free="Free",r.Arg="Arg",r.Block="Block",r.This="This",r}({});function Yc(r){if(Array.isArray(r))return function(e){if(!Array.isArray(e))return!1;const s=e[0];if(typeof s=="number")switch(s){case nn.Literal:case nn.Get:case nn.Concat:case nn.HasBlock:case nn.HasBlockParams:return!0;default:return!1}return s[0]==="("}(r)?ru(r):function(e){if(Array.isArray(e)&&typeof e[0]=="string")switch(e[0][0]){case"(":case"#":case"<":case"!":return!0;default:return!1}return!1}(r)?function(e){const s=e[0];switch(s[0]){case"(":{let a=null,i=null;return e.length===3?(a=qn(e[1]),i=Gs(e[2])):e.length===2&&(Array.isArray(e[1])?a=qn(e[1]):i=Gs(e[1])),{kind:Wr.Call,head:ba(s),params:a,hash:i,trusted:!1}}case"#":{const{head:a,params:i,hash:er,blocks:nr,blockParams:sr}=Zc(e);return{kind:Wr.Block,head:a,params:i,hash:er,blocks:nr,blockParams:sr}}case"!":{const a=e[0].slice(1),{params:i,hash:er,blocks:nr,blockParams:sr}=Zc(e);return{kind:Wr.Keyword,name:a,params:i,hash:er,blocks:nr,blockParams:sr}}case"<":{let a=Nn(),i=[];return e.length===3?(a=tu(e[1]),i=Sa(e[2])):e.length===2&&(Array.isArray(e[1])?i=Sa(e[1]):a=tu(e[1])),{kind:Wr.Element,name:Ss(td(s),`BUG: expected ${s} to look like a tag name`),attrs:a,block:i}}default:throw new Error(`Unreachable ${JSON.stringify(e)} in normalizeSugaryArrayStatement`)}}(r):function(e){switch(e[0]){case nn.Literal:return{kind:Wr.Literal,value:e[1]};case nn.Append:return ru(e[1],e[2]);case nn.Modifier:return{kind:Wr.Modifier,params:qn(e[1]),hash:Gs(e[2])};case nn.DynamicComponent:return{kind:Wr.DynamicComponent,expr:ka(e[1]),hash:Gs(e[2]),block:Sa(e[3])};case nn.Comment:return{kind:Wr.Comment,value:e[1]}}}(r);if(typeof r=="string")return bo(ya(r),!1);throw Dn(r)}function bo(r,e){return r.type===Kr.GetPath?{kind:Wr.AppendPath,path:r,trusted:e}:{kind:Wr.AppendExpr,expr:r,trusted:e}}function ed(r){const e=/^(#|!)(.*)$/u.exec(r);if(e===null)throw new Error("Unexpected missing # in block head");return ya(e[2])}function ba(r){const e=/^\((.*)\)$/u.exec(r);if(e===null)throw new Error("Unexpected missing () in call head");return ya(e[1])}function Xc(r,e=[]){const s=Qc(r);return en(e)?{type:Kr.GetPath,path:{head:s,tail:e}}:{type:Kr.GetVar,variable:s}}function ya(r){const{kind:e,name:s}=Qc(r),[a,...i]=s.split("."),er={kind:e,name:a,mode:"loose"};return en(i)?{type:Kr.GetPath,path:{head:er,tail:i}}:{type:Kr.GetVar,variable:er}}function Qc(r){let e,s;if(/^this(?:\.|$)/u.test(r))return{kind:xn.This,name:r,mode:"loose"};switch(r[0]){case"^":e=xn.Free,s=r.slice(1);break;case"@":e=xn.Arg,s=r.slice(1);break;case"&":e=xn.Block,s=r.slice(1);break;default:e=xn.Local,s=r}return{kind:e,name:s,mode:"loose"}}function Zc(r){const e=r[0];let s=Nn(),a=null,i=null,er=null;return r.length===2?s=yo(r[1]):r.length===3?(Array.isArray(r[1])?a=qn(r[1]):{hash:i,blockParams:er}=eu(r[1]),s=yo(r[2])):r.length===4&&(a=qn(r[1]),{hash:i,blockParams:er}=eu(r[2]),s=yo(r[3])),{head:ed(e),params:a,hash:i,blockParams:er,blocks:s}}function eu(r){if(r===null)return{hash:null,blockParams:null};let e=null,s=null;return function(a,i){Object.keys(a).forEach(er=>{const nr=a[er];i(er,nr)})}(r,(a,i)=>{a==="as"?s=Array.isArray(i)?i:[i]:(e=e||Nn(),e[a]=ka(i))}),{hash:e,blockParams:s}}function yo(r){return Array.isArray(r)?{default:Sa(r)}:So(r,Sa)}function Sa(r){return r.map(e=>Yc(e))}function tu(r){return So(r,e=>{return(s=e,s==="splat"?{expr:Wr.Splat}:{expr:ka(s)}).expr;var s})}function So(r,e){const s=Nn();return Object.keys(r).forEach(a=>{s[a]=e(r[a],a)}),s}function td(r){return/^<([\d\-a-z][\d\-A-Za-z]*)>$/u.exec(r)?.[1]??null}let nn=function(r){return r[r.Literal=0]="Literal",r[r.Comment=1]="Comment",r[r.Append=2]="Append",r[r.Modifier=3]="Modifier",r[r.DynamicComponent=4]="DynamicComponent",r[r.Get=5]="Get",r[r.Concat=6]="Concat",r[r.HasBlock=7]="HasBlock",r[r.HasBlockParams=8]="HasBlockParams",r}({}),Kr=function(r){return r.Literal="Literal",r.Call="Call",r.GetPath="GetPath",r.GetVar="GetVar",r.Concat="Concat",r.HasBlock="HasBlock",r.HasBlockParams="HasBlockParams",r}({});function ru(r,e=!1){if(r==null)return{expr:{type:Kr.Literal,value:r},kind:Wr.AppendExpr,trusted:!1};if(Array.isArray(r))switch(r[0]){case nn.Literal:return{expr:{type:Kr.Literal,value:r[1]},kind:Wr.AppendExpr,trusted:!1};case nn.Get:return bo(Xc(r[1],r[2]),e);case nn.Concat:return{expr:{type:Kr.Concat,params:qn(r.slice(1))},kind:Wr.AppendExpr,trusted:e};case nn.HasBlock:return{expr:{type:Kr.HasBlock,name:r[1]},kind:Wr.AppendExpr,trusted:e};case nn.HasBlockParams:return{expr:{type:Kr.HasBlockParams,name:r[1]},kind:Wr.AppendExpr,trusted:e};default:if(nu(r))return{expr:su(r),kind:Wr.AppendExpr,trusted:e};throw new Error(`Unexpected array in expression position (wasn't a tuple expression and ${r[0]} isn't wrapped in parens, so it isn't a call): ${JSON.stringify(r)}`)}else{if(typeof r=="object")throw Dn(r);switch(typeof r){case"string":return bo(ya(r),e);case"boolean":case"number":return{expr:{type:Kr.Literal,value:r},kind:Wr.AppendExpr,trusted:!0};default:throw Dn(r)}}}function ka(r){if(r==null)return{type:Kr.Literal,value:r};if(Array.isArray(r))switch(r[0]){case nn.Literal:return{type:Kr.Literal,value:r[1]};case nn.Get:return Xc(r[1],r[2]);case nn.Concat:return{type:Kr.Concat,params:qn(r.slice(1))};case nn.HasBlock:return{type:Kr.HasBlock,name:r[1]};case nn.HasBlockParams:return{type:Kr.HasBlockParams,name:r[1]};default:if(nu(r))return su(r);throw new Error(`Unexpected array in expression position (wasn't a tuple expression and ${r[0]} isn't wrapped in parens, so it isn't a call): ${JSON.stringify(r)}`)}else{if(typeof r=="object")throw Dn(r);switch(typeof r){case"string":return ya(r);case"boolean":case"number":return{type:Kr.Literal,value:r};default:throw Dn(r)}}}function nu(r){return typeof r[0]=="string"&&r[0][0]==="("}function qn(r){return r.map(ka)}function Gs(r){return r===null?null:So(r,ka)}function su(r){switch(r.length){case 1:return{type:Kr.Call,head:ba(r[0]),params:null,hash:null};case 2:return Array.isArray(r[1])?{type:Kr.Call,head:ba(r[0]),params:qn(r[1]),hash:null}:{type:Kr.Call,head:ba(r[0]),params:null,hash:Gs(r[1])};case 3:return{type:Kr.Call,head:ba(r[0]),params:qn(r[1]),hash:Gs(r[2])}}}class au{_freeVariables=[];_symbols=["this"];top=this;toSymbols(){return this._symbols.slice(1)}toUpvars(){return this._freeVariables}freeVar(e){return vo(this._freeVariables,e)}block(e){return this.symbol(e)}arg(e){return vo(this._symbols,e)}local(e){throw new Error(`No local ${e} was found. Maybe you meant ^${e} for upvar, or !${e} for keyword?`)}this(){return 0}hasLocal(e){return!1}symbol(e){return vo(this._symbols,e)}child(e){return new ko(this,e)}}class ko{locals=Nn();constructor(e,s){this.parent=e;for(let a of s)this.locals[a]=e.top.symbol(a)}get paramSymbols(){return Ol(this.locals)}get top(){return this.parent.top}freeVar(e){return this.parent.freeVar(e)}arg(e){return this.parent.arg(e)}block(e){return this.parent.block(e)}local(e){return e in this.locals?this.locals[e]:this.parent.local(e)}this(){return this.parent.this()}hasLocal(e){return e in this.locals||this.parent.hasLocal(e)}child(e){return new ko(this,e)}}function vo(r,e){let s=r.indexOf(e);return s===-1&&(s=r.length,r.push(e)),s}function iu(r){return new Error(`unimplemented ${r}`)}function rd(r,e){let s=[];return r.forEach(a=>s.push(...qa(Yc(a),e))),s}function nd(r,e){let s=[];return r.forEach(a=>s.push(...qa(a,e))),s}function qa(r,e=new au){switch(r.kind){case Wr.AppendPath:return[[r.trusted?ur.TrustingAppend:ur.Append,Eo(r.path,e)]];case Wr.AppendExpr:return[[r.trusted?ur.TrustingAppend:ur.Append,Ts(r.expr,r.trusted?"TrustedAppend":"Append",e)]];case Wr.Call:{let{head:s,params:a,hash:i,trusted:er}=r,nr=a?Ga(a,e):null,sr=i?Ao(i,e):null,lr=wo(s,er?Tn.ResolveAsHelperHead:Tn.ResolveAsComponentOrHelperHead,e);return[[er?ur.TrustingAppend:ur.Append,[ur.Call,lr,nr,sr]]]}case Wr.Literal:return[[ur.Append,r.value]];case Wr.Comment:return[[ur.Comment,r.value]];case Wr.Block:{let s=function(nr,sr,lr){let hr=[],gr=[];for(const[vr,Or]of Object.entries(nr))if(hr.push(vr),vr==="default"){let Gr=lr.child(sr||[]);gr.push(Ja(Or,Gr,Gr.paramSymbols))}else gr.push(Ja(Or,lr,[]));return[hr,gr]}(r.blocks,r.blockParams,e),a=Ao(r.hash,e),i=Ga(r.params,e),er=wo(r.head,Tn.ResolveAsComponentHead,e);return[[ur.Block,er,i,a,s]]}case Wr.Keyword:return[ld(r,e)];case Wr.Element:return function({name:s,attrs:a,block:i},er){let nr=[cd(a)?[ur.OpenElementWithSplat,s]:[ur.OpenElement,s]];if(a){let{params:sr,args:lr}=function(hr,gr){let vr=[],Or=[],Gr=[];for(const[Qr,gn]of Object.entries(hr))gn===Wr.Splat?vr.push([ur.AttrSplat,gr.block("&attrs")]):Qr[0]==="@"?(Or.push(Qr),Gr.push(Ts(gn,"Strict",gr))):vr.push(...hd(Qr,gn,ud(Qr),gr));return{params:vr,args:en(Or)&&en(Gr)?[Or,Gr]:null}}(a,er);nr.push(...sr),Dr(lr===null,"Can't pass args to a simple element")}if(nr.push([ur.FlushElement]),Array.isArray(i))i.forEach(sr=>nr.push(...qa(sr,er)));else if(i!==null)throw Dn(i);return nr.push([ur.CloseElement]),nr}(r,e);case Wr.Modifier:throw iu("modifier");case Wr.DynamicComponent:throw iu("dynamic component");default:throw Dn(r)}}function sd(r,...e){let s=r.reduce((a,i,er)=>a+`${i}${e[er]?String(e[er]):""}`,"");return[nn.Literal,s]}function ad(r,...e){let s=r.reduce((a,i,er)=>a+`${i}${e[er]?String(e[er]):""}`,"");return[nn.Comment,s]}function id(r){return String.fromCharCode(parseInt(r,16))}const od=`
`;function ld(r,e){let{name:s}=r,a=Ga(r.params,e),i=e.child(r.blockParams||[]),er=Ja(r.blocks.default,i,i.paramSymbols),nr=r.blocks.else?Ja(r.blocks.else,e,[]):null;switch(s){case"let":return[ur.Let,Ss(a,"let requires params"),er];case"if":return[ur.If,Ss(a,"if requires params")[0],er,nr];case"each":{let sr=r.hash?r.hash.key:null,lr=sr?Ts(sr,"Strict",e):null;return[ur.Each,Ss(a,"if requires params")[0],lr,er,nr]}default:throw new Error("unimplemented keyword")}}function cd(r){return r!==null&&Object.keys(r).some(e=>r[e]===Wr.Splat)}function ud(r){if(r==="xmlns")return xi;let e=/^([^:]*):([^:]*)$/u.exec(r);if(e===null)return null;switch(e[1]){case"xlink":return El;case"xml":return Al;case"xmlns":return xi}return null}function hd(r,e,s,a){if(e.type===Kr.Literal){let i=e.value;if(i===!1)return[];if(i===!0)return[[ur.StaticAttr,r,"",s??void 0]];if(typeof i=="string")return[[ur.StaticAttr,r,i,s??void 0]];throw new Error(`Unexpected/unimplemented literal attribute ${JSON.stringify(i)}`)}return[[ur.DynamicAttr,r,Ts(e,"AttrValue",a),s??void 0]]}function ou(r,e){switch(r){case"Append":return e?"AppendBare":"AppendInvoke";case"TrustedAppend":return e?"TrustedAppendBare":"TrustedAppendInvoke";case"AttrValue":return e?"AttrValueBare":"AttrValueInvoke";default:return r}}function Ts(r,e,s){switch(r.type){case Kr.GetPath:return Eo(r,s);case Kr.GetVar:return va(r.variable,ou(e,!0),s);case Kr.Concat:return[ur.Concat,pd(r.params,s)];case Kr.Call:{let a=Ga(r.params,s),i=Ao(r.hash,s),er=wo(r.head,e==="Strict"?"SubExpression":ou(e,!1),s);return[ur.Call,er,a,i]}case Kr.HasBlock:return[ur.HasBlock,va({kind:xn.Block,name:r.name},Tn.Strict,s)];case Kr.HasBlockParams:return[ur.HasBlockParams,va({kind:xn.Block,name:r.name},Tn.Strict,s)];case Kr.Literal:return r.value===void 0?[ur.Undefined]:r.value;default:Dn(r)}}function wo(r,e,s){return r.type===Kr.GetVar?va(r.variable,e,s):Eo(r,s)}function Eo(r,e){return va(r.path.head,Tn.Strict,e,r.path.tail)}function va(r,e,s,a){let i,er=ur.GetSymbol;return r.kind===xn.Free?(er=e==="Strict"?ur.GetStrictKeyword:e==="AppendBare"||e==="AppendInvoke"?ur.GetFreeAsComponentOrHelperHead:e==="TrustedAppendBare"||e==="TrustedAppendInvoke"||e==="AttrValueBare"||e==="AttrValueInvoke"||e==="SubExpression"?ur.GetFreeAsHelperHead:function(nr){switch(nr){case Tn.Strict:return ur.GetStrictKeyword;case Tn.ResolveAsComponentOrHelperHead:return ur.GetFreeAsComponentOrHelperHead;case Tn.ResolveAsHelperHead:return ur.GetFreeAsHelperHead;case Tn.ResolveAsModifierHead:return ur.GetFreeAsModifierHead;case Tn.ResolveAsComponentHead:return ur.GetFreeAsComponentHead;default:return Ds(nr)}}(e),i=s.freeVar(r.name)):(er=ur.GetSymbol,i=function(nr,sr,lr){switch(nr){case xn.Arg:return sr.arg(lr);case xn.Block:return sr.block(lr);case xn.Local:return sr.local(lr);case xn.This:return sr.this();default:return Ds(nr)}}(r.kind,s,r.name)),a===void 0||a.length===0?[er,i]:(Dr(er!==ur.GetStrictKeyword,"[BUG] keyword with a path"),[er,i,a])}function Ga(r,e){return r!==null&&en(r)?r.map(s=>Ts(s,"Strict",e)):null}function pd(r,e){return r.map(s=>Ts(s,"AttrValue",e))}function Ao(r,e){if(r===null)return null;let s=[[],[]];for(const[a,i]of Object.entries(r))s[0].push(a),s[1].push(Ts(i,"Strict",e));return s}function Ja(r,e,s=[]){return[nd(r,e),s]}class md extends _r("Template").fields(){}class dd extends _r("InElement").fields(){}class lu extends _r("Not").fields(){}class cu extends _r("If").fields(){}class fd extends _r("IfInline").fields(){}class gd extends _r("Each").fields(){}class bd extends _r("Let").fields(){}class yd extends _r("WithDynamicVars").fields(){}class Sd extends _r("GetDynamicVar").fields(){}class kd extends _r("Log").fields(){}class uu extends _r("InvokeComponent").fields(){}class vd extends _r("NamedBlocks").fields(){}class wd extends _r("NamedBlock").fields(){}class Ed extends _r("AppendTrustedHTML").fields(){}class Wa extends _r("AppendTextNode").fields(){}class Ad extends _r("AppendComment").fields(){}class Pd extends _r("Component").fields(){}class _d extends _r("StaticAttr").fields(){}class Td extends _r("DynamicAttr").fields(){}class xd extends _r("SimpleElement").fields(){}class Cd extends _r("ElementParameters").fields(){}class Nd extends _r("Yield").fields(){}class Od extends _r("Debugger").fields(){}class hu extends _r("CallExpression").fields(){}class Ld extends _r("Modifier").fields(){}class Bd extends _r("InvokeBlock").fields(){}class Id extends _r("SplatAttr").fields(){}class Dd extends _r("PathExpression").fields(){}class Hd extends _r("Missing").fields(){}class Fd extends _r("InterpolateExpression").fields(){}class Md extends _r("HasBlock").fields(){}class Rd extends _r("HasBlockParams").fields(){}class $d extends _r("Curry").fields(){}class Vd extends _r("Positional").fields(){}class pu extends _r("NamedArguments").fields(){}class mu extends _r("NamedArgument").fields(){}class Ud extends _r("Args").fields(){}class jd extends _r("Tail").fields(){}class Po{constructor(e){this.list=e}toArray(){return this.list}map(e){let s=_i(this.list,e);return new Po(s)}filter(e){let s=[];for(let a of this.list)e(a)&&s.push(a);return wa(s)}toPresentArray(){return this.list}into({ifPresent:e}){return e(this)}}class Ka{list=[];map(e){return new Ka}filter(e){return new Ka}toArray(){return this.list}toPresentArray(){return null}into({ifEmpty:e}){return e()}}function wa(r){return en(r)?new Po(r):new Ka}class _o{static all(...e){let s=[];for(let a of e){if(a.isErr)return a.cast();s.push(a.value)}return Hr(s)}}const mn=_o;class zd extends _o{isOk=!0;isErr=!1;constructor(e){super(),this.value=e}expect(e){return this.value}ifOk(e){return e(this.value),this}andThen(e){return e(this.value)}mapOk(e){return Hr(e(this.value))}ifErr(e){return this}mapErr(e){return this}}class du extends _o{isOk=!1;isErr=!0;constructor(e){super(),this.reason=e}expect(e){throw new Error(e||"expected an Ok, got Err")}andThen(e){return this.cast()}mapOk(e){return this.cast()}ifOk(e){return this}mapErr(e){return Vr(e(this.reason))}ifErr(e){return e(this.reason),this}cast(){return this}}function Hr(r){return new zd(r)}function Vr(r){return new du(r)}class xs{constructor(e=[]){this.items=e}add(e){this.items.push(e)}toArray(){let e=this.items.filter(s=>s instanceof du)[0];return e!==void 0?e.cast():Hr(this.items.map(s=>s.value))}toOptionalList(){return this.toArray().mapOk(e=>wa(e))}}function Ya(r){return r.type==="Path"&&r.ref.type==="Free"&&r.ref.name in la?new zn.CallExpression({callee:r,args:zn.Args.empty(r.loc),loc:r.loc}):r}const jr=new class{visit(r,e){switch(r.type){case"Literal":return Hr(this.Literal(r));case"Keyword":return Hr(this.Keyword(r));case"Interpolate":return this.Interpolate(r,e);case"Path":return this.PathExpression(r);case"Call":{let s=nf.translate(r,e);return s!==null?s:this.CallExpression(r,e)}}}visitList(r,e){return new xs(r.map(s=>jr.visit(s,e))).toOptionalList()}PathExpression(r){let e=this.VariableReference(r.ref),{tail:s}=r;if(en(s)){let a=s[0].loc.extend($n(s).loc);return Hr(new Dd({loc:r.loc,head:e,tail:new jd({loc:a,members:s})}))}return Hr(e)}VariableReference(r){return r}Literal(r){return r}Keyword(r){return r}Interpolate(r,e){let s=r.parts.map(Ya);return jr.visitList(s,e).mapOk(a=>new Fd({loc:r.loc,parts:a}))}CallExpression(r,e){if(r.callee.type==="Call")throw new Error("unimplemented: subexpression at the head of a subexpression");return mn.all(jr.visit(r.callee,e),jr.Args(r.args,e)).mapOk(([s,a])=>new hu({loc:r.loc,callee:s,args:a}))}Args({positional:r,named:e,loc:s},a){return mn.all(this.Positional(r,a),this.NamedArguments(e,a)).mapOk(([i,er])=>new Ud({loc:s,positional:i,named:er}))}Positional(r,e){return jr.visitList(r.exprs,e).mapOk(s=>new Vd({loc:r.loc,list:s}))}NamedArguments(r,e){let s=r.entries.map(a=>{let i=Ya(a.value);return jr.visit(i,e).mapOk(er=>new mu({loc:a.loc,key:a.name,value:er}))});return new xs(s).toOptionalList().mapOk(a=>new pu({loc:r.loc,entries:a}))}};class qd{types;constructor(e,s,a){this.keyword=e,this.delegate=a;let i=new Set;for(let er of Gd[s])i.add(er);this.types=i}match(e){if(!this.types.has(e.type))return!1;let s=Xa(e);return s!==null&&s.type==="Path"&&s.ref.type==="Free"&&s.ref.name===this.keyword}translate(e,s){if(this.match(e)){let a=Xa(e);return a!==null&&a.type==="Path"&&a.tail.length>0?Vr(dr(`The \`${this.keyword}\` keyword was used incorrectly. It was used as \`${a.loc.asString()}\`, but it cannot be used with additional path segments. 

Error caused by`,e.loc)):this.delegate.assert(e,s).andThen(i=>this.delegate.translate({node:e,state:s},i))}return null}}const Gd={Call:["Call"],Block:["InvokeBlock"],Append:["AppendContent"],Modifier:["ElementModifier"]};function Xa(r){switch(r.type){case"Path":return r;case"AppendContent":return Xa(r.value);case"Call":case"InvokeBlock":case"ElementModifier":return r.callee;default:return null}}class Jd{_keywords=[];_type;constructor(e){this._type=e}kw(e,s){return this._keywords.push(function(a,i,er){return new qd(a,i,er)}(e,this._type,s)),this}translate(e,s){for(let i of this._keywords){let er=i.translate(e,s);if(er!==null)return er}let a=Xa(e);if(a&&a.type==="Path"&&a.ref.type==="Free"&&Wi(a.ref.name)){let{name:i}=a.ref,er=this._type,nr=la[i];if(!nr.includes(er))return Vr(dr(`The \`${i}\` keyword was used incorrectly. It was used as ${Wd[er]}, but its valid usages are:

${function(sr,lr){return lr.map(hr=>{switch(hr){case"Append":return`- As an append statement, as in: {{${sr}}}`;case"Block":return`- As a block statement, as in: {{#${sr}}}{{/${sr}}}`;case"Call":return`- As an expression, as in: (${sr})`;case"Modifier":return`- As a modifier, as in: <div {{${sr}}}></div>`;default:return Ds(hr)}}).join(`

`)}(i,nr)}

Error caused by`,e.loc))}return null}}const Wd={Append:"an append statement",Block:"a block statement",Call:"a call expression",Modifier:"a modifier"};function Qa(r){return new Jd(r)}function Js({assert:r,translate:e}){return{assert:r,translate:({node:s,state:a},i)=>e({node:s,state:a},i).mapOk(er=>new Wa({text:er,loc:s.loc}))}}const Kd={[pn.Component]:"component",[pn.Helper]:"helper",[pn.Modifier]:"modifier"};function Za(r){return(e,s)=>{let a=Kd[r],i=r===pn.Component,{args:er}=e,nr=er.nth(0);if(nr===null)return Vr(dr(`(${a}) requires a ${a} definition or identifier as its first positional parameter, did not receive any parameters.`,er.loc));if(nr.type==="Literal"){if(i&&s.isStrict)return Vr(dr(`(${a}) cannot resolve string values in strict mode templates`,e.loc));if(!i)return Vr(dr(`(${a}) cannot resolve string values, you must pass a ${a} definition directly`,e.loc))}return er=new zn.Args({positional:new zn.PositionalArguments({exprs:er.positional.exprs.slice(1),loc:er.positional.loc}),named:er.named,loc:er.loc}),Hr({definition:nr,args:er})}}function Yd(r){return({node:e,state:s},{definition:a,args:i})=>{let er=jr.visit(a,s),nr=jr.Args(i,s);return mn.all(er,nr).mapOk(([sr,lr])=>new $d({loc:e.loc,curriedType:r,definition:sr,args:lr}))}}function To(r){return{assert:Za(r),translate:Yd(r)}}const fu={assert:function(r){let e=r.type==="AppendContent"?r.value:r,s=e.type==="Call"?e.args.named:null,a=e.type==="Call"?e.args.positional:null;if(s&&!s.isEmpty())return Vr(dr("(-get-dynamic-vars) does not take any named arguments",r.loc));let i=a?.nth(0);return i?a&&a.size>1?Vr(dr("(-get-dynamic-vars) only receives one positional arg",r.loc)):Hr(i):Vr(dr("(-get-dynamic-vars) requires a var name to get",r.loc))},translate:function({node:r,state:e},s){return jr.visit(s,e).mapOk(a=>new Sd({name:a,loc:r.loc}))}};function Xd(r){return e=>{let s=e.type==="AppendContent"?e.value:e,a=s.type==="Call"?s.args.named:null,i=s.type==="Call"?s.args.positional:null;if(a&&!a.isEmpty())return Vr(dr(`(${r}) does not take any named arguments`,s.loc));if(!i||i.isEmpty())return Hr(fn.synthetic("default"));if(i.exprs.length===1){let er=i.exprs[0];return zn.isLiteral(er,"string")?Hr(er.toSlice()):Vr(dr(`(${r}) can only receive a string literal as its first argument`,s.loc))}return Vr(dr(`(${r}) only takes a single positional argument`,s.loc))}}function Qd(r){return({node:e,state:{scope:s}},a)=>Hr(r==="has-block"?new Md({loc:e.loc,target:a,symbol:s.allocateBlock(a.chars)}):new Rd({loc:e.loc,target:a,symbol:s.allocateBlock(a.chars)}))}function ei(r){return{assert:Xd(r),translate:Qd(r)}}function Zd(r){return e=>{let s=r==="unless",a=e.type==="AppendContent"?e.value:e,i=a.type==="Call"?a.args.named:null,er=a.type==="Call"?a.args.positional:null;if(i&&!i.isEmpty())return Vr(dr(`(${r}) cannot receive named parameters, received ${i.entries.map(hr=>hr.name.chars).join(", ")}`,e.loc));let nr=er?.nth(0);if(!er||!nr)return Vr(dr(`When used inline, (${r}) requires at least two parameters 1. the condition that determines the state of the (${r}), and 2. the value to return if the condition is ${s?"false":"true"}. Did not receive any parameters`,e.loc));let sr=er.nth(1),lr=er.nth(2);return sr===null?Vr(dr(`When used inline, (${r}) requires at least two parameters 1. the condition that determines the state of the (${r}), and 2. the value to return if the condition is ${s?"false":"true"}. Received only one parameter, the condition`,e.loc)):er.size>3?Vr(dr(`When used inline, (${r}) can receive a maximum of three positional parameters 1. the condition that determines the state of the (${r}), 2. the value to return if the condition is ${s?"false":"true"}, and 3. the value to return if the condition is ${s?"true":"false"}. Received ${er?.size??0} parameters`,e.loc)):Hr({condition:nr,truthy:sr,falsy:lr})}}function ef(r){let e=r==="unless";return({node:s,state:a},{condition:i,truthy:er,falsy:nr})=>{let sr=jr.visit(i,a),lr=jr.visit(er,a),hr=nr?jr.visit(nr,a):Hr(null);return mn.all(sr,lr,hr).mapOk(([gr,vr,Or])=>(e&&(gr=new lu({value:gr,loc:s.loc})),new fd({loc:s.loc,condition:gr,truthy:vr,falsy:Or})))}}function ti(r){return{assert:Zd(r),translate:ef(r)}}const gu={assert:function(r){let{args:{named:e,positional:s}}=r;return e&&!e.isEmpty()?Vr(dr("(log) does not take any named arguments",r.loc)):Hr(s)},translate:function({node:r,state:e},s){return jr.Positional(s,e).mapOk(a=>new kd({positional:a,loc:r.loc}))}},tf=Qa("Append").kw("has-block",Js(ei("has-block"))).kw("has-block-params",Js(ei("has-block-params"))).kw("-get-dynamic-var",Js(fu)).kw("log",Js(gu)).kw("if",Js(ti("if"))).kw("unless",Js(ti("unless"))).kw("yield",{assert(r){let{args:e}=r;if(e.named.isEmpty())return Hr({target:ua.SourceSpan.synthetic("default").toSlice(),positional:e.positional});{let s=e.named.get("to");return e.named.size>1||s===null?Vr(dr("yield only takes a single named argument: 'to'",e.named.loc)):zn.isLiteral(s,"string")?Hr({target:s.toSlice(),positional:e.positional}):Vr(dr("you can only yield to a literal string value",s.loc))}},translate:({node:r,state:e},{target:s,positional:a})=>jr.Positional(a,e).mapOk(i=>new Nd({loc:r.loc,target:s,to:e.scope.allocateBlock(s.chars),positional:i}))}).kw("debugger",{assert(r){let{args:e}=r,{positional:s}=e;return e.isEmpty()?Hr(void 0):s.isEmpty()?Vr(dr("debugger does not take any named arguments",r.loc)):Vr(dr("debugger does not take any positional arguments",r.loc))},translate:({node:r,state:{scope:e}})=>(e.setHasDebugger(),Hr(new Od({loc:r.loc,scope:e})))}).kw("component",{assert:Za(pn.Component),translate({node:r,state:e},{definition:s,args:a}){let i=jr.visit(s,e),er=jr.Args(a,e);return mn.all(i,er).mapOk(([nr,sr])=>new uu({loc:r.loc,definition:nr,args:sr,blocks:null}))}}).kw("helper",{assert:Za(pn.Helper),translate({node:r,state:e},{definition:s,args:a}){let i=jr.visit(s,e),er=jr.Args(a,e);return mn.all(i,er).mapOk(([nr,sr])=>{let lr=new hu({callee:nr,args:sr,loc:r.loc});return new Wa({loc:r.loc,text:lr})})}}),rf=Qa("Block").kw("in-element",{assert(r){let{args:e}=r,s=e.get("guid");if(s)return Vr(dr("Cannot pass `guid` to `{{#in-element}}`",s.loc));let a=e.get("insertBefore"),i=e.nth(0);return i===null?Vr(dr("{{#in-element}} requires a target element as its first positional parameter",e.loc)):Hr({insertBefore:a,destination:i})},translate({node:r,state:e},{insertBefore:s,destination:a}){let i=r.blocks.get("default"),er=yn.NamedBlock(i,e),nr=jr.visit(a,e);return mn.all(er,nr).andThen(([sr,lr])=>s?jr.visit(s,e).mapOk(hr=>({body:sr,destination:lr,insertBefore:hr})):Hr({body:sr,destination:lr,insertBefore:new Hd({loc:r.callee.loc.collapse("end")})})).mapOk(({body:sr,destination:lr,insertBefore:hr})=>new dd({loc:r.loc,block:sr,insertBefore:hr,guid:e.generateUniqueCursor(),destination:lr}))}}).kw("if",{assert(r){let{args:e}=r;if(!e.named.isEmpty())return Vr(dr(`{{#if}} cannot receive named parameters, received ${e.named.entries.map(a=>a.name.chars).join(", ")}`,r.loc));if(e.positional.size>1)return Vr(dr(`{{#if}} can only receive one positional parameter in block form, the conditional value. Received ${e.positional.size} parameters`,r.loc));let s=e.nth(0);return s===null?Vr(dr("{{#if}} requires a condition as its first positional parameter, did not receive any parameters",r.loc)):Hr({condition:s})},translate({node:r,state:e},{condition:s}){let a=r.blocks.get("default"),i=r.blocks.get("else"),er=jr.visit(s,e),nr=yn.NamedBlock(a,e),sr=i?yn.NamedBlock(i,e):Hr(null);return mn.all(er,nr,sr).mapOk(([lr,hr,gr])=>new cu({loc:r.loc,condition:lr,block:hr,inverse:gr}))}}).kw("unless",{assert(r){let{args:e}=r;if(!e.named.isEmpty())return Vr(dr(`{{#unless}} cannot receive named parameters, received ${e.named.entries.map(a=>a.name.chars).join(", ")}`,r.loc));if(e.positional.size>1)return Vr(dr(`{{#unless}} can only receive one positional parameter in block form, the conditional value. Received ${e.positional.size} parameters`,r.loc));let s=e.nth(0);return s===null?Vr(dr("{{#unless}} requires a condition as its first positional parameter, did not receive any parameters",r.loc)):Hr({condition:s})},translate({node:r,state:e},{condition:s}){let a=r.blocks.get("default"),i=r.blocks.get("else"),er=jr.visit(s,e),nr=yn.NamedBlock(a,e),sr=i?yn.NamedBlock(i,e):Hr(null);return mn.all(er,nr,sr).mapOk(([lr,hr,gr])=>new cu({loc:r.loc,condition:new lu({value:lr,loc:r.loc}),block:hr,inverse:gr}))}}).kw("each",{assert(r){let{args:e}=r;if(!e.named.entries.every(i=>i.name.chars==="key"))return Vr(dr(`{{#each}} can only receive the 'key' named parameter, received ${e.named.entries.filter(i=>i.name.chars!=="key").map(i=>i.name.chars).join(", ")}`,e.named.loc));if(e.positional.size>1)return Vr(dr(`{{#each}} can only receive one positional parameter, the collection being iterated. Received ${e.positional.size} parameters`,e.positional.loc));let s=e.nth(0),a=e.get("key");return s===null?Vr(dr("{{#each}} requires an iterable value to be passed as its first positional parameter, did not receive any parameters",e.loc)):Hr({value:s,key:a})},translate({node:r,state:e},{value:s,key:a}){let i=r.blocks.get("default"),er=r.blocks.get("else"),nr=jr.visit(s,e),sr=a?jr.visit(a,e):Hr(null),lr=yn.NamedBlock(i,e),hr=er?yn.NamedBlock(er,e):Hr(null);return mn.all(nr,sr,lr,hr).mapOk(([gr,vr,Or,Gr])=>new gd({loc:r.loc,value:gr,key:vr,block:Or,inverse:Gr}))}}).kw("let",{assert(r){let{args:e}=r;return e.named.isEmpty()?e.positional.size===0?Vr(dr("{{#let}} requires at least one value as its first positional parameter, did not receive any parameters",e.positional.loc)):r.blocks.get("else")?Vr(dr("{{#let}} cannot receive an {{else}} block",e.positional.loc)):Hr({positional:e.positional}):Vr(dr(`{{#let}} cannot receive named parameters, received ${e.named.entries.map(s=>s.name.chars).join(", ")}`,e.named.loc))},translate({node:r,state:e},{positional:s}){let a=r.blocks.get("default"),i=jr.Positional(s,e),er=yn.NamedBlock(a,e);return mn.all(i,er).mapOk(([nr,sr])=>new bd({loc:r.loc,positional:nr,block:sr}))}}).kw("-with-dynamic-vars",{assert:r=>Hr({named:r.args.named}),translate({node:r,state:e},{named:s}){let a=r.blocks.get("default"),i=jr.NamedArguments(s,e),er=yn.NamedBlock(a,e);return mn.all(i,er).mapOk(([nr,sr])=>new yd({loc:r.loc,named:nr,block:sr}))}}).kw("component",{assert:Za(pn.Component),translate({node:r,state:e},{definition:s,args:a}){let i=jr.visit(s,e),er=jr.Args(a,e),nr=yn.NamedBlocks(r.blocks,e);return mn.all(i,er,nr).mapOk(([sr,lr,hr])=>new uu({loc:r.loc,definition:sr,args:lr,blocks:hr}))}}),nf=Qa("Call").kw("has-block",ei("has-block")).kw("has-block-params",ei("has-block-params")).kw("-get-dynamic-var",fu).kw("log",gu).kw("if",ti("if")).kw("unless",ti("unless")).kw("component",To(pn.Component)).kw("helper",To(pn.Helper)).kw("modifier",To(pn.Modifier)),sf=Qa("Modifier"),Cs="http://www.w3.org/1999/xlink",xo="http://www.w3.org/XML/1998/namespace",bu="http://www.w3.org/2000/xmlns/",af={"xlink:actuate":Cs,"xlink:arcrole":Cs,"xlink:href":Cs,"xlink:role":Cs,"xlink:show":Cs,"xlink:title":Cs,"xlink:type":Cs,"xml:base":xo,"xml:lang":xo,"xml:space":xo,xmlns:bu,"xmlns:xlink":bu},of={div:oa.div,span:oa.span,p:oa.p,a:oa.a},lf=["div","span","p","a"];function yu(r){return typeof r=="string"?r:lf[r]}const cf={class:Qn.class,id:Qn.id,value:Qn.value,name:Qn.name,type:Qn.type,style:Qn.style,href:Qn.href},uf=["class","id","value","name","type","style","href"];function Su(r){return cf[r]??r}function Ws(r){return typeof r=="string"?r:uf[r]}class ku{delegate;constructor(e,s,a){this.element=e,this.state=a,this.delegate=s}toStatement(){return this.prepare().andThen(e=>this.delegate.toStatement(this,e))}attr(e){let s=e.name,a=e.value,i=(er=s.chars,af[er]||void 0);var er;return zn.isLiteral(a,"string")?Hr(new _d({loc:e.loc,name:s,value:a.toSlice(),namespace:i,kind:{component:this.delegate.dynamicFeatures}})):jr.visit(Ya(a),this.state).mapOk(nr=>{let sr=e.trusting;return new Td({loc:e.loc,name:s,value:nr,namespace:i,kind:{trusting:sr,component:this.delegate.dynamicFeatures}})})}modifier(e){let s=sf.translate(e,this.state);if(s!==null)return s;let a=jr.visit(e.callee,this.state),i=jr.Args(e.args,this.state);return mn.all(a,i).mapOk(([er,nr])=>new Ld({loc:e.loc,callee:er,args:nr}))}attrs(){let e=new xs,s=new xs,a=null,i=this.element.attrs.filter(er=>er.type==="SplatAttr").length===0;for(let er of this.element.attrs)er.type==="SplatAttr"?e.add(Hr(new Id({loc:er.loc,symbol:this.state.scope.allocateBlock("attrs")}))):er.name.chars==="type"&&i?a=er:e.add(this.attr(er));for(let er of this.element.componentArgs)s.add(this.delegate.arg(er,this));return a&&e.add(this.attr(a)),mn.all(s.toArray(),e.toArray()).mapOk(([er,nr])=>({attrs:nr,args:new pu({loc:Ma(er,ua.SourceSpan.NON_EXISTENT),entries:wa(er)})}))}prepare(){let e=this.attrs(),s=new xs(this.element.modifiers.map(a=>this.modifier(a))).toArray();return mn.all(e,s).mapOk(([a,i])=>{let{attrs:er,args:nr}=a,sr=[...er,...i];return{args:nr,params:new Cd({loc:Ma(sr,ua.SourceSpan.NON_EXISTENT),body:wa(sr)})}})}}class hf{dynamicFeatures=!0;constructor(e,s){this.tag=e,this.element=s}arg(e,{state:s}){let a=e.name;return jr.visit(Ya(e.value),s).mapOk(i=>new mu({loc:e.loc,key:a,value:i}))}toStatement(e,{args:s,params:a}){let{element:i,state:er}=e;return this.blocks(er).mapOk(nr=>new Pd({loc:i.loc,tag:this.tag,params:a,args:s,blocks:nr}))}blocks(e){return yn.NamedBlocks(this.element.blocks,e)}}class pf{constructor(e,s,a){this.tag=e,this.element=s,this.dynamicFeatures=a}isComponent=!1;arg(e){return Vr(dr(`${e.name.chars} is not a valid attribute name. @arguments are only allowed on components, but the tag for this element (\`${this.tag.chars}\`) is a regular, non-component HTML element.`,e.loc))}toStatement(e,{params:s}){let{state:a,element:i}=e;return yn.visitList(this.element.body,a).mapOk(er=>new xd({loc:i.loc,tag:this.tag,params:s,body:er.toArray(),dynamicFeatures:this.dynamicFeatures}))}}const yn=new class{visitList(r,e){return new xs(r.map(s=>yn.visit(s,e))).toOptionalList().mapOk(s=>s.filter(a=>a!==null))}visit(r,e){switch(r.type){case"GlimmerComment":return Hr(null);case"AppendContent":return this.AppendContent(r,e);case"HtmlText":return Hr(this.TextNode(r));case"HtmlComment":return Hr(this.HtmlComment(r));case"InvokeBlock":return this.InvokeBlock(r,e);case"InvokeComponent":return this.Component(r,e);case"SimpleElement":return this.SimpleElement(r,e)}}InvokeBlock(r,e){let s=rf.translate(r,e);if(s!==null)return s;let a=jr.visit(r.callee,e),i=jr.Args(r.args,e);return mn.all(a,i).andThen(([er,nr])=>this.NamedBlocks(r.blocks,e).mapOk(sr=>new Bd({loc:r.loc,head:er,args:nr,blocks:sr})))}NamedBlocks(r,e){return new xs(r.blocks.map(s=>this.NamedBlock(s,e))).toArray().mapOk(s=>new vd({loc:r.loc,blocks:wa(s)}))}NamedBlock(r,e){return e.visitBlock(r.block).mapOk(s=>new wd({loc:r.loc,name:r.name,body:s.toArray(),scope:r.block.scope}))}SimpleElement(r,e){return new ku(r,new pf(r.tag,r,function({attrs:s,modifiers:a}){return a.length>0||!!s.filter(i=>i.type==="SplatAttr")[0]}(r)),e).toStatement()}Component(r,e){return jr.visit(r.callee,e).andThen(s=>new ku(r,new hf(s,r),e).toStatement())}AppendContent(r,e){let s=tf.translate(r,e);return s!==null?s:jr.visit(r.value,e).mapOk(a=>r.trusting?new Ed({loc:r.loc,html:a}):new Wa({loc:r.loc,text:a}))}TextNode(r){return new Wa({loc:r.loc,text:new zn.LiteralExpression({loc:r.loc,value:r.chars})})}HtmlComment(r){return new Ad({loc:r.loc,value:r.text})}};class mf{_currentScope;_cursorCount=0;constructor(e,s){this.isStrict=s,this._currentScope=e}generateUniqueCursor(){return`%cursor:${this._cursorCount++}%`}get scope(){return this._currentScope}visitBlock(e){let s=this._currentScope;this._currentScope=e.scope;try{return yn.visitList(e.body,this)}finally{this._currentScope=s}}}var _n=function(r){return r.Value="value",r.Component="component",r.Helper="helper",r.Modifier="modifier",r.ComponentOrHelper="component or helper",r}(_n||{});class df{static validate(e){return new this(e).validate()}constructor(e){this.template=e}validate(){return this.Statements(this.template.body).mapOk(()=>this.template)}Statements(e){let s=Hr(null);for(let a of e)s=s.andThen(()=>this.Statement(a));return s}NamedBlocks({blocks:e}){let s=Hr(null);for(let a of e.toArray())s=s.andThen(()=>this.NamedBlock(a));return s}NamedBlock(e){return this.Statements(e.body)}Statement(e){switch(e.type){case"InElement":return this.InElement(e);case"Debugger":case"AppendComment":return Hr(null);case"Yield":return this.Yield(e);case"AppendTrustedHTML":return this.AppendTrustedHTML(e);case"AppendTextNode":return this.AppendTextNode(e);case"Component":return this.Component(e);case"SimpleElement":return this.SimpleElement(e);case"InvokeBlock":return this.InvokeBlock(e);case"If":return this.If(e);case"Each":return this.Each(e);case"Let":return this.Let(e);case"WithDynamicVars":return this.WithDynamicVars(e);case"InvokeComponent":return this.InvokeComponent(e)}}Expressions(e){let s=Hr(null);for(let a of e)s=s.andThen(()=>this.Expression(a));return s}Expression(e,s=e,a){switch(e.type){case"Literal":case"Keyword":case"Missing":case"This":case"Arg":case"Local":case"HasBlock":case"HasBlockParams":case"GetDynamicVar":return Hr(null);case"PathExpression":return this.Expression(e.head,s,a);case"Free":return this.errorFor(e.name,s,a);case"InterpolateExpression":return this.InterpolateExpression(e,s,a);case"CallExpression":return this.CallExpression(e,s,a??_n.Helper);case"Not":return this.Expression(e.value,s,a);case"IfInline":return this.IfInline(e);case"Curry":return this.Curry(e);case"Log":return this.Log(e)}}Args(e){return this.Positional(e.positional).andThen(()=>this.NamedArguments(e.named))}Positional(e,s){let a=Hr(null),i=e.list.toArray();return a=i.length===1?this.Expression(i[0],s):this.Expressions(i),a}NamedArguments({entries:e}){let s=Hr(null);for(let a of e.toArray())s=s.andThen(()=>this.NamedArgument(a));return s}NamedArgument(e){return e.value.type==="CallExpression"?this.Expression(e.value,e,_n.Helper):this.Expression(e.value,e)}ElementParameters({body:e}){let s=Hr(null);for(let a of e.toArray())s=s.andThen(()=>this.ElementParameter(a));return s}ElementParameter(e){switch(e.type){case"StaticAttr":case"SplatAttr":return Hr(null);case"DynamicAttr":return this.DynamicAttr(e);case"Modifier":return this.Modifier(e)}}DynamicAttr(e){return e.value.type==="CallExpression"?this.Expression(e.value,e,_n.Helper):this.Expression(e.value,e)}Modifier(e){return this.Expression(e.callee,e,_n.Modifier).andThen(()=>this.Args(e.args))}InElement(e){return this.Expression(e.destination).andThen(()=>this.Expression(e.insertBefore)).andThen(()=>this.NamedBlock(e.block))}Yield(e){return this.Positional(e.positional,e)}AppendTrustedHTML(e){return this.Expression(e.html,e)}AppendTextNode(e){return e.text.type==="CallExpression"?this.Expression(e.text,e,_n.ComponentOrHelper):this.Expression(e.text,e)}Component(e){return this.Expression(e.tag,e,_n.Component).andThen(()=>this.ElementParameters(e.params)).andThen(()=>this.NamedArguments(e.args)).andThen(()=>this.NamedBlocks(e.blocks))}SimpleElement(e){return this.ElementParameters(e.params).andThen(()=>this.Statements(e.body))}InvokeBlock(e){return this.Expression(e.head,e.head,_n.Component).andThen(()=>this.Args(e.args)).andThen(()=>this.NamedBlocks(e.blocks))}If(e){return this.Expression(e.condition,e).andThen(()=>this.NamedBlock(e.block)).andThen(()=>e.inverse?this.NamedBlock(e.inverse):Hr(null))}Each(e){return this.Expression(e.value,e).andThen(()=>e.key?this.Expression(e.key,e):Hr(null)).andThen(()=>this.NamedBlock(e.block)).andThen(()=>e.inverse?this.NamedBlock(e.inverse):Hr(null))}Let(e){return this.Positional(e.positional).andThen(()=>this.NamedBlock(e.block))}WithDynamicVars(e){return this.NamedArguments(e.named).andThen(()=>this.NamedBlock(e.block))}InvokeComponent(e){return this.Expression(e.definition,e,_n.Component).andThen(()=>this.Args(e.args)).andThen(()=>e.blocks?this.NamedBlocks(e.blocks):Hr(null))}InterpolateExpression(e,s,a){let i=e.parts.toArray();return i.length===1?this.Expression(i[0],s,a):this.Expressions(i)}CallExpression(e,s,a){return this.Expression(e.callee,s,a).andThen(()=>this.Args(e.args))}IfInline(e){return this.Expression(e.condition).andThen(()=>this.Expression(e.truthy)).andThen(()=>e.falsy?this.Expression(e.falsy):Hr(null))}Curry(e){let s;return s=e.curriedType===pn.Component?_n.Component:e.curriedType===pn.Helper?_n.Helper:_n.Modifier,this.Expression(e.definition,e,s).andThen(()=>this.Args(e.args))}Log(e){return this.Positional(e.positional,e)}errorFor(e,s,a=_n.Value){return Vr(dr(`Attempted to resolve a ${a} in a strict mode template, but that value was not in scope: ${e}`,Ps(s)))}}class ff{upvars;symbols;constructor([e,s,a,i]){this.upvars=i,this.symbols=s}format(e){let s=[];for(let a of e[0])s.push(this.formatOpcode(a));return s}formatOpcode(e){if(!Array.isArray(e))return e;switch(e[0]){case ur.Append:return["append",this.formatOpcode(e[1])];case ur.TrustingAppend:return["trusting-append",this.formatOpcode(e[1])];case ur.Block:return["block",this.formatOpcode(e[1]),this.formatParams(e[2]),this.formatHash(e[3]),this.formatBlocks(e[4])];case ur.InElement:return["in-element",e[1],this.formatOpcode(e[2]),e[3]?this.formatOpcode(e[3]):void 0];case ur.OpenElement:return["open-element",yu(e[1])];case ur.OpenElementWithSplat:return["open-element-with-splat",yu(e[1])];case ur.CloseElement:return["close-element"];case ur.FlushElement:return["flush-element"];case ur.StaticAttr:return["static-attr",Ws(e[1]),e[2],e[3]];case ur.StaticComponentAttr:return["static-component-attr",Ws(e[1]),e[2],e[3]];case ur.DynamicAttr:return["dynamic-attr",Ws(e[1]),this.formatOpcode(e[2]),e[3]];case ur.ComponentAttr:return["component-attr",Ws(e[1]),this.formatOpcode(e[2]),e[3]];case ur.AttrSplat:return["attr-splat"];case ur.Yield:return["yield",e[1],this.formatParams(e[2])];case ur.DynamicArg:return["dynamic-arg",e[1],this.formatOpcode(e[2])];case ur.StaticArg:return["static-arg",e[1],this.formatOpcode(e[2])];case ur.TrustingDynamicAttr:return["trusting-dynamic-attr",Ws(e[1]),this.formatOpcode(e[2]),e[3]];case ur.TrustingComponentAttr:return["trusting-component-attr",Ws(e[1]),this.formatOpcode(e[2]),e[3]];case ur.Debugger:return["debugger",e[1]];case ur.Comment:return["comment",e[1]];case ur.Modifier:return["modifier",this.formatOpcode(e[1]),this.formatParams(e[2]),this.formatHash(e[3])];case ur.Component:return["component",this.formatOpcode(e[1]),this.formatElementParams(e[2]),this.formatHash(e[3]),this.formatBlocks(e[4])];case ur.HasBlock:return["has-block",this.formatOpcode(e[1])];case ur.HasBlockParams:return["has-block-params",this.formatOpcode(e[1])];case ur.Curry:return["curry",this.formatOpcode(e[1]),this.formatCurryType(e[2]),this.formatParams(e[3]),this.formatHash(e[4])];case ur.Undefined:return["undefined"];case ur.Call:return["call",this.formatOpcode(e[1]),this.formatParams(e[2]),this.formatHash(e[3])];case ur.Concat:return["concat",this.formatParams(e[1])];case ur.GetStrictKeyword:return["get-strict-free",this.upvars[e[1]]];case ur.GetFreeAsComponentOrHelperHead:return["GetFreeAsComponentOrHelperHead",this.upvars[e[1]],e[2]];case ur.GetFreeAsHelperHead:return["GetFreeAsHelperHead",this.upvars[e[1]],e[2]];case ur.GetFreeAsComponentHead:return["GetFreeAsComponentHead",this.upvars[e[1]],e[2]];case ur.GetFreeAsModifierHead:return["GetFreeAsModifierHead",this.upvars[e[1]],e[2]];case ur.GetSymbol:return e[1]===0?["get-symbol","this",e[2]]:["get-symbol",this.symbols[e[1]-1],e[2]];case ur.GetLexicalSymbol:return["get-template-symbol",e[1],e[2]];case ur.If:return["if",this.formatOpcode(e[1]),this.formatBlock(e[2]),e[3]?this.formatBlock(e[3]):null];case ur.IfInline:return["if-inline"];case ur.Not:return["not"];case ur.Each:return["each",this.formatOpcode(e[1]),e[2]?this.formatOpcode(e[2]):null,this.formatBlock(e[3]),e[4]?this.formatBlock(e[4]):null];case ur.Let:return["let",this.formatParams(e[1]),this.formatBlock(e[2])];case ur.Log:return["log",this.formatParams(e[1])];case ur.WithDynamicVars:return["-with-dynamic-vars",this.formatHash(e[1]),this.formatBlock(e[2])];case ur.GetDynamicVar:return["-get-dynamic-vars",this.formatOpcode(e[1])];case ur.InvokeComponent:return["component",this.formatOpcode(e[1]),this.formatParams(e[2]),this.formatHash(e[3]),this.formatBlocks(e[4])]}}formatCurryType(e){switch(e){case pn.Component:return"component";case pn.Helper:return"helper";case pn.Modifier:return"modifier";default:throw Ds(e)}}formatElementParams(e){return e===null?null:e.map(s=>this.formatOpcode(s))}formatParams(e){return e===null?null:e.map(s=>this.formatOpcode(s))}formatHash(e){return e===null?null:e[0].reduce((s,a,i)=>(s[a]=this.formatOpcode(e[1][i]),s),Nn())}formatBlocks(e){return e===null?null:e[0].reduce((s,a,i)=>(s[a]=this.formatBlock(e[1][i]),s),Nn())}formatBlock(e){return{statements:e[0].map(s=>this.formatOpcode(s)),parameters:e[1]}}}const zr=new class{expr(r){switch(r.type){case"Missing":return;case"Literal":return this.Literal(r);case"Keyword":return this.Keyword(r);case"CallExpression":return this.CallExpression(r);case"PathExpression":return this.PathExpression(r);case"Arg":return[ur.GetSymbol,r.symbol];case"Local":return this.Local(r);case"This":return[ur.GetSymbol,0];case"Free":return[r.resolution.resolution(),r.symbol];case"HasBlock":return this.HasBlock(r);case"HasBlockParams":return this.HasBlockParams(r);case"Curry":return this.Curry(r);case"Not":return this.Not(r);case"IfInline":return this.IfInline(r);case"InterpolateExpression":return this.InterpolateExpression(r);case"GetDynamicVar":return this.GetDynamicVar(r);case"Log":return this.Log(r)}}Literal({value:r}){return r===void 0?[ur.Undefined]:r}Missing(){}HasBlock({symbol:r}){return[ur.HasBlock,[ur.GetSymbol,r]]}HasBlockParams({symbol:r}){return[ur.HasBlockParams,[ur.GetSymbol,r]]}Curry({definition:r,curriedType:e,args:s}){return[ur.Curry,zr.expr(r),e,zr.Positional(s.positional),zr.NamedArguments(s.named)]}Local({isTemplateLocal:r,symbol:e}){return[r?ur.GetLexicalSymbol:ur.GetSymbol,e]}Keyword({symbol:r}){return[ur.GetStrictKeyword,r]}PathExpression({head:r,tail:e}){let s=zr.expr(r);return Dr(s[0]!==ur.GetStrictKeyword,"[BUG] keyword in a PathExpression"),[...s,zr.Tail(e)]}InterpolateExpression({parts:r}){return[ur.Concat,r.map(e=>zr.expr(e)).toArray()]}CallExpression({callee:r,args:e}){return[ur.Call,zr.expr(r),...zr.Args(e)]}Tail({members:r}){return _i(r,e=>e.chars)}Args({positional:r,named:e}){return[this.Positional(r),this.NamedArguments(e)]}Positional({list:r}){return r.map(e=>zr.expr(e)).toPresentArray()}NamedArgument({key:r,value:e}){return[r.chars,zr.expr(e)]}NamedArguments({entries:r}){let e=r.toArray();if(en(e)){let s=[],a=[];for(let i of e){let[er,nr]=zr.NamedArgument(i);s.push(er),a.push(nr)}return ks(s),ks(a),[s,a]}return null}Not({value:r}){return[ur.Not,zr.expr(r)]}IfInline({condition:r,truthy:e,falsy:s}){let a=[ur.IfInline,zr.expr(r),zr.expr(e)];return s&&a.push(zr.expr(s)),a}GetDynamicVar({name:r}){return[ur.GetDynamicVar,zr.expr(r)]}Log({positional:r}){return[ur.Log,this.Positional(r)]}};class vu{constructor(e){this.statements=e}toArray(){return this.statements}}const ln=new class{list(r){let e=[];for(let s of r){let a=ln.content(s);a&&a instanceof vu?e.push(...a.toArray()):e.push(a)}return e}content(r){return this.visitContent(r)}visitContent(r){switch(r.type){case"Debugger":return[ur.Debugger,r.scope.getDebugInfo()];case"AppendComment":return this.AppendComment(r);case"AppendTextNode":return this.AppendTextNode(r);case"AppendTrustedHTML":return this.AppendTrustedHTML(r);case"Yield":return this.Yield(r);case"Component":return this.Component(r);case"SimpleElement":return this.SimpleElement(r);case"InElement":return this.InElement(r);case"InvokeBlock":return this.InvokeBlock(r);case"If":return this.If(r);case"Each":return this.Each(r);case"Let":return this.Let(r);case"WithDynamicVars":return this.WithDynamicVars(r);case"InvokeComponent":return this.InvokeComponent(r);default:return Ds(r)}}Yield({to:r,positional:e}){return[ur.Yield,r,zr.Positional(e)]}InElement({guid:r,insertBefore:e,destination:s,block:a}){let i=ln.NamedBlock(a)[1],er=zr.expr(s),nr=zr.expr(e);return nr===void 0?[ur.InElement,i,r,er]:[ur.InElement,i,r,er,nr]}InvokeBlock({head:r,args:e,blocks:s}){return[ur.Block,zr.expr(r),...zr.Args(e),ln.NamedBlocks(s)]}AppendTrustedHTML({html:r}){return[ur.TrustingAppend,zr.expr(r)]}AppendTextNode({text:r}){return[ur.Append,zr.expr(r)]}AppendComment({value:r}){return[ur.Comment,r.chars]}SimpleElement({tag:r,params:e,body:s,dynamicFeatures:a}){let i=a?ur.OpenElementWithSplat:ur.OpenElement;return new vu([[i,(er=r.chars,of[er]??er)],...ln.ElementParameters(e).toArray(),[ur.FlushElement],...ln.list(s),[ur.CloseElement]]);var er}Component({tag:r,params:e,args:s,blocks:a}){let i=zr.expr(r),er=ln.ElementParameters(e),nr=zr.NamedArguments(s),sr=ln.NamedBlocks(a);return[ur.Component,i,er.toPresentArray(),nr,sr]}ElementParameters({body:r}){return r.map(e=>ln.ElementParameter(e))}ElementParameter(r){switch(r.type){case"SplatAttr":return[ur.AttrSplat,r.symbol];case"DynamicAttr":return[(e=r.kind,e.component?e.trusting?ur.TrustingComponentAttr:ur.ComponentAttr:e.trusting?ur.TrustingDynamicAttr:ur.DynamicAttr),...bf(r)];case"StaticAttr":return[yf(r.kind),...gf(r)];case"Modifier":return[ur.Modifier,zr.expr(r.callee),...zr.Args(r.args)]}var e}NamedBlocks({blocks:r}){let e=[],s=[];for(let a of r.toArray()){let[i,er]=ln.NamedBlock(a);e.push(i),s.push(er)}return e.length>0?[e,s]:null}NamedBlock({name:r,body:e,scope:s}){let a=r.chars;return a==="inverse"&&(a="else"),[a,[ln.list(e),s.slots]]}If({condition:r,block:e,inverse:s}){return[ur.If,zr.expr(r),ln.NamedBlock(e)[1],s?ln.NamedBlock(s)[1]:null]}Each({value:r,key:e,block:s,inverse:a}){return[ur.Each,zr.expr(r),e?zr.expr(e):null,ln.NamedBlock(s)[1],a?ln.NamedBlock(a)[1]:null]}Let({positional:r,block:e}){return[ur.Let,zr.Positional(r),ln.NamedBlock(e)[1]]}WithDynamicVars({named:r,block:e}){return[ur.WithDynamicVars,zr.NamedArguments(r),ln.NamedBlock(e)[1]]}InvokeComponent({definition:r,args:e,blocks:s}){return[ur.InvokeComponent,zr.expr(r),zr.Positional(e.positional),zr.NamedArguments(e.named),s?ln.NamedBlocks(s):null]}};function gf({name:r,value:e,namespace:s}){let a=[Su(r.chars),e.chars];return s&&a.push(s),a}function bf({name:r,value:e,namespace:s}){let a=[Su(r.chars),zr.expr(e)];return s&&a.push(s),a}function yf(r){return r.component?ur.StaticComponentAttr:ur.StaticAttr}const Co=(()=>{const r=typeof commonjsRequire=="function"?commonjsRequire:globalThis.require;if(r)try{const e=r("crypto"),s=a=>{const i=e.createHash("sha1");return i.update(a,"utf8"),i.digest("base64").substring(0,8)};return s("test"),s}catch{}return function(){return null}})(),wu={id:Co};function Eu(r,e=wu){const s=new ua.Source(r??"",e.meta?.moduleName),[a,i]=Gc(s,{lexicalScope:()=>!1,...e}),er=function(nr,sr,lr){let hr=new mf(sr.table,lr),gr=yn.visitList(sr.body,hr).mapOk(vr=>new md({loc:sr.loc,scope:sr.table,body:vr.toArray()}));return lr&&(gr=gr.andThen(vr=>df.validate(vr))),gr}(0,a,e.strictMode??!1).mapOk(nr=>function(sr){let lr=ln.list(sr.body),hr=sr.scope;return[lr,hr.symbols,hr.hasEval,hr.upvars]}(nr));if(er.isOk)return[er.value,i];throw er.reason}function ri(r,e=wu){const[s,a]=Eu(r,e),i=e.meta?.moduleName,er=e.id||Co,nr=JSON.stringify(s),sr={id:er(JSON.stringify(e.meta)+nr),block:nr,moduleName:i??"(unknown template module)",scope:"796d24e6-2450-4fb0-8cdf-b65638b5ef70",isStrictMode:e.strictMode??!1};a.length===0&&delete sr.scope;let lr=JSON.stringify(sr);if(a.length>0){const hr=`()=>[${a.join(",")}]`;lr=lr.replace('"796d24e6-2450-4fb0-8cdf-b65638b5ef70"',hr)}return lr}const Sf=Object.defineProperty({__proto__:null,Builder:nn,NEWLINE:od,ProgramSymbols:au,WireFormatDebugger:ff,buildStatement:qa,buildStatements:rd,c:ad,defaultId:Co,precompile:ri,precompileJSON:Eu,s:sd,unicode:id},Symbol.toStringTag,{value:"Module"}),kf=Object.defineProperty({__proto__:null,CI:!1,DEBUG:!1},Symbol.toStringTag,{value:"Module"}),No="5.12.0",vf=Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"});function Mn(r,e){let s="";if(r&&(s+=`'${r}' `),e){let{column:a,line:i}=e.start||{line:void 0,column:void 0};i!==void 0&&a!==void 0&&(r&&(s+="@ "),s+=`L${i}:C${a}`)}return s&&(s=`(${s}) `),s}const wf=Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"});function Au(r){let{builders:e}=r.syntax,s=r.meta?.moduleName,a=[[]];function i(er){let nr=a[a.length-1];!nr&&Yr("has parent",nr),a.push(nr.concat(er))}return{name:"assert-against-attrs",visitor:{Template:{enter(er){i(er.blockParams)},exit(){a.pop()}},Block:{enter(er){i(er.blockParams)},exit(){a.pop()}},ElementNode:{enter(er){i(er.blockParams)},exit(){a.pop()}},PathExpression(er){if(Ef(er,a[a.length-1]))Yr(`Using {{attrs}} to reference named arguments is not supported. {{${er.original}}} should be updated to {{@${er.original.slice(6)}}}. ${Mn(s,er.loc)}`);else if(Af(er))return ia(`Using {{this.attrs}} to reference named arguments has been deprecated. {{${er.original}}} should be updated to {{@${er.original.slice(11)}}}. ${Mn(s,er.loc)}`,!1,{id:"attrs-arg-access",url:"https://deprecations.emberjs.com/v3.x/#toc_attrs-arg-access",until:"6.0.0",for:"ember-source",since:{available:"3.26.0",enabled:"3.26.0"}}),e.path(`@${er.original.slice(11)}`,er.loc)}}}}function Ef(r,e){return r.head.type==="VarHead"&&r.head.name==="attrs"&&e.indexOf(r.head.name)===-1}function Af(r){return r.head.type==="ThisHead"&&r.tail[0]==="attrs"}const Pf=Object.defineProperty({__proto__:null,default:Au},Symbol.toStringTag,{value:"Module"});function Oo(r){let e=r.meta?.moduleName;return{name:"assert-against-named-outlets",visitor:{MustacheStatement(s){if(s.path.type==="PathExpression"&&s.path.original==="outlet"&&s.params[0]){let a=Mn(e,s.loc);Yr(`Named outlets were removed in Ember 4.0. See https://deprecations.emberjs.com/v3.x#toc_route-render-template for guidance on alternative APIs for named outlet use cases. ${a}`)}}}}}const _f=Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"});function Gn(r){return r.type==="PathExpression"}function Tf(r){return r.type==="SubExpression"}function Pu(r){return r.type==="StringLiteral"}function _u(r){return typeof r=="string"?r:r.original}function Lo(){let r=new Map;return{hasLocal:s=>r.has(s),node:{enter(s){let a="params"in s?s.params:s.blockParams;for(let i of a){let er=_u(i),nr=r.get(i)||0;r.set(er,nr+1)}},exit(s){let a="params"in s?s.params:s.blockParams;for(let i of a){let er=_u(i),nr=r.get(er)-1;nr===0?r.delete(er):r.set(er,nr)}}}}}const xf=Object.defineProperty({__proto__:null,isPath:Gn,isStringLiteral:Pu,isSubExpression:Tf,trackLocals:Lo},Symbol.toStringTag,{value:"Module"});function Tu(r){let e=r.meta?.moduleName;return{name:"assert-input-helper-without-block",visitor:{BlockStatement(s){Gn(s.path)&&s.path.original==="input"&&Yr(Cf(e,s))}}}}function Cf(r,e){return`The {{input}} helper cannot be used in block form. ${Mn(r,e.loc)}`}const Nf=Object.defineProperty({__proto__:null,default:Tu},Symbol.toStringTag,{value:"Module"});function Bo(r){let e=r.meta?.moduleName;return{name:"assert-reserved-named-arguments",visitor:{AttrNode({name:s,loc:a}){s==="@__ARGS__"&&Yr(`${Io(s)} ${Mn(e,a)}`)},HashPair({key:s,loc:a}){s==="__ARGS__"&&Yr(`${Io(s)} ${Mn(e,a)}`)},PathExpression({original:s,loc:a}){Lf(s)&&Yr(`${Io(s)} ${Mn(e,a)}`)}}}}const Of=["@arguments","@args","@block","@else"];function Lf(r){return Of.indexOf(r)!==-1||!!r.match(/^@[^a-z]/)}function Io(r){return`'${r}' is reserved.`}const Bf=Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"});function Do({syntax:r}){let{builders:e}=r;return{name:"transform-action-syntax",visitor:{ElementModifierStatement(s){Ho(s)&&Fo(s,e)},MustacheStatement(s){Ho(s)&&Fo(s,e)},SubExpression(s){Ho(s)&&Fo(s,e)}}}}function Ho(r){return Gn(r.path)&&r.path.original==="action"}function Fo(r,e){r.params.unshift(e.path("this"))}const If=Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"});function Mo(r){let{builders:e}=r.syntax;return{name:"transform-each-in-into-each",visitor:{BlockStatement(s){if(Gn(s.path)&&s.path.original==="each-in"){s.params[0]=e.sexpr(e.path("-each-in"),[s.params[0]]);let a=s.program.blockParams;if(!(!a||a.length===0))if(a.length===1)a=["( unused value )",a[0]];else{let i=a.shift();a=[a.shift(),i,...a]}return s.program.blockParams=a,e.block(e.path("each"),s.params,s.hash,s.program,s.inverse,s.loc)}}}}}const Df=Object.defineProperty({__proto__:null,default:Mo},Symbol.toStringTag,{value:"Module"});function Ro(r){let{builders:e}=r.syntax;return{name:"transform-each-track-array",visitor:{BlockStatement(s){if(Gn(s.path)&&s.path.original==="each"){let a=s.params[0];return!a&&Yr("has firstParam",a),a.type==="SubExpression"&&a.path.type==="PathExpression"&&a.path.original==="-each-in"?void 0:(s.params[0]=e.sexpr(e.path("-track-array"),[a]),e.block(e.path("each"),s.params,s.hash,s.program,s.inverse,s.loc))}}}}}const Hf=Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"});function $o(r){let{builders:e}=r.syntax;return{name:"transform-in-element",visitor:{BlockStatement(s){if(Gn(s.path)&&s.path.original==="in-element"){let a=s.params[0];if(a&&!r.isProduction){let i=e.sexpr("-in-el-null",[a]);s.params.shift(),s.params.unshift(i)}s.hash.pairs.forEach(i=>{i.key==="insertBefore"&&!(i.value.type==="NullLiteral"||i.value.type==="UndefinedLiteral")&&Yr(`Can only pass null to insertBefore in in-element, received: ${JSON.stringify(i.value)}`,i.value.type==="NullLiteral"||i.value.type==="UndefinedLiteral")})}}}}}const Ff=Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"});function Vo(){return{name:"transform-quoted-bindings-into-just-bindings",visitor:{ElementNode(r){let e=Rf(r);Mf(e)&&(e.value=e.value.parts[0])}}}}function Mf(r){if(!r)return!1;let e=r.value;return!e||e.type!=="ConcatStatement"||e.parts.length!==1?!1:e.parts[0].type==="MustacheStatement"}function Rf(r){let e=r.attributes;for(let s of e)if(s.name==="style")return s}const $f=Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"}),xu=Object.freeze(["helper","modifier"]);function Cu(r){let{builders:e}=r.syntax,s=r.meta?.moduleName,{hasLocal:a,node:i}=Lo(),er;return{name:"transform-resolutions",visitor:{Template:{enter(){er=new Set},exit(){er=void 0}},Block:i,ElementNode:{keys:{children:i}},MustacheStatement(nr){if(!er&&Yr("[BUG] seen set should be available",er),!er.has(nr)&&Gn(nr.path)&&!Nu(nr.path,a)&&xu.indexOf(nr.path.original)!==-1){let sr=e.mustache(nr.path,Ou(e,nr.params,nr.path.original,s,nr.loc),nr.hash,nr.trusting,nr.loc,nr.strip);return er.add(sr),sr}},SubExpression(nr){if(!er&&Yr("[BUG] seen set should be available",er),!er.has(nr)&&Gn(nr.path)&&!Nu(nr.path,a)&&xu.indexOf(nr.path.original)!==-1){let sr=e.sexpr(nr.path,Ou(e,nr.params,nr.path.original,s,nr.loc),nr.hash,nr.loc);return er.add(sr),sr}}}}}function Nu(r,e){return r.head.type!=="ThisHead"&&r.tail.length===1&&e(r.head.original)}function Ou(r,e,s,a,i){let[er,...nr]=e;return!er&&Yr(`The ${s} keyword requires at least one positional arguments ${Mn(a,i)}`,er),Pu(er)?[r.sexpr(r.path("-resolve",er.loc),[r.string(`${s}:${er.value}`)],void 0,er.loc),...nr]:[r.sexpr(r.path("-disallow-dynamic-resolution",er.loc),[er],r.hash([r.pair("type",r.string(s),er.loc),r.pair("loc",r.string(Mn(a,i)),er.loc),r.pair("original",r.string(Fs(er)))]),er.loc),...nr]}const Vf=Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"});function Uo(r){let{builders:e}=r.syntax,{hasLocal:s,node:a}=Lo();return{name:"transform-wrap-mount-and-outlet",visitor:{Template:a,ElementNode:a,Block:a,MustacheStatement(i){if(Gn(i.path)&&(i.path.original==="mount"||i.path.original==="outlet")&&!s(i.path.original)){let er=e.sexpr(e.path(`-${i.path.original}`),i.params,i.hash,i.loc);return e.mustache(e.path("component"),[er],e.hash(),void 0,i.loc)}}}}}const Uf=Object.defineProperty({__proto__:null,default:Uo},Symbol.toStringTag,{value:"Module"}),ni=Object.freeze([Vo,Bo,Do,Au,Mo,Tu,$o,Ro,Oo,Uo,Cu]),si=Object.freeze([Vo,Bo,Do,Mo,$o,Ro,Oo,Uo]),Lu=Object.freeze(["action","mut","readonly","unbound","-each-in","-in-el-null","-track-array","-mount","-outlet"]),jf=Object.defineProperty({__proto__:null,RESOLUTION_MODE_TRANSFORMS:ni,STRICT_MODE_KEYWORDS:Lu,STRICT_MODE_TRANSFORMS:si},Symbol.toStringTag,{value:"Module"}),zf=/[A-Z]|::/g,qf=/[A-Za-z0-9]/,Bu=new ol(1e3,r=>r.replace(zf,(e,s)=>e==="::"?"/":s===0||!qf.test(r[s-1])?e.toLowerCase():`-${e.toLowerCase()}`)),Gf=Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"});let Iu=[];function Du(r){return r.indexOf("::")===-1&&r.indexOf(":")>-1}function Ea(r){let e=r.moduleName,s=Object.assign({meta:{},isProduction:!1,plugins:{ast:[]}},r,{moduleName:e,customizeComponentName(a){return Du(a)&&Yr(`You tried to invoke a component named <${a} /> in "${e??"[NO MODULE]"}", but that is not a valid name for a component. Did you mean to use the "::" syntax for nested components?`,!Du(a)),Bu.get(a)}});if("locals"in s&&!s.locals&&delete s.locals,s.moduleName){let a=s.meta;!a&&Yr("has meta",a),a.moduleName=s.moduleName}return s.strictMode&&(s.keywords=Lu),s}function ai(r){return r.strictMode?si:ni}function ii(r={}){let e=Ea(r),s=ai(e);if(!r.plugins)e.plugins={ast:[...Iu,...s]};else{let a=[...Iu,...s];!e.plugins&&Yr("expected plugins",e.plugins);let i=a.filter(er=>(!e.plugins&&Yr("expected plugins",e.plugins),e.plugins.ast.indexOf(er)===-1));e.plugins.ast=e.plugins.ast.concat(i)}return e}const Jf=Object.defineProperty({__proto__:null,buildCompileOptions:Ea,default:ii,transformsFor:ai},Symbol.toStringTag,{value:"Module"});function Aa(r,e={}){return ri(r,ii(e))}const Wf=Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"});function oi(r,e={}){if(!rr.template)throw new Error("Cannot call `compile` with only the template compiler loaded. Please load `ember.debug.js` or `ember.prod.js` prior to calling `compile`.");return rr.template(Kf(Aa(r,e)))}function Kf(r){return new Function(`return ${r}`)()}const Yf=Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"}),Hu=Object.defineProperty({__proto__:null,RESOLUTION_MODE_TRANSFORMS:ni,STRICT_MODE_TRANSFORMS:si,VERSION:No,_Ember:l.default,_GlimmerSyntax:go,_buildCompileOptions:Ea,_precompile:ri,_preprocess:_s,_print:Fs,_transformsFor:ai,compile:oi,compileOptions:ii,precompile:Aa},Symbol.toStringTag,{value:"Module"});function Fu({context:r,hasTemplate:e,setTemplate:s}){r||(r=document);let i=r.querySelectorAll('script[type="text/x-handlebars"]');for(let er of i){let nr=er.getAttribute("data-template-name")||er.getAttribute("id")||"application",sr;if(sr=oi(er.innerHTML,{moduleName:nr}),e(nr))throw new Error(`Template named "${nr}" already exists.`);s(nr,sr),er.parentNode.removeChild(er)}}const Xf=Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"});if(or.default){let r=or.default,{hasTemplate:e,setTemplate:s}=rr,{hasDOM:a}=qr;r.initializer({name:"domTemplates",initialize(){a&&Fu({context:document,hasTemplate:e,setTemplate:s})}})}const Qf=Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"});ar.__registerTemplateCompiler(Hu);const Mu=Object.defineProperty({__proto__:null,RESOLUTION_MODE_TRANSFORMS:ni,STRICT_MODE_TRANSFORMS:si,VERSION:No,_Ember:l.default,_GlimmerSyntax:go,_buildCompileOptions:Ea,_precompile:ri,_preprocess:_s,_print:Fs,_transformsFor:ai,compile:oi,compileOptions:ii,precompile:Aa},Symbol.toStringTag,{value:"Module"}),Zf=Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}),eg=Object.defineProperty({__proto__:null,_buildCompileOptions:Ea,_preprocess:_s,_print:Fs,precompile:Aa},Symbol.toStringTag,{value:"Module"});ir("@ember/-internals/browser-environment/index",qr),ir("@ember/-internals/environment/index",di),ir("@ember/-internals/utils/index",wp),ir("@ember/canary-features/index",Ap),ir("@ember/debug/index",Sp),ir("@ember/debug/lib/capture-render-tree",bp),ir("@ember/debug/lib/deprecate",lh),ir("@ember/debug/lib/handlers",oh),ir("@ember/debug/lib/inspect",Sh),ir("@ember/debug/lib/testing",ch),ir("@ember/debug/lib/warn",uh),ir("@ember/deprecated-features/index",Pp),ir("@glimmer/compiler",Sf),ir("@glimmer/env",kf),ir("@glimmer/syntax",go),ir("@glimmer/util",gp),ir("@glimmer/vm",Zm),ir("@glimmer/wire-format",Bp),ir("@handlebars/parser/index",zp),ir("ember-template-compiler/index",Mu),ir("ember-template-compiler/lib/plugins/assert-against-attrs",Pf),ir("ember-template-compiler/lib/plugins/assert-against-named-outlets",_f),ir("ember-template-compiler/lib/plugins/assert-input-helper-without-block",Nf),ir("ember-template-compiler/lib/plugins/assert-reserved-named-arguments",Bf),ir("ember-template-compiler/lib/plugins/index",jf),ir("ember-template-compiler/lib/plugins/transform-action-syntax",If),ir("ember-template-compiler/lib/plugins/transform-each-in-into-each",Df),ir("ember-template-compiler/lib/plugins/transform-each-track-array",Hf),ir("ember-template-compiler/lib/plugins/transform-in-element",Ff),ir("ember-template-compiler/lib/plugins/transform-quoted-bindings-into-just-bindings",$f),ir("ember-template-compiler/lib/plugins/transform-resolutions",Vf),ir("ember-template-compiler/lib/plugins/transform-wrap-mount-and-outlet",Uf),ir("ember-template-compiler/lib/plugins/utils",xf),ir("ember-template-compiler/lib/public-api",Hu),ir("ember-template-compiler/lib/system/bootstrap",Xf),ir("ember-template-compiler/lib/system/calculate-location-display",wf),ir("ember-template-compiler/lib/system/compile-options",Jf),ir("ember-template-compiler/lib/system/compile",Yf),ir("ember-template-compiler/lib/system/dasherize-component-name",Gf),ir("ember-template-compiler/lib/system/initializer",Qf),ir("ember-template-compiler/lib/system/precompile",Wf),ir("ember-template-compiler/lib/types",Zf),ir("ember-template-compiler/minimal",eg),ir("ember/version",vf),ir("simple-html-tokenizer",Zp),tr.exports&&(tr.exports=Mu)}((()=>{try{return o("ember")}catch{return{__esModule:!0,default:{get ENV(){return o("@ember/-internals/environment").ENV},get FEATURES(){return o("@ember/canary-features").FEATURES},get VERSION(){return o("ember/version").default}}}}})(),(()=>{try{return o("@ember/-internals/glimmer")}catch{return{__esModule:!0}}})(),(()=>{try{return o("@ember/template-compilation")}catch{return{__esModule:!0,__registerTemplateCompiler(){}}}})(),(()=>{try{return o("@ember/application")}catch{return{__esModule:!0}}})())})(emberTemplateCompiler$1);var emberTemplateCompilerExports=emberTemplateCompiler$1.exports;const emberTemplateCompiler=getDefaultExportFromCjs(emberTemplateCompilerExports),_importSync20=_mergeNamespaces({__proto__:null,default:emberTemplateCompiler},[emberTemplateCompilerExports]);async function compileJS(tr,n){let o=nameFor(tr),l,rr;try{let ar=await transpile({code:tr,name:o});if(!ar)throw new Error("Compiled output is missing");l=evalSnippet(ar,n).default}catch(ar){rr=ar}return{name:o,component:l,error:rr}}async function transpile({code:tr,name:n}){let o=await preprocess(tr,n),l=await transform(o,n);if(!l)return;let{code:rr}=l;return rr}const compiler=esCompat(_importSync20);let processor,fetchingPromise;async function preprocess(tr,n){if(fetchingPromise||(fetchingPromise=__vitePreload(()=>import("./standalone-D7mgfpjU.js"),[])),!processor){let{Preprocessor:o}=await fetchingPromise;processor=new o}return processor.process(tr,`${n}.js`)}async function transform(tr,n,o={}){let l=await __vitePreload(()=>import("./babel-BaGtMofr.js").then(rr=>rr.b),__vite__mapDeps([0,1]));return l.transform(tr,{filename:`${n}.js`,plugins:[[babelPluginEmberTemplateCompilation,{compiler}],[l.availablePlugins["proposal-decorators"],{legacy:!0}],[l.availablePlugins["proposal-class-properties"]]],presets:[[l.availablePresets.env,{modules:"cjs",targets:{esmodules:!0},forceAllTransforms:!1,...o}]]})}export{compileJS};
